var cu=Object.defineProperty;var Ra=s=>{throw TypeError(s)};var uu=(s,e,t)=>e in s?cu(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Tt=(s,e,t)=>uu(s,typeof e!="symbol"?e+"":e,t),Yn=(s,e,t)=>e.has(s)||Ra("Cannot "+t);var b=(s,e,t)=>(Yn(s,e,"read from private field"),t?t.call(s):e.get(s)),W=(s,e,t)=>e.has(s)?Ra("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),L=(s,e,t,r)=>(Yn(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),Y=(s,e,t)=>(Yn(s,e,"access private method"),t);var an=(s,e,t,r)=>({set _(n){L(s,e,n,t)},get _(){return b(s,e,r)}});import{r as _,b as du,g as In,a as yt}from"./vendor-CvSz1nqv.js";import{u as aa,L as me,a as hu,b as bl,c as vl,N as fu,d as wl,O as pu,R as mu,e as Te,B as gu}from"./router-C6a1dtRl.js";import{G as yu,C as bu,a as bn,M as vu,S as xl,F as wu,I as xu,T as ju,Y as Su,b as jl,P as ku,c as _u,H as oa,A as $u,d as la,Q as Cu,e as ca,f as Sl,g as kl,B as Ou,h as Pu,X as Xr,i as Xn,j as Eu,R as Tu,k as _l,l as Ln,m as Nu,n as Ir,o as Au,p as ua,U as Ru,q as Iu,r as yi,s as Lu,t as Du,L as Mu,u as $l,v as Fu,w as Cl,x as Uu,y as Bu,z as zu,E as qu,D as Hu,J as Ol,K as Wu}from"./ui-D9YAdWCz.js";import{A as er,m as q,u as Vu,a as Gu}from"./animation-BnUlZ-8g.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Pl={exports:{}},Dn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=_,Ju=Symbol.for("react.element"),Qu=Symbol.for("react.fragment"),Yu=Object.prototype.hasOwnProperty,Xu=Ku.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zu={key:!0,ref:!0,__self:!0,__source:!0};function El(s,e,t){var r,n={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Yu.call(e,r)&&!Zu.hasOwnProperty(r)&&(n[r]=e[r]);if(s&&s.defaultProps)for(r in e=s.defaultProps,e)n[r]===void 0&&(n[r]=e[r]);return{$$typeof:Ju,type:s,key:i,ref:a,props:n,_owner:Xu.current}}Dn.Fragment=Qu;Dn.jsx=El;Dn.jsxs=El;Pl.exports=Dn;var o=Pl.exports,bi={},Ia=du;bi.createRoot=Ia.createRoot,bi.hydrateRoot=Ia.hydrateRoot;var wr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ed={setTimeout:(s,e)=>setTimeout(s,e),clearTimeout:s=>clearTimeout(s),setInterval:(s,e)=>setInterval(s,e),clearInterval:s=>clearInterval(s)},Xt,ia,ol,td=(ol=class{constructor(){W(this,Xt,ed);W(this,ia,!1)}setTimeoutProvider(s){L(this,Xt,s)}setTimeout(s,e){return b(this,Xt).setTimeout(s,e)}clearTimeout(s){b(this,Xt).clearTimeout(s)}setInterval(s,e){return b(this,Xt).setInterval(s,e)}clearInterval(s){b(this,Xt).clearInterval(s)}},Xt=new WeakMap,ia=new WeakMap,ol),ws=new td;function sd(s){setTimeout(s,0)}var Rs=typeof window>"u"||"Deno"in globalThis;function Ke(){}function rd(s,e){return typeof s=="function"?s(e):s}function vi(s){return typeof s=="number"&&s>=0&&s!==1/0}function Tl(s,e){return Math.max(s+(e||0)-Date.now(),0)}function os(s,e){return typeof s=="function"?s(e):s}function ct(s,e){return typeof s=="function"?s(e):s}function La(s,e){const{type:t="all",exact:r,fetchStatus:n,predicate:i,queryKey:a,stale:l}=s;if(a){if(r){if(e.queryHash!==da(a,e.options))return!1}else if(!Lr(e.queryKey,a))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||n&&n!==e.state.fetchStatus||i&&!i(e))}function Da(s,e){const{exact:t,status:r,predicate:n,mutationKey:i}=s;if(i){if(!e.options.mutationKey)return!1;if(t){if(Is(e.options.mutationKey)!==Is(i))return!1}else if(!Lr(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function da(s,e){return((e==null?void 0:e.queryKeyHashFn)||Is)(s)}function Is(s){return JSON.stringify(s,(e,t)=>wi(t)?Object.keys(t).sort().reduce((r,n)=>(r[n]=t[n],r),{}):t)}function Lr(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>Lr(s[t],e[t])):!1}var nd=Object.prototype.hasOwnProperty;function Nl(s,e){if(s===e)return s;const t=Ma(s)&&Ma(e);if(!t&&!(wi(s)&&wi(e)))return e;const n=(t?s:Object.keys(s)).length,i=t?e:Object.keys(e),a=i.length,l=t?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=t?u:i[u],h=s[d],p=e[d];if(h===p){l[d]=h,(t?u<n:nd.call(s,d))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){l[d]=p;continue}const f=Nl(h,p);l[d]=f,f===h&&c++}return n===a&&c===n?s:l}function Sn(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function Ma(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function wi(s){if(!Fa(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Fa(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Fa(s){return Object.prototype.toString.call(s)==="[object Object]"}function id(s){return new Promise(e=>{ws.setTimeout(e,s)})}function xi(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?Nl(s,e):e}function ad(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function od(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var ha=Symbol();function Al(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===ha?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function fa(s,e){return typeof s=="function"?s(...e):!!s}function ld(s,e,t){let r=!1,n;return Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(n??(n=e()),r||(r=!0,n.aborted?t():n.addEventListener("abort",t,{once:!0})),n)}),s}var js,Zt,ir,ll,cd=(ll=class extends wr{constructor(){super();W(this,js);W(this,Zt);W(this,ir);L(this,ir,e=>{if(!Rs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){b(this,Zt)||this.setEventListener(b(this,ir))}onUnsubscribe(){var e;this.hasListeners()||((e=b(this,Zt))==null||e.call(this),L(this,Zt,void 0))}setEventListener(e){var t;L(this,ir,e),(t=b(this,Zt))==null||t.call(this),L(this,Zt,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){b(this,js)!==e&&(L(this,js,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof b(this,js)=="boolean"?b(this,js):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},js=new WeakMap,Zt=new WeakMap,ir=new WeakMap,ll),pa=new cd;function ji(){let s,e;const t=new Promise((n,i)=>{s=n,e=i});t.status="pending",t.catch(()=>{});function r(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{r({status:"fulfilled",value:n}),s(n)},t.reject=n=>{r({status:"rejected",reason:n}),e(n)},t}var ud=sd;function dd(){let s=[],e=0,t=l=>{l()},r=l=>{l()},n=ud;const i=l=>{e?s.push(l):n(()=>{t(l)})},a=()=>{const l=s;s=[],l.length&&n(()=>{r(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var Re=dd(),ar,es,or,cl,hd=(cl=class extends wr{constructor(){super();W(this,ar,!0);W(this,es);W(this,or);L(this,or,e=>{if(!Rs&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){b(this,es)||this.setEventListener(b(this,or))}onUnsubscribe(){var e;this.hasListeners()||((e=b(this,es))==null||e.call(this),L(this,es,void 0))}setEventListener(e){var t;L(this,or,e),(t=b(this,es))==null||t.call(this),L(this,es,e(this.setOnline.bind(this)))}setOnline(e){b(this,ar)!==e&&(L(this,ar,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return b(this,ar)}},ar=new WeakMap,es=new WeakMap,or=new WeakMap,cl),kn=new hd;function fd(s){return Math.min(1e3*2**s,3e4)}function Rl(s){return(s??"online")==="online"?kn.isOnline():!0}var Si=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Il(s){let e=!1,t=0,r;const n=ji(),i=()=>n.status!=="pending",a=y=>{var g;if(!i()){const v=new Si(y);p(v),(g=s.onCancel)==null||g.call(s,v)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>pa.isFocused()&&(s.networkMode==="always"||kn.isOnline())&&s.canRun(),d=()=>Rl(s.networkMode)&&s.canRun(),h=y=>{i()||(r==null||r(),n.resolve(y))},p=y=>{i()||(r==null||r(),n.reject(y))},f=()=>new Promise(y=>{var g;r=v=>{(i()||u())&&y(v)},(g=s.onPause)==null||g.call(s)}).then(()=>{var y;r=void 0,i()||(y=s.onContinue)==null||y.call(s)}),m=()=>{if(i())return;let y;const g=t===0?s.initialPromise:void 0;try{y=g??s.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{var O;if(i())return;const w=s.retry??(Rs?0:3),x=s.retryDelay??fd,j=typeof x=="function"?x(t,v):x,S=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,v);if(e||!S){p(v);return}t++,(O=s.onFail)==null||O.call(s,t,v),id(j).then(()=>u()?void 0:f()).then(()=>{e?p(v):m()})})};return{promise:n,status:()=>n.status,cancel:a,continue:()=>(r==null||r(),n),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():f().then(m),n)}}var Ss,ul,Ll=(ul=class{constructor(){W(this,Ss)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vi(this.gcTime)&&L(this,Ss,ws.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Rs?1/0:5*60*1e3))}clearGcTimeout(){b(this,Ss)&&(ws.clearTimeout(b(this,Ss)),L(this,Ss,void 0))}},Ss=new WeakMap,ul),ks,lr,lt,_s,Ie,Gr,$s,pt,Rt,dl,pd=(dl=class extends Ll{constructor(e){super();W(this,pt);W(this,ks);W(this,lr);W(this,lt);W(this,_s);W(this,Ie);W(this,Gr);W(this,$s);L(this,$s,!1),L(this,Gr,e.defaultOptions),this.setOptions(e.options),this.observers=[],L(this,_s,e.client),L(this,lt,b(this,_s).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,L(this,ks,Ba(this.options)),this.state=e.state??b(this,ks),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=b(this,Ie))==null?void 0:e.promise}setOptions(e){if(this.options={...b(this,Gr),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ba(this.options);t.data!==void 0&&(this.setState(Ua(t.data,t.dataUpdatedAt)),L(this,ks,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&b(this,lt).remove(this)}setData(e,t){const r=xi(this.state.data,e,this.options);return Y(this,pt,Rt).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Y(this,pt,Rt).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,n;const t=(r=b(this,Ie))==null?void 0:r.promise;return(n=b(this,Ie))==null||n.cancel(e),t?t.then(Ke).catch(Ke):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,ks))}isActive(){return this.observers.some(e=>ct(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ha||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>os(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Tl(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=b(this,Ie))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=b(this,Ie))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),b(this,lt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(b(this,Ie)&&(b(this,$s)?b(this,Ie).cancel({revert:!0}):b(this,Ie).cancelRetry()),this.scheduleGc()),b(this,lt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Y(this,pt,Rt).call(this,{type:"invalidate"})}async fetch(e,t){var c,u,d,h,p,f,m,y,g,v,w,x;if(this.state.fetchStatus!=="idle"&&((c=b(this,Ie))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(b(this,Ie))return b(this,Ie).continueRetry(),b(this,Ie).promise}if(e&&this.setOptions(e),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,n=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(L(this,$s,!0),r.signal)})},i=()=>{const j=Al(this.options,t),O=(()=>{const A={client:b(this,_s),queryKey:this.queryKey,meta:this.meta};return n(A),A})();return L(this,$s,!1),this.options.persister?this.options.persister(j,O,this):j(O)},l=(()=>{const j={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:b(this,_s),state:this.state,fetchFn:i};return n(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),L(this,lr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Y(this,pt,Rt).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),L(this,Ie,Il({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Si&&j.revert&&this.setState({...b(this,lr),fetchStatus:"idle"}),r.abort()},onFail:(j,S)=>{Y(this,pt,Rt).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{Y(this,pt,Rt).call(this,{type:"pause"})},onContinue:()=>{Y(this,pt,Rt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await b(this,Ie).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(f=(p=b(this,lt).config).onSuccess)==null||f.call(p,j,this),(y=(m=b(this,lt).config).onSettled)==null||y.call(m,j,this.state.error,this),j}catch(j){if(j instanceof Si){if(j.silent)return b(this,Ie).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Y(this,pt,Rt).call(this,{type:"error",error:j}),(v=(g=b(this,lt).config).onError)==null||v.call(g,j,this),(x=(w=b(this,lt).config).onSettled)==null||x.call(w,this.state.data,j,this),j}finally{this.scheduleGc()}}},ks=new WeakMap,lr=new WeakMap,lt=new WeakMap,_s=new WeakMap,Ie=new WeakMap,Gr=new WeakMap,$s=new WeakMap,pt=new WeakSet,Rt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Dl(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...Ua(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return L(this,lr,e.manual?n:void 0),n;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Re.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),b(this,lt).notify({query:this,type:"updated",action:e})})},dl);function Dl(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rl(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Ua(s,e){return{data:s,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ba(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ye,re,Kr,Ve,Cs,cr,Dt,ts,Jr,ur,dr,Os,Ps,ss,hr,ue,Or,ki,_i,$i,Ci,Oi,Pi,Ei,Ml,hl,md=(hl=class extends wr{constructor(e,t){super();W(this,ue);W(this,Ye);W(this,re);W(this,Kr);W(this,Ve);W(this,Cs);W(this,cr);W(this,Dt);W(this,ts);W(this,Jr);W(this,ur);W(this,dr);W(this,Os);W(this,Ps);W(this,ss);W(this,hr,new Set);this.options=t,L(this,Ye,e),L(this,ts,null),L(this,Dt,ji()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(b(this,re).addObserver(this),za(b(this,re),this.options)?Y(this,ue,Or).call(this):this.updateResult(),Y(this,ue,Ci).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ti(b(this,re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ti(b(this,re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,ue,Oi).call(this),Y(this,ue,Pi).call(this),b(this,re).removeObserver(this)}setOptions(e){const t=this.options,r=b(this,re);if(this.options=b(this,Ye).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ct(this.options.enabled,b(this,re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Y(this,ue,Ei).call(this),b(this,re).setOptions(this.options),t._defaulted&&!Sn(this.options,t)&&b(this,Ye).getQueryCache().notify({type:"observerOptionsUpdated",query:b(this,re),observer:this});const n=this.hasListeners();n&&qa(b(this,re),r,this.options,t)&&Y(this,ue,Or).call(this),this.updateResult(),n&&(b(this,re)!==r||ct(this.options.enabled,b(this,re))!==ct(t.enabled,b(this,re))||os(this.options.staleTime,b(this,re))!==os(t.staleTime,b(this,re)))&&Y(this,ue,ki).call(this);const i=Y(this,ue,_i).call(this);n&&(b(this,re)!==r||ct(this.options.enabled,b(this,re))!==ct(t.enabled,b(this,re))||i!==b(this,ss))&&Y(this,ue,$i).call(this,i)}getOptimisticResult(e){const t=b(this,Ye).getQueryCache().build(b(this,Ye),e),r=this.createResult(t,e);return yd(this,r)&&(L(this,Ve,r),L(this,cr,this.options),L(this,Cs,b(this,re).state)),r}getCurrentResult(){return b(this,Ve)}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t==null||t(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&b(this,Dt).status==="pending"&&b(this,Dt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){b(this,hr).add(e)}getCurrentQuery(){return b(this,re)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=b(this,Ye).defaultQueryOptions(e),r=b(this,Ye).getQueryCache().build(b(this,Ye),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Y(this,ue,Or).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),b(this,Ve)))}createResult(e,t){var R;const r=b(this,re),n=this.options,i=b(this,Ve),a=b(this,Cs),l=b(this,cr),u=e!==r?e.state:b(this,Kr),{state:d}=e;let h={...d},p=!1,f;if(t._optimisticResults){const I=this.hasListeners(),V=!I&&za(e,t),ne=I&&qa(e,r,t,n);(V||ne)&&(h={...h,...Dl(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:g}=h;f=h.data;let v=!1;if(t.placeholderData!==void 0&&f===void 0&&g==="pending"){let I;i!=null&&i.isPlaceholderData&&t.placeholderData===(l==null?void 0:l.placeholderData)?(I=i.data,v=!0):I=typeof t.placeholderData=="function"?t.placeholderData((R=b(this,dr))==null?void 0:R.state.data,b(this,dr)):t.placeholderData,I!==void 0&&(g="success",f=xi(i==null?void 0:i.data,I,t),p=!0)}if(t.select&&f!==void 0&&!v)if(i&&f===(a==null?void 0:a.data)&&t.select===b(this,Jr))f=b(this,ur);else try{L(this,Jr,t.select),f=t.select(f),f=xi(i==null?void 0:i.data,f,t),L(this,ur,f),L(this,ts,null)}catch(I){L(this,ts,I)}b(this,ts)&&(m=b(this,ts),f=b(this,ur),y=Date.now(),g="error");const w=h.fetchStatus==="fetching",x=g==="pending",j=g==="error",S=x&&w,O=f!==void 0,$={status:g,fetchStatus:h.fetchStatus,isPending:x,isSuccess:g==="success",isError:j,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!x,isLoadingError:j&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:j&&O,isStale:ma(e,t),refetch:this.refetch,promise:b(this,Dt),isEnabled:ct(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=ie=>{$.status==="error"?ie.reject($.error):$.data!==void 0&&ie.resolve($.data)},V=()=>{const ie=L(this,Dt,$.promise=ji());I(ie)},ne=b(this,Dt);switch(ne.status){case"pending":e.queryHash===r.queryHash&&I(ne);break;case"fulfilled":($.status==="error"||$.data!==ne.value)&&V();break;case"rejected":($.status!=="error"||$.error!==ne.reason)&&V();break}}return $}updateResult(){const e=b(this,Ve),t=this.createResult(b(this,re),this.options);if(L(this,Cs,b(this,re).state),L(this,cr,this.options),b(this,Cs).data!==void 0&&L(this,dr,b(this,re)),Sn(t,e))return;L(this,Ve,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!b(this,hr).size)return!0;const a=new Set(i??b(this,hr));return this.options.throwOnError&&a.add("error"),Object.keys(b(this,Ve)).some(l=>{const c=l;return b(this,Ve)[c]!==e[c]&&a.has(c)})};Y(this,ue,Ml).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,ue,Ci).call(this)}},Ye=new WeakMap,re=new WeakMap,Kr=new WeakMap,Ve=new WeakMap,Cs=new WeakMap,cr=new WeakMap,Dt=new WeakMap,ts=new WeakMap,Jr=new WeakMap,ur=new WeakMap,dr=new WeakMap,Os=new WeakMap,Ps=new WeakMap,ss=new WeakMap,hr=new WeakMap,ue=new WeakSet,Or=function(e){Y(this,ue,Ei).call(this);let t=b(this,re).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Ke)),t},ki=function(){Y(this,ue,Oi).call(this);const e=os(this.options.staleTime,b(this,re));if(Rs||b(this,Ve).isStale||!vi(e))return;const r=Tl(b(this,Ve).dataUpdatedAt,e)+1;L(this,Os,ws.setTimeout(()=>{b(this,Ve).isStale||this.updateResult()},r))},_i=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(b(this,re)):this.options.refetchInterval)??!1},$i=function(e){Y(this,ue,Pi).call(this),L(this,ss,e),!(Rs||ct(this.options.enabled,b(this,re))===!1||!vi(b(this,ss))||b(this,ss)===0)&&L(this,Ps,ws.setInterval(()=>{(this.options.refetchIntervalInBackground||pa.isFocused())&&Y(this,ue,Or).call(this)},b(this,ss)))},Ci=function(){Y(this,ue,ki).call(this),Y(this,ue,$i).call(this,Y(this,ue,_i).call(this))},Oi=function(){b(this,Os)&&(ws.clearTimeout(b(this,Os)),L(this,Os,void 0))},Pi=function(){b(this,Ps)&&(ws.clearInterval(b(this,Ps)),L(this,Ps,void 0))},Ei=function(){const e=b(this,Ye).getQueryCache().build(b(this,Ye),this.options);if(e===b(this,re))return;const t=b(this,re);L(this,re,e),L(this,Kr,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},Ml=function(e){Re.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(b(this,Ve))}),b(this,Ye).getQueryCache().notify({query:b(this,re),type:"observerResultsUpdated"})})},hl);function gd(s,e){return ct(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function za(s,e){return gd(s,e)||s.state.data!==void 0&&Ti(s,e,e.refetchOnMount)}function Ti(s,e,t){if(ct(e.enabled,s)!==!1&&os(e.staleTime,s)!=="static"){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&ma(s,e)}return!1}function qa(s,e,t,r){return(s!==e||ct(r.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&ma(s,t)}function ma(s,e){return ct(e.enabled,s)!==!1&&s.isStaleByTime(os(e.staleTime,s))}function yd(s,e){return!Sn(s.getCurrentResult(),e)}function Ha(s){return{onFetch:(e,t)=>{var d,h,p,f,m;const r=e.options,n=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const g=x=>{ld(x,()=>e.signal,()=>y=!0)},v=Al(e.options,e.fetchOptions),w=async(x,j,S)=>{if(y)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:j,direction:S?"backward":"forward",meta:e.options.meta};return g(V),V})(),$=await v(A),{maxPages:R}=e.options,I=S?od:ad;return{pages:I(x.pages,$,R),pageParams:I(x.pageParams,j,R)}};if(n&&i.length){const x=n==="backward",j=x?bd:Wa,S={pages:i,pageParams:a},O=j(r,S);l=await w(S,O,x)}else{const x=s??i.length;do{const j=c===0?a[0]??r.initialPageParam:Wa(r,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var y,g;return(g=(y=e.options).persister)==null?void 0:g.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function Wa(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function bd(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var Qr,jt,Ge,Es,St,Gt,fl,vd=(fl=class extends Ll{constructor(e){super();W(this,St);W(this,Qr);W(this,jt);W(this,Ge);W(this,Es);L(this,Qr,e.client),this.mutationId=e.mutationId,L(this,Ge,e.mutationCache),L(this,jt,[]),this.state=e.state||Fl(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){b(this,jt).includes(e)||(b(this,jt).push(e),this.clearGcTimeout(),b(this,Ge).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){L(this,jt,b(this,jt).filter(t=>t!==e)),this.scheduleGc(),b(this,Ge).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){b(this,jt).length||(this.state.status==="pending"?this.scheduleGc():b(this,Ge).remove(this))}continue(){var e;return((e=b(this,Es))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,d,h,p,f,m,y,g,v,w,x,j,S,O,A,$,R;const t=()=>{Y(this,St,Gt).call(this,{type:"continue"})},r={client:b(this,Qr),meta:this.options.meta,mutationKey:this.options.mutationKey};L(this,Es,Il({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(I,V)=>{Y(this,St,Gt).call(this,{type:"failed",failureCount:I,error:V})},onPause:()=>{Y(this,St,Gt).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>b(this,Ge).canRun(this)}));const n=this.state.status==="pending",i=!b(this,Es).canStart();try{if(n)t();else{Y(this,St,Gt).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(a=b(this,Ge).config).onMutate)==null?void 0:l.call(a,e,this,r));const V=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));V!==this.state.context&&Y(this,St,Gt).call(this,{type:"pending",context:V,variables:e,isPaused:i})}const I=await b(this,Es).start();return await((h=(d=b(this,Ge).config).onSuccess)==null?void 0:h.call(d,I,e,this.state.context,this,r)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,I,e,this.state.context,r)),await((y=(m=b(this,Ge).config).onSettled)==null?void 0:y.call(m,I,null,this.state.variables,this.state.context,this,r)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,I,null,e,this.state.context,r)),Y(this,St,Gt).call(this,{type:"success",data:I}),I}catch(I){try{await((x=(w=b(this,Ge).config).onError)==null?void 0:x.call(w,I,e,this.state.context,this,r))}catch(V){Promise.reject(V)}try{await((S=(j=this.options).onError)==null?void 0:S.call(j,I,e,this.state.context,r))}catch(V){Promise.reject(V)}try{await((A=(O=b(this,Ge).config).onSettled)==null?void 0:A.call(O,void 0,I,this.state.variables,this.state.context,this,r))}catch(V){Promise.reject(V)}try{await((R=($=this.options).onSettled)==null?void 0:R.call($,void 0,I,e,this.state.context,r))}catch(V){Promise.reject(V)}throw Y(this,St,Gt).call(this,{type:"error",error:I}),I}finally{b(this,Ge).runNext(this)}}},Qr=new WeakMap,jt=new WeakMap,Ge=new WeakMap,Es=new WeakMap,St=new WeakSet,Gt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Re.batch(()=>{b(this,jt).forEach(r=>{r.onMutationUpdate(e)}),b(this,Ge).notify({mutation:this,type:"updated",action:e})})},fl);function Fl(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mt,mt,Yr,pl,wd=(pl=class extends wr{constructor(e={}){super();W(this,Mt);W(this,mt);W(this,Yr);this.config=e,L(this,Mt,new Set),L(this,mt,new Map),L(this,Yr,0)}build(e,t,r){const n=new vd({client:e,mutationCache:this,mutationId:++an(this,Yr)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){b(this,Mt).add(e);const t=on(e);if(typeof t=="string"){const r=b(this,mt).get(t);r?r.push(e):b(this,mt).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(b(this,Mt).delete(e)){const t=on(e);if(typeof t=="string"){const r=b(this,mt).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&b(this,mt).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=on(e);if(typeof t=="string"){const r=b(this,mt).get(t),n=r==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var r;const t=on(e);if(typeof t=="string"){const n=(r=b(this,mt).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Re.batch(()=>{b(this,Mt).forEach(e=>{this.notify({type:"removed",mutation:e})}),b(this,Mt).clear(),b(this,mt).clear()})}getAll(){return Array.from(b(this,Mt))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Da(t,r))}findAll(e={}){return this.getAll().filter(t=>Da(e,t))}notify(e){Re.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Re.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ke))))}},Mt=new WeakMap,mt=new WeakMap,Yr=new WeakMap,pl);function on(s){var e;return(e=s.options.scope)==null?void 0:e.id}var Ft,rs,Xe,Ut,Bt,vn,Ni,ml,xd=(ml=class extends wr{constructor(t,r){super();W(this,Bt);W(this,Ft);W(this,rs);W(this,Xe);W(this,Ut);L(this,Ft,t),this.setOptions(r),this.bindMethods(),Y(this,Bt,vn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=b(this,Ft).defaultMutationOptions(t),Sn(this.options,r)||b(this,Ft).getMutationCache().notify({type:"observerOptionsUpdated",mutation:b(this,Xe),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Is(r.mutationKey)!==Is(this.options.mutationKey)?this.reset():((n=b(this,Xe))==null?void 0:n.state.status)==="pending"&&b(this,Xe).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=b(this,Xe))==null||t.removeObserver(this)}onMutationUpdate(t){Y(this,Bt,vn).call(this),Y(this,Bt,Ni).call(this,t)}getCurrentResult(){return b(this,rs)}reset(){var t;(t=b(this,Xe))==null||t.removeObserver(this),L(this,Xe,void 0),Y(this,Bt,vn).call(this),Y(this,Bt,Ni).call(this)}mutate(t,r){var n;return L(this,Ut,r),(n=b(this,Xe))==null||n.removeObserver(this),L(this,Xe,b(this,Ft).getMutationCache().build(b(this,Ft),this.options)),b(this,Xe).addObserver(this),b(this,Xe).execute(t)}},Ft=new WeakMap,rs=new WeakMap,Xe=new WeakMap,Ut=new WeakMap,Bt=new WeakSet,vn=function(){var r;const t=((r=b(this,Xe))==null?void 0:r.state)??Fl();L(this,rs,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Ni=function(t){Re.batch(()=>{var r,n,i,a,l,c,u,d;if(b(this,Ut)&&this.hasListeners()){const h=b(this,rs).variables,p=b(this,rs).context,f={client:b(this,Ft),meta:this.options.meta,mutationKey:this.options.mutationKey};if((t==null?void 0:t.type)==="success"){try{(n=(r=b(this,Ut)).onSuccess)==null||n.call(r,t.data,h,p,f)}catch(m){Promise.reject(m)}try{(a=(i=b(this,Ut)).onSettled)==null||a.call(i,t.data,null,h,p,f)}catch(m){Promise.reject(m)}}else if((t==null?void 0:t.type)==="error"){try{(c=(l=b(this,Ut)).onError)==null||c.call(l,t.error,h,p,f)}catch(m){Promise.reject(m)}try{(d=(u=b(this,Ut)).onSettled)==null||d.call(u,void 0,t.error,h,p,f)}catch(m){Promise.reject(m)}}}this.listeners.forEach(h=>{h(b(this,rs))})})},ml),kt,gl,jd=(gl=class extends wr{constructor(e={}){super();W(this,kt);this.config=e,L(this,kt,new Map)}build(e,t,r){const n=t.queryKey,i=t.queryHash??da(n,t);let a=this.get(i);return a||(a=new pd({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){b(this,kt).has(e.queryHash)||(b(this,kt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=b(this,kt).get(e.queryHash);t&&(e.destroy(),t===e&&b(this,kt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Re.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return b(this,kt).get(e)}getAll(){return[...b(this,kt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>La(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>La(e,r)):t}notify(e){Re.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Re.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Re.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kt=new WeakMap,gl),ke,ns,is,fr,pr,as,mr,gr,yl,Sd=(yl=class{constructor(s={}){W(this,ke);W(this,ns);W(this,is);W(this,fr);W(this,pr);W(this,as);W(this,mr);W(this,gr);L(this,ke,s.queryCache||new jd),L(this,ns,s.mutationCache||new wd),L(this,is,s.defaultOptions||{}),L(this,fr,new Map),L(this,pr,new Map),L(this,as,0)}mount(){an(this,as)._++,b(this,as)===1&&(L(this,mr,pa.subscribe(async s=>{s&&(await this.resumePausedMutations(),b(this,ke).onFocus())})),L(this,gr,kn.subscribe(async s=>{s&&(await this.resumePausedMutations(),b(this,ke).onOnline())})))}unmount(){var s,e;an(this,as)._--,b(this,as)===0&&((s=b(this,mr))==null||s.call(this),L(this,mr,void 0),(e=b(this,gr))==null||e.call(this),L(this,gr,void 0))}isFetching(s){return b(this,ke).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return b(this,ns).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=b(this,ke).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=b(this,ke).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(os(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(s){return b(this,ke).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),n=b(this,ke).get(r.queryHash),i=n==null?void 0:n.state.data,a=rd(e,i);if(a!==void 0)return b(this,ke).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(s,e,t){return Re.batch(()=>b(this,ke).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=b(this,ke).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=b(this,ke);Re.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=b(this,ke);return Re.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},r=Re.batch(()=>b(this,ke).findAll(s).map(n=>n.cancel(t)));return Promise.all(r).then(Ke).catch(Ke)}invalidateQueries(s,e={}){return Re.batch(()=>(b(this,ke).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Re.batch(()=>b(this,ke).findAll(s).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(Ke)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ke)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=b(this,ke).build(this,e);return t.isStaleByTime(os(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Ke).catch(Ke)}fetchInfiniteQuery(s){return s.behavior=Ha(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Ke).catch(Ke)}ensureInfiniteQueryData(s){return s.behavior=Ha(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return kn.isOnline()?b(this,ns).resumePausedMutations():Promise.resolve()}getQueryCache(){return b(this,ke)}getMutationCache(){return b(this,ns)}getDefaultOptions(){return b(this,is)}setDefaultOptions(s){L(this,is,s)}setQueryDefaults(s,e){b(this,fr).set(Is(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...b(this,fr).values()],t={};return e.forEach(r=>{Lr(s,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(s,e){b(this,pr).set(Is(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...b(this,pr).values()],t={};return e.forEach(r=>{Lr(s,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...b(this,is).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=da(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ha&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...b(this,is).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){b(this,ke).clear(),b(this,ns).clear()}},ke=new WeakMap,ns=new WeakMap,is=new WeakMap,fr=new WeakMap,pr=new WeakMap,as=new WeakMap,mr=new WeakMap,gr=new WeakMap,yl),Ul=_.createContext(void 0),ga=s=>{const e=_.useContext(Ul);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kd=({client:s,children:e})=>(_.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),o.jsx(Ul.Provider,{value:s,children:e})),Bl=_.createContext(!1),_d=()=>_.useContext(Bl);Bl.Provider;function $d(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Cd=_.createContext($d()),Od=()=>_.useContext(Cd),Pd=(s,e,t)=>{const r=t!=null&&t.state.error&&typeof s.throwOnError=="function"?fa(s.throwOnError,[t.state.error,t]):s.throwOnError;(s.suspense||s.experimental_prefetchInRender||r)&&(e.isReset()||(s.retryOnMount=!1))},Ed=s=>{_.useEffect(()=>{s.clearReset()},[s])},Td=({result:s,errorResetBoundary:e,throwOnError:t,query:r,suspense:n})=>s.isError&&!e.isReset()&&!s.isFetching&&r&&(n&&s.data===void 0||fa(t,[s.error,r])),Nd=s=>{if(s.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=s.staleTime;s.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},Ad=(s,e)=>s.isLoading&&s.isFetching&&!e,Rd=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,Va=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function Id(s,e,t){var p,f,m,y;const r=_d(),n=Od(),i=ga(),a=i.defaultQueryOptions(s);(f=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,a);const l=i.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",Nd(a),Pd(a,n,l),Ed(n);const c=!i.getQueryCache().get(a.queryHash),[u]=_.useState(()=>new e(i,a)),d=u.getOptimisticResult(a),h=!r&&s.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(g=>{const v=h?u.subscribe(Re.batchCalls(g)):Ke;return u.updateResult(),v},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_.useEffect(()=>{u.setOptions(a)},[a,u]),Rd(a,d))throw Va(a,u,n);if(Td({result:d,errorResetBoundary:n,throwOnError:a.throwOnError,query:l,suspense:a.suspense}))throw d.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!Rs&&Ad(d,r)){const g=c?Va(a,u,n):l==null?void 0:l.promise;g==null||g.catch(Ke).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function Mn(s,e){return Id(s,md)}function Ld(s,e){const t=ga(),[r]=_.useState(()=>new xd(t,s));_.useEffect(()=>{r.setOptions(s)},[r,s]);const n=_.useSyncExternalStore(_.useCallback(a=>r.subscribe(Re.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=_.useCallback((a,l)=>{r.mutate(a,l).catch(Ke)},[r]);if(n.error&&fa(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}var Dd=typeof Element<"u",Md=typeof Map=="function",Fd=typeof Set=="function",Ud=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wn(s,e){if(s===e)return!0;if(s&&e&&typeof s=="object"&&typeof e=="object"){if(s.constructor!==e.constructor)return!1;var t,r,n;if(Array.isArray(s)){if(t=s.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!wn(s[r],e[r]))return!1;return!0}var i;if(Md&&s instanceof Map&&e instanceof Map){if(s.size!==e.size)return!1;for(i=s.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=s.entries();!(r=i.next()).done;)if(!wn(r.value[1],e.get(r.value[0])))return!1;return!0}if(Fd&&s instanceof Set&&e instanceof Set){if(s.size!==e.size)return!1;for(i=s.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(Ud&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(e)){if(t=s.length,t!=e.length)return!1;for(r=t;r--!==0;)if(s[r]!==e[r])return!1;return!0}if(s.constructor===RegExp)return s.source===e.source&&s.flags===e.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof e.valueOf=="function")return s.valueOf()===e.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof e.toString=="function")return s.toString()===e.toString();if(n=Object.keys(s),t=n.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[r]))return!1;if(Dd&&s instanceof Element)return!1;for(r=t;r--!==0;)if(!((n[r]==="_owner"||n[r]==="__v"||n[r]==="__o")&&s.$$typeof)&&!wn(s[n[r]],e[n[r]]))return!1;return!0}return s!==s&&e!==e}var Bd=function(e,t){try{return wn(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const zd=In(Bd);var qd=function(s,e,t,r,n,i,a,l){if(!s){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,r,n,i,a,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Hd=qd;const Ga=In(Hd);var Wd=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var d=a[u];if(!c(d))return!1;var h=e[d],p=t[d];if(i=r?r.call(n,h,p,d):void 0,i===!1||i===void 0&&h!==p)return!1}return!0};const Vd=In(Wd);var zl=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(zl||{}),Zn={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Ka=Object.values(zl),ya={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Gd=Object.entries(ya).reduce((s,[e,t])=>(s[t]=e,s),{}),bt="data-rh",tr={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},sr=(s,e)=>{for(let t=s.length-1;t>=0;t-=1){const r=s[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},Kd=s=>{let e=sr(s,"title");const t=sr(s,tr.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=sr(s,tr.DEFAULT_TITLE);return e||r||void 0},Jd=s=>sr(s,tr.ON_CHANGE_CLIENT_STATE)||(()=>{}),ei=(s,e)=>e.filter(t=>typeof t[s]<"u").map(t=>t[s]).reduce((t,r)=>({...t,...r}),{}),Qd=(s,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const n=Object.keys(r);for(let i=0;i<n.length;i+=1){const l=n[i].toLowerCase();if(s.indexOf(l)!==-1&&r[l])return t.concat(r)}}return t},[]),Yd=s=>console&&typeof console.warn=="function"&&console.warn(s),Sr=(s,e,t)=>{const r={};return t.filter(n=>Array.isArray(n[s])?!0:(typeof n[s]<"u"&&Yd(`Helmet: ${s} should be of type "Array". Instead found type "${typeof n[s]}"`),!1)).map(n=>n[s]).reverse().reduce((n,i)=>{const a={};i.filter(c=>{let u;const d=Object.keys(c);for(let p=0;p<d.length;p+=1){const f=d[p],m=f.toLowerCase();e.indexOf(m)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(m==="rel"&&c[m].toLowerCase()==="stylesheet")&&(u=m),e.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(u=f)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return r[u]||(r[u]={}),a[u]||(a[u]={}),r[u][h]?!1:(a[u][h]=!0,!0)}).reverse().forEach(c=>n.push(c));const l=Object.keys(a);for(let c=0;c<l.length;c+=1){const u=l[c],d={...r[u],...a[u]};r[u]=d}return n},[]).reverse()},Xd=(s,e)=>{if(Array.isArray(s)&&s.length){for(let t=0;t<s.length;t+=1)if(s[t][e])return!0}return!1},Zd=s=>({baseTag:Qd(["href"],s),bodyAttributes:ei("bodyAttributes",s),defer:sr(s,tr.DEFER),encode:sr(s,tr.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ei("htmlAttributes",s),linkTags:Sr("link",["rel","href"],s),metaTags:Sr("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:Sr("noscript",["innerHTML"],s),onChangeClientState:Jd(s),scriptTags:Sr("script",["src","innerHTML"],s),styleTags:Sr("style",["cssText"],s),title:Kd(s),titleAttributes:ei("titleAttributes",s),prioritizeSeoTags:Xd(s,tr.PRIORITIZE_SEO_TAGS)}),ql=s=>Array.isArray(s)?s.join(""):s,eh=(s,e)=>{const t=Object.keys(s);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(s[t[r]]))return!0;return!1},ti=(s,e)=>Array.isArray(s)?s.reduce((t,r)=>(eh(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:s,priority:[]},Ja=(s,e)=>({...s,[e]:void 0}),th=["noscript","script","style"],Ai=(s,e=!0)=>e===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Hl=s=>Object.keys(s).reduce((e,t)=>{const r=typeof s[t]<"u"?`${t}="${s[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),sh=(s,e,t,r)=>{const n=Hl(t),i=ql(e);return n?`<${s} ${bt}="true" ${n}>${Ai(i,r)}</${s}>`:`<${s} ${bt}="true">${Ai(i,r)}</${s}>`},rh=(s,e,t=!0)=>e.reduce((r,n)=>{const i=n,a=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof i[d]>"u"?d:`${d}="${Ai(i[d],t)}"`;return u?`${u} ${h}`:h},""),l=i.innerHTML||i.cssText||"",c=th.indexOf(s)===-1;return`${r}<${s} ${bt}="true" ${a}${c?"/>":`>${l}</${s}>`}`},""),Wl=(s,e={})=>Object.keys(s).reduce((t,r)=>{const n=ya[r];return t[n||r]=s[r],t},e),nh=(s,e,t)=>{const r={key:e,[bt]:!0},n=Wl(t,r);return[yt.createElement("title",n,e)]},xn=(s,e)=>e.map((t,r)=>{const n={key:r,[bt]:!0};return Object.keys(t).forEach(i=>{const l=ya[i]||i;if(l==="innerHTML"||l==="cssText"){const c=t.innerHTML||t.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[l]=t[i]}),yt.createElement(s,n)}),ot=(s,e,t=!0)=>{switch(s){case"title":return{toComponent:()=>nh(s,e.title,e.titleAttributes),toString:()=>sh(s,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Wl(e),toString:()=>Hl(e)};default:return{toComponent:()=>xn(s,e),toString:()=>rh(s,e,t)}}},ih=({metaTags:s,linkTags:e,scriptTags:t,encode:r})=>{const n=ti(s,Zn.meta),i=ti(e,Zn.link),a=ti(t,Zn.script);return{priorityMethods:{toComponent:()=>[...xn("meta",n.priority),...xn("link",i.priority),...xn("script",a.priority)],toString:()=>`${ot("meta",n.priority,r)} ${ot("link",i.priority,r)} ${ot("script",a.priority,r)}`},metaTags:n.default,linkTags:i.default,scriptTags:a.default}},ah=s=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:n,noscriptTags:i,styleTags:a,title:l="",titleAttributes:c,prioritizeSeoTags:u}=s;let{linkTags:d,metaTags:h,scriptTags:p}=s,f={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:f,linkTags:d,metaTags:h,scriptTags:p}=ih(s)),{priority:f,base:ot("base",e,r),bodyAttributes:ot("bodyAttributes",t,r),htmlAttributes:ot("htmlAttributes",n,r),link:ot("link",d,r),meta:ot("meta",h,r),noscript:ot("noscript",i,r),script:ot("script",p,r),style:ot("style",a,r),title:ot("title",{title:l,titleAttributes:c},r)}},Ri=ah,ln=[],Vl=!!(typeof window<"u"&&window.document&&window.document.createElement),Ii=class{constructor(s,e){Tt(this,"instances",[]);Tt(this,"canUseDOM",Vl);Tt(this,"context");Tt(this,"value",{setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?ln:this.instances,add:s=>{(this.canUseDOM?ln:this.instances).push(s)},remove:s=>{const e=(this.canUseDOM?ln:this.instances).indexOf(s);(this.canUseDOM?ln:this.instances).splice(e,1)}}});this.context=s,this.canUseDOM=e||!1,e||(s.helmet=Ri({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},oh={},Gl=yt.createContext(oh),Ts,Kl=(Ts=class extends _.Component{constructor(t){super(t);Tt(this,"helmetData");this.helmetData=new Ii(this.props.context||{},Ts.canUseDOM)}render(){return yt.createElement(Gl.Provider,{value:this.helmetData.value},this.props.children)}},Tt(Ts,"canUseDOM",Vl),Ts),Ds=(s,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${s}[${bt}]`),n=[].slice.call(r),i=[];let a;return e&&e.length&&e.forEach(l=>{const c=document.createElement(s);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,h=typeof l[d]>"u"?"":l[d];c.setAttribute(u,h)}c.setAttribute(bt,"true"),n.some((u,d)=>(a=d,c.isEqualNode(u)))?n.splice(a,1):i.push(c)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>t.appendChild(l)),{oldTags:n,newTags:i}},Li=(s,e)=>{const t=document.getElementsByTagName(s)[0];if(!t)return;const r=t.getAttribute(bt),n=r?r.split(","):[],i=[...n],a=Object.keys(e);for(const l of a){const c=e[l]||"";t.getAttribute(l)!==c&&t.setAttribute(l,c),n.indexOf(l)===-1&&n.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)t.removeAttribute(i[l]);n.length===i.length?t.removeAttribute(bt):t.getAttribute(bt)!==a.join(",")&&t.setAttribute(bt,a.join(","))},lh=(s,e)=>{typeof s<"u"&&document.title!==s&&(document.title=ql(s)),Li("title",e)},Qa=(s,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:n,linkTags:i,metaTags:a,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:p}=s;Li("body",r),Li("html",n),lh(h,p);const f={baseTag:Ds("base",t),linkTags:Ds("link",i),metaTags:Ds("meta",a),noscriptTags:Ds("noscript",l),scriptTags:Ds("script",u),styleTags:Ds("style",d)},m={},y={};Object.keys(f).forEach(g=>{const{newTags:v,oldTags:w}=f[g];v.length&&(m[g]=v),w.length&&(y[g]=f[g].oldTags)}),e&&e(),c(s,m,y)},kr=null,ch=s=>{kr&&cancelAnimationFrame(kr),s.defer?kr=requestAnimationFrame(()=>{Qa(s,()=>{kr=null})}):(Qa(s),kr=null)},uh=ch,Ya=class extends _.Component{constructor(){super(...arguments);Tt(this,"rendered",!1)}shouldComponentUpdate(e){return!Vd(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=Zd(e.get().map(i=>{const a={...i.props};return delete a.context,a}));Kl.canUseDOM?uh(n):Ri&&(r=Ri(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},gi,Fn=(gi=class extends _.Component{shouldComponentUpdate(s){return!zd(Ja(this.props,"helmetData"),Ja(s,"helmetData"))}mapNestedChildrenToProps(s,e){if(!e)return null;switch(s.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${s.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(s,e,t,r){return{...e,[s.type]:[...e[s.type]||[],{...t,...this.mapNestedChildrenToProps(s,r)}]}}mapObjectTypeChildren(s,e,t,r){switch(s.type){case"title":return{...e,[s.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[s.type]:{...t}}}}mapArrayTypeChildrenToProps(s,e){let t={...e};return Object.keys(s).forEach(r=>{t={...t,[r]:s[r]}}),t}warnOnInvalidChildren(s,e){return Ga(Ka.some(t=>s.type===t),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Ka.join(", ")} are allowed. Helmet does not support rendering <${s.type}> elements. Refer to our API for more information.`),Ga(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${s.type}>. Did you forget to wrap your children in braces? ( <${s.type}>{\`\`}</${s.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(s,e){let t={};return yt.Children.forEach(s,r=>{if(!r||!r.props)return;const{children:n,...i}=r.props,a=Object.keys(i).reduce((c,u)=>(c[Gd[u]||u]=i[u],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,n),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(n,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,a,n);break;default:e=this.mapObjectTypeChildren(r,e,a,n);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:s,...e}=this.props;let t={...e},{helmetData:r}=e;if(s&&(t=this.mapChildrenToProps(s,t)),r&&!(r instanceof Ii)){const n=r;r=new Ii(n.context,!0),delete t.helmetData}return r?yt.createElement(Ya,{...t,context:r.value}):yt.createElement(Gl.Consumer,null,n=>yt.createElement(Ya,{...t,context:n}))}},Tt(gi,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),gi);let dh={data:""},hh=s=>{if(typeof window=="object"){let e=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(s||document.head).appendChild(e),e.firstChild}return s||dh},fh=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ph=/\/\*[^]*?\*\/|  +/g,Xa=/\n+/g,Jt=(s,e)=>{let t="",r="",n="";for(let i in s){let a=s[i];i[0]=="@"?i[1]=="i"?t=i+" "+a+";":r+=i[1]=="f"?Jt(a,i):i+"{"+Jt(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Jt(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Jt.p?Jt.p(i,a):i+":"+a+";")}return t+(e&&n?e+"{"+n+"}":n)+r},Nt={},Jl=s=>{if(typeof s=="object"){let e="";for(let t in s)e+=t+Jl(s[t]);return e}return s},mh=(s,e,t,r,n)=>{let i=Jl(s),a=Nt[i]||(Nt[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Nt[a]){let c=i!==s?s:(u=>{let d,h,p=[{}];for(;d=fh.exec(u.replace(ph,""));)d[4]?p.shift():d[3]?(h=d[3].replace(Xa," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(Xa," ").trim();return p[0]})(s);Nt[a]=Jt(n?{["@keyframes "+a]:c}:c,t?"":"."+a)}let l=t&&Nt.g?Nt.g:null;return t&&(Nt.g=Nt[a]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Nt[a],e,r,l),a},gh=(s,e,t)=>s.reduce((r,n,i)=>{let a=e[i];if(a&&a.call){let l=a(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Jt(l,""):l===!1?"":l}return r+n+(a??"")},"");function Un(s){let e=this||{},t=s.call?s(e.p):s;return mh(t.unshift?t.raw?gh(t,[].slice.call(arguments,1),e.p):t.reduce((r,n)=>Object.assign(r,n&&n.call?n(e.p):n),{}):t,hh(e.target),e.g,e.o,e.k)}let Ql,Di,Mi;Un.bind({g:1});let zt=Un.bind({k:1});function yh(s,e,t,r){Jt.p=e,Ql=s,Di=t,Mi=r}function us(s,e){let t=this||{};return function(){let r=arguments;function n(i,a){let l=Object.assign({},i),c=l.className||n.className;t.p=Object.assign({theme:Di&&Di()},l),t.o=/ *go\d+/.test(c),l.className=Un.apply(t,r)+(c?" "+c:"");let u=s;return s[0]&&(u=l.as||s,delete l.as),Mi&&u[0]&&Mi(l),Ql(u,l)}return n}}var bh=s=>typeof s=="function",_n=(s,e)=>bh(s)?s(e):s,vh=(()=>{let s=0;return()=>(++s).toString()})(),Yl=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),wh=20,ba="default",Xl=(s,e)=>{let{toastLimit:t}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,t)};case 1:return{...s,toasts:s.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Xl(s,{type:s.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...s,toasts:s.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let i=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},jn=[],Zl={toasts:[],pausedAt:void 0,settings:{toastLimit:wh}},Ot={},ec=(s,e=ba)=>{Ot[e]=Xl(Ot[e]||Zl,s),jn.forEach(([t,r])=>{t===e&&r(Ot[e])})},tc=s=>Object.keys(Ot).forEach(e=>ec(s,e)),xh=s=>Object.keys(Ot).find(e=>Ot[e].toasts.some(t=>t.id===s)),Bn=(s=ba)=>e=>{ec(e,s)},jh={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Sh=(s={},e=ba)=>{let[t,r]=_.useState(Ot[e]||Zl),n=_.useRef(Ot[e]);_.useEffect(()=>(n.current!==Ot[e]&&r(Ot[e]),jn.push([e,r]),()=>{let a=jn.findIndex(([l])=>l===e);a>-1&&jn.splice(a,1)}),[e]);let i=t.toasts.map(a=>{var l,c,u;return{...s,...s[a.type],...a,removeDelay:a.removeDelay||((l=s[a.type])==null?void 0:l.removeDelay)||(s==null?void 0:s.removeDelay),duration:a.duration||((c=s[a.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||jh[a.type],style:{...s.style,...(u=s[a.type])==null?void 0:u.style,...a.style}}});return{...t,toasts:i}},kh=(s,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...t,id:(t==null?void 0:t.id)||vh()}),Zr=s=>(e,t)=>{let r=kh(e,s,t);return Bn(r.toasterId||xh(r.id))({type:2,toast:r}),r.id},le=(s,e)=>Zr("blank")(s,e);le.error=Zr("error");le.success=Zr("success");le.loading=Zr("loading");le.custom=Zr("custom");le.dismiss=(s,e)=>{let t={type:3,toastId:s};e?Bn(e)(t):tc(t)};le.dismissAll=s=>le.dismiss(void 0,s);le.remove=(s,e)=>{let t={type:4,toastId:s};e?Bn(e)(t):tc(t)};le.removeAll=s=>le.remove(void 0,s);le.promise=(s,e,t)=>{let r=le.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof s=="function"&&(s=s()),s.then(n=>{let i=e.success?_n(e.success,n):void 0;return i?le.success(i,{id:r,...t,...t==null?void 0:t.success}):le.dismiss(r),n}).catch(n=>{let i=e.error?_n(e.error,n):void 0;i?le.error(i,{id:r,...t,...t==null?void 0:t.error}):le.dismiss(r)}),s};var _h=1e3,$h=(s,e="default")=>{let{toasts:t,pausedAt:r}=Sh(s,e),n=_.useRef(new Map).current,i=_.useCallback((h,p=_h)=>{if(n.has(h))return;let f=setTimeout(()=>{n.delete(h),a({type:4,toastId:h})},p);n.set(h,f)},[]);_.useEffect(()=>{if(r)return;let h=Date.now(),p=t.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(h-f.createdAt);if(m<0){f.visible&&le.dismiss(f.id);return}return setTimeout(()=>le.dismiss(f.id,e),m)});return()=>{p.forEach(f=>f&&clearTimeout(f))}},[t,r,e]);let a=_.useCallback(Bn(e),[e]),l=_.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=_.useCallback((h,p)=>{a({type:1,toast:{id:h,height:p}})},[a]),u=_.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),d=_.useCallback((h,p)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:y}=p||{},g=t.filter(x=>(x.position||y)===(h.position||y)&&x.height),v=g.findIndex(x=>x.id===h.id),w=g.filter((x,j)=>j<v&&x.visible).length;return g.filter(x=>x.visible).slice(...f?[w+1]:[0,w]).reduce((x,j)=>x+(j.height||0)+m,0)},[t]);return _.useEffect(()=>{t.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let p=n.get(h.id);p&&(clearTimeout(p),n.delete(h.id))}})},[t,i]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Ch=zt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Oh=zt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ph=zt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Eh=us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ch} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Oh} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ph} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Th=zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Nh=us("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Th} 1s linear infinite;
`,Ah=zt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Rh=zt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ih=us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ah} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Rh} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Lh=us("div")`
  position: absolute;
`,Dh=us("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Mh=zt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fh=us("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Mh} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Uh=({toast:s})=>{let{icon:e,type:t,iconTheme:r}=s;return e!==void 0?typeof e=="string"?_.createElement(Fh,null,e):e:t==="blank"?null:_.createElement(Dh,null,_.createElement(Nh,{...r}),t!=="loading"&&_.createElement(Lh,null,t==="error"?_.createElement(Eh,{...r}):_.createElement(Ih,{...r})))},Bh=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zh=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,qh="0%{opacity:0;} 100%{opacity:1;}",Hh="0%{opacity:1;} 100%{opacity:0;}",Wh=us("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vh=us("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Gh=(s,e)=>{let t=s.includes("top")?1:-1,[r,n]=Yl()?[qh,Hh]:[Bh(t),zh(t)];return{animation:e?`${zt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zt(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Kh=_.memo(({toast:s,position:e,style:t,children:r})=>{let n=s.height?Gh(s.position||e||"top-center",s.visible):{opacity:0},i=_.createElement(Uh,{toast:s}),a=_.createElement(Vh,{...s.ariaProps},_n(s.message,s));return _.createElement(Wh,{className:s.className,style:{...n,...t,...s.style}},typeof r=="function"?r({icon:i,message:a}):_.createElement(_.Fragment,null,i,a))});yh(_.createElement);var Jh=({id:s,className:e,style:t,onHeightUpdate:r,children:n})=>{let i=_.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(s,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return _.createElement("div",{ref:i,className:e,style:t},n)},Qh=(s,e)=>{let t=s.includes("top"),r=t?{top:0}:{bottom:0},n=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Yl()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...n}},Yh=Un`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cn=16,sc=({reverseOrder:s,position:e="top-center",toastOptions:t,gutter:r,children:n,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:u}=$h(t,i);return _.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:cn,left:cn,right:cn,bottom:cn,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,p=u.calculateOffset(d,{reverseOrder:s,gutter:r,defaultPosition:e}),f=Qh(h,p);return _.createElement(Jh,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Yh:"",style:f},d.type==="custom"?_n(d.message,d):n?n(d):_.createElement(Kh,{toast:d,position:h}))}))},yr=le;function zn(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t}function Xh(s,e,t,r){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):n(d.value).then(l,c)}u((r=r.apply(s,e||[])).next())})}const Zh=s=>s?(...e)=>s(...e):(...e)=>fetch(...e);class va extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class ef extends va{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Za extends va{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class eo extends va{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fi;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Fi||(Fi={}));class tf{constructor(e,{headers:t={},customFetch:r,region:n=Fi.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Zh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Xh(this,arguments,void 0,function*(t,r={}){var n;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let p={},{region:f}=r;f||(f=this.region);const m=new URL(`${this.url}/${t}`);f&&f!=="any"&&(p["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(p["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(p["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let g=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(g=a.signal,d.addEventListener("abort",()=>a.abort())):g=a.signal);const v=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y,signal:g}).catch(S=>{throw new ef(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Za(v);if(!v.ok)throw new eo(v);let x=((n=v.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield v.json():x==="application/octet-stream"||x==="application/pdf"?j=yield v.blob():x==="text/event-stream"?j=v:x==="multipart/form-data"?j=yield v.formData():j=yield v.text(),{data:j,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof eo||l instanceof Za?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var sf=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},rf=class{constructor(s){var e,t;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(e=s.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=s.signal,this.isMaybeSingle=(t=s.isMaybeSingle)!==null&&t!==void 0?t:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,e){return this.headers=new Headers(this.headers),this.headers.set(s,e),this}then(s,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(t.method!=="HEAD"){var f;const v=await i.text();v===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((f=t.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const y=(h=t.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),g=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");y&&g&&g.length>1&&(c=parseInt(g[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var m;const y=await i.text();try{a=JSON.parse(y),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&t.isMaybeSingle&&(!(a==null||(m=a.details)===null||m===void 0)&&m.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&t.shouldThrowOnError)throw new sf(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(n=n.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,p;const m=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",y=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${m}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(s,e)}returns(){return this}overrideTypes(){return this}},nf=class extends rf{select(s){let e=!1;const t=(s??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${s}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${s}`),this.url.searchParams.set(i,`${e-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:n=!1,format:i="text"}={}){var a;const l=[s?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const to=new RegExp("[,()]");var Qs=class extends nf{eq(s,e){return this.url.searchParams.append(s,`eq.${e}`),this}neq(s,e){return this.url.searchParams.append(s,`neq.${e}`),this}gt(s,e){return this.url.searchParams.append(s,`gt.${e}`),this}gte(s,e){return this.url.searchParams.append(s,`gte.${e}`),this}lt(s,e){return this.url.searchParams.append(s,`lt.${e}`),this}lte(s,e){return this.url.searchParams.append(s,`lte.${e}`),this}like(s,e){return this.url.searchParams.append(s,`like.${e}`),this}likeAllOf(s,e){return this.url.searchParams.append(s,`like(all).{${e.join(",")}}`),this}likeAnyOf(s,e){return this.url.searchParams.append(s,`like(any).{${e.join(",")}}`),this}ilike(s,e){return this.url.searchParams.append(s,`ilike.${e}`),this}ilikeAllOf(s,e){return this.url.searchParams.append(s,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(s,e){return this.url.searchParams.append(s,`ilike(any).{${e.join(",")}}`),this}regexMatch(s,e){return this.url.searchParams.append(s,`match.${e}`),this}regexIMatch(s,e){return this.url.searchParams.append(s,`imatch.${e}`),this}is(s,e){return this.url.searchParams.append(s,`is.${e}`),this}isDistinct(s,e){return this.url.searchParams.append(s,`isdistinct.${e}`),this}in(s,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&to.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${t})`),this}notIn(s,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&to.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${t})`),this}contains(s,e){return typeof e=="string"?this.url.searchParams.append(s,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(s,`cs.{${e.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(e)}`),this}containedBy(s,e){return typeof e=="string"?this.url.searchParams.append(s,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(s,`cd.{${e.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(e)}`),this}rangeGt(s,e){return this.url.searchParams.append(s,`sr.${e}`),this}rangeGte(s,e){return this.url.searchParams.append(s,`nxl.${e}`),this}rangeLt(s,e){return this.url.searchParams.append(s,`sl.${e}`),this}rangeLte(s,e){return this.url.searchParams.append(s,`nxr.${e}`),this}rangeAdjacent(s,e){return this.url.searchParams.append(s,`adj.${e}`),this}overlaps(s,e){return typeof e=="string"?this.url.searchParams.append(s,`ov.${e}`):this.url.searchParams.append(s,`ov.{${e.join(",")}}`),this}textSearch(s,e,{config:t,type:r}={}){let n="";r==="plain"?n="pl":r==="phrase"?n="ph":r==="websearch"&&(n="w");const i=t===void 0?"":`(${t})`;return this.url.searchParams.append(s,`${n}fts${i}.${e}`),this}match(s){return Object.entries(s).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(s,e,t){return this.url.searchParams.append(s,`not.${e}.${t}`),this}or(s,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,e,t){return this.url.searchParams.append(s,`${e}.${t}`),this}},af=class{constructor(s,{headers:e={},schema:t,fetch:r}){this.url=s,this.headers=new Headers(e),this.schema=t,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,e){const{head:t=!1,count:r}=e??{},n=t?"HEAD":"GET";let i=!1;const a=(s??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),r&&c.append("Prefer",`count=${r}`),new Qs({method:n,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(s,{count:e,defaultToNull:t=!0}={}){var r;const n="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),t||a.append("Prefer","missing=default"),Array.isArray(s)){const l=s.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Qs({method:n,url:i,headers:a,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(s,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:n=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),r&&c.append("Prefer",`count=${r}`),n||c.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new Qs({method:a,url:l,headers:c,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(s,{count:e}={}){var t;const r="PATCH",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Qs({method:r,url:n,headers:i,schema:this.schema,body:s,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:s}={}){var e;const t="DELETE",{url:r,headers:n}=this.cloneRequestState();return s&&n.append("Prefer",`count=${s}`),new Qs({method:t,url:r,headers:n,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},of=class rc{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new af(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=r&&Object.values(t).some(d);h?(l="POST",u=t):r||n?(l=r?"HEAD":"GET",Object.entries(t).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=t);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Qs({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class lf{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const r=t.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cf="2.90.1",uf=`realtime-js/${cf}`,nc="1.0.0",df="2.0.0",so=nc,Ui=1e4,hf=1e3,ff=100;var Kt;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Kt||(Kt={}));var Ae;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ae||(Ae={}));var gt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(gt||(gt={}));var Bi;(function(s){s.websocket="websocket"})(Bi||(Bi={}));var bs;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(bs||(bs={}));class pf{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const n=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;const n=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,r){var n,i;const a=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let m=new DataView(f),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,c.length),m.setUint8(y++,l.length),m.setUint8(y++,a.length),m.setUint8(y++,u.length),m.setUint8(y++,h.length),m.setUint8(y++,t),Array.from(c,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>m.setUint8(y++,v.charCodeAt(0))),Array.from(h,v=>m.setUint8(y++,v.charCodeAt(0)));var g=new Uint8Array(f.byteLength+r.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(r),f.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[n,i,a,l,c]=r;return t({join_ref:n,ref:i,topic:a,event:l,payload:c})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,n)}}_decodeUserBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),l=t.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+n));c=c+n;const d=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const p=e.slice(c,e.byteLength),f=l===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,m={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class ic{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ge||(ge={}));const ro=(s,e,t={})=>{var r;const n=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=mf(a,s,e,n),i),{}):{}},mf=(s,e,t,r)=>{const n=e.find(l=>l.name===s),i=n==null?void 0:n.type,a=t[s];return i&&!r.includes(i)?ac(i,a):zi(a)},ac=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return vf(e,t)}switch(s){case ge.bool:return gf(e);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return yf(e);case ge.json:case ge.jsonb:return bf(e);case ge.timestamp:return wf(e);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return zi(e);default:return zi(e)}},zi=s=>s,gf=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},yf=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},bf=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},vf=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let i;const a=s.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ac(e,l))}return s},wf=s=>typeof s=="string"?s.replace(" ","T"):s,oc=s=>{const e=new URL(s);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class si{constructor(e,t,r={},n=Ui){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var no;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(no||(no={}));class Er{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Er.syncState(this.state,n,i,a),this.pendingDiffs.forEach(c=>{this.state=Er.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Er.syncDiff(this.state,n,i,a),l())}),this.onJoin((n,i,a)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:a})}),this.onLeave((n,i,a)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const i=this.cloneDeep(e),a=this.transformState(t),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0),y=h.filter(g=>p.indexOf(g.presence_ref)<0);m.length>0&&(l[u]=m),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,n)}static syncDiff(e,t,r,n){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...p)}r(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,n(l,u,c),u.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return"metas"in n?t[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var io;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(io||(io={}));var Tr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Tr||(Tr={}));var It;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(It||(It={}));class Zs{constructor(e,t={config:{}},r){var n,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new si(this,gt.join,this.params,this.timeout),this.rejoinTimer=new ic(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Er(this),this.broadcastEndpointURL=oc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Tr.PRESENCE]&&this.bindings[Tr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(It.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(It.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(It.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,v=[];for(let w=0;w<g;w++){const x=y[w],{filter:{event:j,schema:S,table:O,filter:A}}=x,$=f&&f[w];if($&&$.event===j&&Zs.isFilterValueEqual($.schema,S)&&Zs.isFilterValueEqual($.table,O)&&Zs.isFilterValueEqual($.filter,A))v.push(Object.assign(Object.assign({},x),{id:$.id}));else{this.unsubscribe(),this.state=Ae.errored,e==null||e(It.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(It.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ae.errored,e==null||e(It.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(It.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Ae.joined&&e===Tr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var n;if(t==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,t={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ae.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new si(this,gt.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new si(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ff){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=gt;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var m,y,g;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(y=f.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===a}).map(f=>f.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var m,y,g,v,w,x,j,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const O=f.id,A=(m=f.filter)===null||m===void 0?void 0:m.event;return O&&((y=t.ids)===null||y===void 0?void 0:y.includes(O))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))&&(!(!((v=f.filter)===null||v===void 0)&&v.table)||f.filter.table===((w=t.data)===null||w===void 0?void 0:w.table))}else{const O=(j=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return O==="*"||O===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:y,table:g,commit_timestamp:v,type:w,errors:x}=m;p=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(m))}f.callback(p,r)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Zs.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gt.close,{},e)}_onError(e){this._on(gt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ro(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ro(e.columns,e.old_record)),t}}const ri=()=>{},un={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xf=[1e3,2e3,5e3,1e4],jf=1e4,Sf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kf{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ui,this.transport=null,this.heartbeatIntervalMs=un.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ri,this.ref=0,this.reconnectTimer=null,this.vsn=so,this.logger=ri,this.conn=null,this.sendBuffer=[],this.serializer=new pf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Bi.websocket}`,this.httpEndpoint=oc(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kt.connecting:return bs.Connecting;case Kt.open:return bs.Open;case Kt.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Zs(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:r,payload:n,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hf,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},un.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:n,payload:i,ref:a}=t,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${n} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,i,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Kt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kt.open||this.conn.readyState===Kt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Sf],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const i={access_token:t,version:uf};t&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(gt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ic(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},un.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,i,a,l,c,u,d,h,p,f;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ui,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:un.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ri,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:so,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:m=>xf[m-1]||jf,this.vsn){case nc:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(m,y)=>y(JSON.stringify(m)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(m,y)=>y(JSON.parse(m));break;case df:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Dr=class extends Error{constructor(s,e){var t;super(s),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _f(s,e,t){const r=new URL(e,s);if(t)for(const[n,i]of Object.entries(t))i!==void 0&&r.searchParams.set(n,i);return r.toString()}async function $f(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Cf(s){const e=s.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:n,body:i,headers:a}){const l=_f(s.baseUrl,r,n),c=await $f(s.auth),u=await e(l,{method:t,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,m=f==null?void 0:f.error;throw new Dr((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function dn(s){return s.join("")}var Of=class{constructor(s,e=""){this.client=s,this.prefix=e}async listNamespaces(s){const e=s?{parent:dn(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,e){const t={namespace:s.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dn(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dn(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dn(s.namespace)}`}),!0}catch(e){if(e instanceof Dr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(s,e){try{return await this.createNamespace(s,e)}catch(t){if(t instanceof Dr&&t.status===409)return;throw t}}};function Ms(s){return s.join("")}var Pf=class{constructor(s,e="",t){this.client=s,this.prefix=e,this.accessDelegation=t}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(s.namespace)}/tables`})).data.identifiers}async createTable(s,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(s.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(s,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(s.namespace)}/tables/${s.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(s,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(s){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(s.namespace)}/tables/${s.name}`,headers:e})).data.metadata}async tableExists(s){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(s.namespace)}/tables/${s.name}`,headers:e}),!0}catch(t){if(t instanceof Dr&&t.status===404)return!1;throw t}}async createTableIfNotExists(s,e){try{return await this.createTable(s,e)}catch(t){if(t instanceof Dr&&t.status===409)return await this.loadTable({namespace:s.namespace,name:e.name});throw t}}},Ef=class{constructor(s){var r;let e="v1";s.catalogName&&(e+=`/${s.catalogName}`);const t=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Cf({baseUrl:t,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(r=s.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Of(this.client,e),this.tableOps=new Pf(this.client,e,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,e){return this.namespaceOps.createNamespace(s,e)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,e){return this.tableOps.createTable(s,e)}async updateTable(s,e){return this.tableOps.updateTable(s,e)}async dropTable(s,e){await this.tableOps.dropTable(s,e)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,e){return this.namespaceOps.createNamespaceIfNotExists(s,e)}async createTableIfNotExists(s,e){return this.tableOps.createTableIfNotExists(s,e)}},qn=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function je(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Tf=class extends qn{constructor(s,e,t){super(s),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qi=class extends qn{constructor(s,e){super(s),this.name="StorageUnknownError",this.originalError=e}};const wa=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),Nf=()=>Response,Hi=s=>{if(Array.isArray(s))return s.map(t=>Hi(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,r])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Hi(r)}),e},Af=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Rf=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Mr(s){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(s)}function If(s,e){if(Mr(s)!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var r=t.call(s,e);if(Mr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function Lf(s){var e=If(s,"string");return Mr(e)=="symbol"?e:e+""}function Df(s,e,t){return(e=Lf(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function ao(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,r)}return t}function K(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ao(Object(t),!0).forEach(function(r){Df(s,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):ao(Object(t)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}return s}const ni=s=>{var e;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(e=s.error)===null||e===void 0?void 0:e.message)||JSON.stringify(s)},Mf=async(s,e,t)=>{s instanceof await Nf()&&!(t!=null&&t.noResolveJson)?s.json().then(r=>{const n=s.status||500,i=(r==null?void 0:r.statusCode)||n+"";e(new Tf(ni(r),n,i))}).catch(r=>{e(new qi(ni(r),r))}):e(new qi(ni(s),s))},Ff=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!r?n:(Af(r)?(n.headers=K({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),K(K({},n),t))};async function en(s,e,t,r,n,i){return new Promise((a,l)=>{s(t,Ff(e,r,n,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Mf(c,l,r))})}async function Fr(s,e,t,r){return en(s,"GET",e,t,r)}async function ft(s,e,t,r,n){return en(s,"POST",e,r,n,t)}async function Wi(s,e,t,r,n){return en(s,"PUT",e,r,n,t)}async function Uf(s,e,t,r){return en(s,"HEAD",e,K(K({},t),{},{noResolveJson:!0}),r)}async function xa(s,e,t,r,n){return en(s,"DELETE",e,r,n,t)}var Bf=class{constructor(s,e){this.downloadFn=s,this.shouldThrowOnError=e}then(s,e){return this.execute().then(s,e)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(e){if(s.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}}};let lc;lc=Symbol.toStringTag;var zf=class{constructor(s,e){this.downloadFn=s,this.shouldThrowOnError=e,this[lc]="BlobDownloadBuilder",this.promise=null}asStream(){return new Bf(this.downloadFn,this.shouldThrowOnError)}then(s,e){return this.getPromise().then(s,e)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(e){if(s.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}}};const qf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hf=class{constructor(s,e={},t,r){this.shouldThrowOnError=!1,this.url=s,this.headers=e,this.bucketId=t,this.fetch=wa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,e,t,r){var n=this;try{let i;const a=K(K({},oo),r);let l=K(K({},n.headers),s==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&t instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",n.encodeMetadata(c)),i.append("",t)):typeof FormData<"u"&&t instanceof FormData?(i=t,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(c))):(i=t,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=n.toBase64(n.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(l=K(K({},l),r.headers));const u=n._removeEmptyFolders(e),d=n._getFinalPath(u),h=await(s=="PUT"?Wi:ft)(n.fetch,`${n.url}/object/${d}`,i,K({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}}async upload(s,e,t){return this.uploadOrUpdate("POST",s,e,t)}async uploadToSignedUrl(s,e,t,r){var n=this;const i=n._removeEmptyFolders(s),a=n._getFinalPath(i),l=new URL(n.url+`/object/upload/sign/${a}`);l.searchParams.set("token",e);try{let c;const u=K({upsert:oo.upsert},r),d=K(K({},n.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&t instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",t)):typeof FormData<"u"&&t instanceof FormData?(c=t,c.append("cacheControl",u.cacheControl)):(c=t,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Wi(n.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(n.shouldThrowOnError)throw c;if(je(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(s,e){var t=this;try{let r=t._getFinalPath(s);const n=K({},t.headers);e!=null&&e.upsert&&(n["x-upsert"]="true");const i=await ft(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:n}),a=new URL(t.url+i.url),l=a.searchParams.get("token");if(!l)throw new qn("No token returned by API");return{data:{signedUrl:a.toString(),path:s,token:l},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async update(s,e,t){return this.uploadOrUpdate("PUT",s,e,t)}async move(s,e,t){var r=this;try{return{data:await ft(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async copy(s,e,t){var r=this;try{return{data:{path:(await ft(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers})).Key},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async createSignedUrl(s,e,t){var r=this;try{let n=r._getFinalPath(s),i=await ft(r.fetch,`${r.url}/object/sign/${n}`,K({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:r.headers});const a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async createSignedUrls(s,e,t){var r=this;try{const n=await ft(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:s},{headers:r.headers}),i=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:n.map(a=>K(K({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}download(s,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),n=r?`?${r}`:"",i=this._getFinalPath(s),a=()=>Fr(this.fetch,`${this.url}/${t}/${i}${n}`,{headers:this.headers,noResolveJson:!0});return new zf(a,this.shouldThrowOnError)}async info(s){var e=this;const t=e._getFinalPath(s);try{return{data:Hi(await Fr(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async exists(s){var e=this;const t=e._getFinalPath(s);try{return await Uf(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(je(r)&&r instanceof qi){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,e){const t=this._getFinalPath(s),r=[],n=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";n!==""&&r.push(n);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${t}${l}`)}}}async remove(s){var e=this;try{return{data:await xa(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:s},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}async list(s,e,t){var r=this;try{const n=K(K(K({},qf),e),{},{prefix:s||""});return{data:await ft(r.fetch,`${r.url}/object/list/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async listV2(s,e){var t=this;try{const r=K({},s);return{data:await ft(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const e=[];return s.width&&e.push(`width=${s.width}`),s.height&&e.push(`height=${s.height}`),s.resize&&e.push(`resize=${s.resize}`),s.format&&e.push(`format=${s.format}`),s.quality&&e.push(`quality=${s.quality}`),e.join("&")}};const cc="2.90.1",uc={"X-Client-Info":`storage-js/${cc}`};var Wf=class{constructor(s,e={},t,r){this.shouldThrowOnError=!1;const n=new URL(s);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=K(K({},uc),e),this.fetch=wa(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var e=this;try{const t=e.listBucketOptionsToQueryString(s);return{data:await Fr(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}async getBucket(s){var e=this;try{return{data:await Fr(e.fetch,`${e.url}/bucket/${s}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}async createBucket(s,e={public:!1}){var t=this;try{return{data:await ft(t.fetch,`${t.url}/bucket`,{id:s,name:s,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async updateBucket(s,e){var t=this;try{return{data:await Wi(t.fetch,`${t.url}/bucket/${s}`,{id:s,name:s,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async emptyBucket(s){var e=this;try{return{data:await ft(e.fetch,`${e.url}/bucket/${s}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}async deleteBucket(s){var e=this;try{return{data:await xa(e.fetch,`${e.url}/bucket/${s}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(s){const e={};return s&&("limit"in s&&(e.limit=String(s.limit)),"offset"in s&&(e.offset=String(s.offset)),s.search&&(e.search=s.search),s.sortColumn&&(e.sortColumn=s.sortColumn),s.sortOrder&&(e.sortOrder=s.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Vf=class{constructor(s,e={},t){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=K(K({},uc),e),this.fetch=wa(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var e=this;try{return{data:await ft(e.fetch,`${e.url}/bucket`,{name:s},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}async listBuckets(s){var e=this;try{const t=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&t.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&t.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&t.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&t.set("sortOrder",s.sortOrder),s!=null&&s.search&&t.set("search",s.search);const r=t.toString(),n=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Fr(e.fetch,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}async deleteBucket(s){var e=this;try{return{data:await xa(e.fetch,`${e.url}/bucket/${s}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}}from(s){var e=this;if(!Rf(s))throw new qn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new Ef({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(n,i){const a=n[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(n,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const ja={"X-Client-Info":`storage-js/${cc}`,"Content-Type":"application/json"};var dc=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var ii=class extends dc{constructor(s,e,t){super(s),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gf=class extends dc{constructor(s,e){super(s),this.name="StorageVectorsUnknownError",this.originalError=e}};const Sa=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),Kf=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},lo=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Jf=async(s,e,t)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(t!=null&&t.noResolveJson)){const r=s.status||500,n=s;if(typeof n.json=="function")n.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new ii(lo(i),r,a))}).catch(()=>{const i=r+"";e(new ii(n.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new ii(n.statusText||`HTTP ${r} error`,r,i))}}else e(new Gf(lo(s),s))},Qf=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return r?(Kf(r)?(n.headers=K({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,K(K({},n),t)):n};async function Yf(s,e,t,r,n,i){return new Promise((a,l)=>{s(t,Qf(e,r,n,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>Jf(c,l,r))})}async function it(s,e,t,r,n){return Yf(s,"POST",e,r,n,t)}var Xf=class{constructor(s,e={},t){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=K(K({},ja),e),this.fetch=Sa(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var e=this;try{return{data:await it(e.fetch,`${e.url}/CreateIndex`,s,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async getIndex(s,e){var t=this;try{return{data:await it(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:s,indexName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async listIndexes(s){var e=this;try{return{data:await it(e.fetch,`${e.url}/ListIndexes`,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async deleteIndex(s,e){var t=this;try{return{data:await it(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:s,indexName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}},Zf=class{constructor(s,e={},t){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=K(K({},ja),e),this.fetch=Sa(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var e=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await it(e.fetch,`${e.url}/PutVectors`,s,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async getVectors(s){var e=this;try{return{data:await it(e.fetch,`${e.url}/GetVectors`,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async listVectors(s){var e=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await it(e.fetch,`${e.url}/ListVectors`,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async queryVectors(s){var e=this;try{return{data:await it(e.fetch,`${e.url}/QueryVectors`,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async deleteVectors(s){var e=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await it(e.fetch,`${e.url}/DeleteVectors`,s,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}},ep=class{constructor(s,e={},t){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=K(K({},ja),e),this.fetch=Sa(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var e=this;try{return{data:await it(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async getBucket(s){var e=this;try{return{data:await it(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:s},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async listBuckets(s={}){var e=this;try{return{data:await it(e.fetch,`${e.url}/ListVectorBuckets`,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}async deleteBucket(s){var e=this;try{return{data:await it(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}},tp=class extends ep{constructor(s,e={}){super(s,e.headers||{},e.fetch)}from(s){return new sp(this.url,this.headers,s,this.fetch)}async createBucket(s){var e=()=>super.createBucket,t=this;return e().call(t,s)}async getBucket(s){var e=()=>super.getBucket,t=this;return e().call(t,s)}async listBuckets(s={}){var e=()=>super.listBuckets,t=this;return e().call(t,s)}async deleteBucket(s){var e=()=>super.deleteBucket,t=this;return e().call(t,s)}},sp=class extends Xf{constructor(s,e,t,r){super(s,e,r),this.vectorBucketName=t}async createIndex(s){var e=()=>super.createIndex,t=this;return e().call(t,K(K({},s),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(s={}){var e=()=>super.listIndexes,t=this;return e().call(t,K(K({},s),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(s){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,s)}async deleteIndex(s){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,s)}index(s){return new rp(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},rp=class extends Zf{constructor(s,e,t,r,n){super(s,e,n),this.vectorBucketName=t,this.indexName=r}async putVectors(s){var e=()=>super.putVectors,t=this;return e().call(t,K(K({},s),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(s){var e=()=>super.getVectors,t=this;return e().call(t,K(K({},s),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(s={}){var e=()=>super.listVectors,t=this;return e().call(t,K(K({},s),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(s){var e=()=>super.queryVectors,t=this;return e().call(t,K(K({},s),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(s){var e=()=>super.deleteVectors,t=this;return e().call(t,K(K({},s),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},np=class extends Wf{constructor(s,e={},t,r){super(s,e,t,r)}from(s){return new Hf(this.url,this.headers,s,this.fetch)}get vectors(){return new tp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vf(this.url+"/iceberg",this.headers,this.fetch)}};const hc="2.90.1",Ys=30*1e3,Vi=3,ai=Vi*Ys,ip="http://localhost:9999",ap="supabase.auth.token",op={"X-Client-Info":`gotrue-js/${hc}`},Gi="X-Supabase-Api-Version",fc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cp=10*60*1e3;class Ur extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function H(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class up extends Ur{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function dp(s){return H(s)&&s.name==="AuthApiError"}class vs extends Ur{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class qt extends Ur{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class rt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hp(s){return H(s)&&s.name==="AuthSessionMissingError"}class Fs extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hn extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fn extends qt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fp(s){return H(s)&&s.name==="AuthImplicitGrantRedirectError"}class co extends qt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pp extends qt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ki extends qt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function oi(s){return H(s)&&s.name==="AuthRetryableFetchError"}class uo extends qt{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ji extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ho=` 	
\r=`.split(""),mp=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<ho.length;e+=1)s[ho[e].charCodeAt(0)]=-2;for(let e=0;e<$n.length;e+=1)s[$n[e].charCodeAt(0)]=e;return s})();function fo(s,e,t){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t($n[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t($n[r]),e.queuedBits-=6}}function pc(s,e,t){const r=mp[s];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function po(s){const e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=a=>{bp(a,r,t)};for(let a=0;a<s.length;a+=1)pc(s.charCodeAt(a),n,i);return e.join("")}function gp(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function yp(s,e){for(let t=0;t<s.length;t+=1){let r=s.charCodeAt(t);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(s.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}gp(r,e)}}function bp(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let r=1;r<6;r+=1)if(!(s>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function rr(s){const e=[],t={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<s.length;n+=1)pc(s.charCodeAt(n),t,r);return new Uint8Array(e)}function vp(s){const e=[];return yp(s,t=>e.push(t)),new Uint8Array(e)}function xs(s){const e=[],t={queue:0,queuedBits:0},r=n=>{e.push(n)};return s.forEach(n=>fo(n,t,r)),fo(null,t,r),e.join("")}function wp(s){return Math.round(Date.now()/1e3)+s}function xp(){return Symbol("auth-callback")}const Fe=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},mc=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function jp(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((r,n)=>{e[n]=r}),e}const gc=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),Sp=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Xs=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},ps=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Me=async(s,e)=>{await s.removeItem(e)};class Hn{constructor(){this.promise=new Hn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Hn.promiseConstructor=Promise;function li(s){const e=s.split(".");if(e.length!==3)throw new Ji("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lp.test(e[r]))throw new Ji("JWT not in base64url format");return{header:JSON.parse(po(e[0])),payload:JSON.parse(po(e[1])),signature:rr(e[2]),raw:{header:e[0],payload:e[1]}}}async function kp(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function _p(s,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await s(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){n(a);return}}})()})}function $p(s){return("0"+s.toString(16)).substr(-2)}function Cp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,$p).join("")}async function Op(s){const t=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Pp(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await Op(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(s,e,t=!1){const r=Cp();let n=r;t&&(n+="/PASSWORD_RECOVERY"),await Xs(s,`${e}-code-verifier`,n);const i=await Pp(r);return[i,r===i?"plain":"s256"]}const Ep=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tp(s){const e=s.headers.get(Gi);if(!e||!e.match(Ep))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Np(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function Ap(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(s){if(!Rp.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ci(){const s={};return new Proxy(s,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ip(s,e){return new Proxy(s,{get:(t,r,n)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,n)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,n)}})}function mo(s){return JSON.parse(JSON.stringify(s))}const gs=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Lp=[502,503,504];async function go(s){var e;if(!Sp(s))throw new Ki(gs(s),0);if(Lp.includes(s.status))throw new Ki(gs(s),s.status);let t;try{t=await s.json()}catch(i){throw new vs(gs(i),i)}let r;const n=Tp(s);if(n&&n.getTime()>=fc["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new uo(gs(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new rt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new uo(gs(t),s.status,t.weak_password.reasons);throw new up(gs(t),s.status||500,r)}const Dp=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};async function G(s,e,t,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Gi]||(i[Gi]=fc["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Mp(s,e,t+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Mp(s,e,t,r,n,i){const a=Dp(e,r,n,i);let l;try{l=await s(t,Object.assign({},a))}catch(c){throw console.error(c),new Ki(gs(c),0)}if(l.ok||await go(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await go(c)}}function ht(s){var e;let t=null;Bp(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=wp(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:r},error:null}}function yo(s){const e=ht(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function Qt(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function Fp(s){return{data:s,error:null}}function Up(s){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i}=s,a=zn(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function bo(s){return s}function Bp(s){return s.access_token&&s.refresh_token&&s.expires_in}const ui=["global","local","others"];class zp{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=gc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=ui[0]){if(ui.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ui.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Qt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=zn(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Up,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(H(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qt})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:bo});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Bs(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qt})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Bs(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Qt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Bs(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Qt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Bs(e.userId);try{const{data:t,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:r}}catch(t){if(H(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Bs(e.userId),Bs(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:bo});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await G(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}}}function vo(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}const zs={debug:!!(globalThis&&mc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qp extends yc{}async function Hp(s,e,t){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return await t()}finally{zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(e===0)throw zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new qp(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(zs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Wp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bc(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Vp(s){return parseInt(s,16)}function Gp(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Kp(s){var e;const{chainId:t,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=s;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const f=bc(s.address),m=d?`${d}://${r}`:r,y=s.statement?`${s.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${f}

${y}`;let v=`URI: ${h}
Version: ${p}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(n&&(v+=`
Expiration Time: ${n.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}v+=w}return`${g}
${v}`}class Pe extends Error{constructor({message:e,code:t,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=n??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}}class Cn extends Pe{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Jp({error:s,options:e}){var t,r,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Pe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(vc(a)){if(i.rp.id!==a)return new Pe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Qp({error:s,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Pe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(vc(r)){if(t.rpId!==r)return new Pe({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Yp{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Xp=new Yp;function Zp(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:t,excludeCredentials:r}=s,n=zn(s,["challenge","user","excludeCredentials"]),i=rr(e).buffer,a=Object.assign(Object.assign({},t),{id:rr(t.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:rr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function em(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:t}=s,r=zn(s,["challenge","allowCredentials"]),n=rr(e).buffer,i=Object.assign(Object.assign({},r),{challenge:n});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){const l=t[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:rr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function tm(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s;return{id:s.id,rawId:s.id,response:{attestationObject:xs(new Uint8Array(s.response.attestationObject)),clientDataJSON:xs(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sm(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s,r=s.getClientExtensionResults(),n=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:xs(new Uint8Array(n.authenticatorData)),clientDataJSON:xs(new Uint8Array(n.clientDataJSON)),signature:xs(new Uint8Array(n.signature)),userHandle:n.userHandle?xs(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vc(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function wo(){var s,e;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rm(s){try{const e=await navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cn("Browser returned unexpected credential type",e)}:{data:null,error:new Cn("Empty credential response",e)}}catch(e){return{data:null,error:Jp({error:e,options:s})}}}async function nm(s){try{const e=await navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cn("Browser returned unexpected credential type",e)}:{data:null,error:new Cn("Empty credential response",e)}}catch(e){return{data:null,error:Qp({error:e,options:s})}}}const im={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},am={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function On(...s){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),t=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),r={};for(const n of s)if(n)for(const i in n){const a=n[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(t(a))r[i]=a;else if(e(a)){const l=r[i];e(l)?r[i]=On(l,a):r[i]=On(a)}else r[i]=a}return r}function om(s,e){return On(im,s,e||{})}function lm(s,e){return On(am,s,e||{})}class cm{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:n},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:l};const c=n??Xp.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=om(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await rm({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=lm(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await nm(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return H(a)?{data:null,error:a}:{data:null,error:new vs("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!t)return{data:null,error:new Ur("rpId is required for WebAuthn authentication")};try{if(!wo())return{data:null,error:new vs("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:n},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:t,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return H(a)?{data:null,error:a}:{data:null,error:new vs("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!t)return{data:null,error:new Ur("rpId is required for WebAuthn registration")};try{if(!wo())return{data:null,error:new vs("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:n},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:t,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return H(a)?{data:null,error:a}:{data:null,error:new vs("Unexpected error in register",a)}}}}Wp();const um={url:ip,storageKey:ap,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:op,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function xo(s,e,t){return await t()}const qs={};class Br{get jwks(){var e,t;return(t=(e=qs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=qs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},um),e);if(this.storageKey=i.storageKey,this.instanceID=(t=Br.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Br.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Fe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zp({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gc(i.fetch),this.lock=i.lock||xo,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Fe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Hp:this.lock=xo,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cm(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vo(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=vo(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hc}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(Fe()&&(t=jp(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fp(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return H(t)?this._returnResult({error:t}):this._returnResult({error:new vs("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:ht}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var t,r,n;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Us(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:m},xform:ht})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ht})}else throw new hn("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await Me(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Me(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:l}=e;t=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yo})}else if("phone"in e){const{phone:i,password:a,options:l}=e;t=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yo})}else throw new hn("You must provide either an email or phone number and a password");const{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const i=new Fs;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(H(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,n,i,a,l,c,u,d,h,p;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:y,wallet:g,statement:v,options:w}=e;let x;if(Fe())if(typeof g=="object")x=g;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")x=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const j=new URL((t=w==null?void 0:w.url)!==null&&t!==void 0?t:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=bc(S[0]);let A=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const R=await x.request({method:"eth_chainId"});A=Vp(R)}const $={domain:j.host,address:O,statement:v,uri:j.href,version:"1",chainId:A,nonce:(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Kp($),m=await x.request({method:"personal_sign",params:[Gp(f),O]})}try{const{data:y,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ht});if(g)throw g;if(!y||!y.session||!y.user){const v=new Fs;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:g})}catch(y){if(H(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var t,r,n,i,a,l,c,u,d,h,p,f;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:g,wallet:v,statement:w,options:x}=e;let j;if(Fe())if(typeof v=="object")j=v;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))j=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const S=new URL((t=x==null?void 0:x.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in j&&j.signIn){const O=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let A;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")A=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)A=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(n=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const O=await j.signMessage(new TextEncoder().encode(m),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=O}}try{const{data:g,error:v}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:xs(y)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ht});if(v)throw v;if(!g||!g.session||!g.user){const w=new Fs;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(H(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await ps(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new pp;const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ht});if(await Me(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:a})}catch(i){if(await Me(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:i,nonce:a}=e,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ht}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Fs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(t){if(H(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,n,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Us(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new hn("You must provide either an email or phone number.")}catch(l){if(await Me(this.storage,`${this.storageKey}-code-verifier`),H(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ht});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,r,n,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Us(this.storage,this.storageKey));const u=await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Fp});return!((i=u.data)===null||i===void 0)&&i.url&&Fe()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Me(this.storage,`${this.storageKey}-code-verifier`),H(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new rt;const{error:n}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(H(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:a}=await G(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:a,error:l}=await G(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new hn("You must provide either an email or phone number and a type")}catch(t){if(H(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ai:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await ps(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ci()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Ip(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qt}):await this._useSession(async t=>{var r,n,i;const{data:a,error:l}=t;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Qt})})}catch(t){if(H(t))return hp(t)&&(await this._removeSession(),await Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new rt;const a=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Us(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Qt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Me(this.storage,`${this.storageKey}-code-verifier`),H(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rt;const t=Date.now()/1e3;let r=t,n=!0,i=null;const{payload:a}=li(e.access_token);if(a.exp&&(r=a.exp,n=r<=t),n){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(t){if(H(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:l}=t;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new rt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(H(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Fe())throw new fn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new co("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new co("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new fn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=p-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,d);const{data:y,error:g}=await this._getUser(i);if(g)throw g;const v={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(H(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return this._returnResult({error:i});const a=(r=n.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(dp(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=xp(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:i},error:a}=t;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Us(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(await Me(this.storage,`${this.storageKey}-code-verifier`),H(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:n}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return Fe()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(H(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:n,data:{session:i}}=t;if(n)throw n;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ht}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Fs}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(n){if(await Me(this.storage,`${this.storageKey}-code-verifier`),H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:a}=t;if(a)throw a;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await _p(async n=>(n>0&&await kp(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(n,i)=>{const a=200*Math.pow(2,n);return i&&oi(i)&&Date.now()+a-r<Ys})}catch(r){if(this._debug(t,"error",r),H(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Fe()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ps(this.storage,this.storageKey);if(n&&this.userStorage){let a=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:n.user},await Xs(this.userStorage,this.storageKey+"-user",a)),n.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ci()}else if(n&&!n.user&&!n.user){const a=await ps(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(n.user=a.user,await Me(this.storage,this.storageKey+"-user"),await Xs(this.storage,this.storageKey,n)):n.user=ci()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ai;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ai}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),oi(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(n.access_token);!l&&(a!=null&&a.user)?(n.user=a.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Hn;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),H(i)){const a={data:null,error:i};return oi(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Me(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Xs(this.userStorage,this.storageKey+"-user",{user:t.user});const n=Object.assign({},t);delete n.user;const i=mo(n);await Xs(this.storage,this.storageKey,i)}else{const n=mo(t);await Xs(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Me(this.storage,this.storageKey),await Me(this.storage,this.storageKey+"-code-verifier"),await Me(this.storage,this.storageKey+"-user"),this.userStorage&&await Me(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ys}ms, refresh threshold is ${Vi} ticks`),n<=Vi&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Us(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;return i?this._returnResult({data:null,error:i}):await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tm(e.webauthn.credential_response):sm(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return this._returnResult({data:null,error:i});const a=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Zp(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:em(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=li(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await G(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new rt})})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new rt});const a=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new rt});const a=await G(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await G(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new rt})})}catch(e){if(H(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await G(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rt})})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(l=>l.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+cp>n)return r;const{data:i,error:a}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});r=f.session.access_token}const{header:n,payload:i,signature:a,raw:{header:l,payload:c}}=li(r);t!=null&&t.allowExpired||Np(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:n,signature:a},error:null}}const d=Ap(n.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,vp(`${l}.${c}`)))throw new Ji("Invalid JWT signature");return{data:{claims:i,header:n,signature:a},error:null}}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}}Br.nextInstanceID={};const dm=Br,hm="2.90.1";let Pr="";typeof Deno<"u"?Pr="deno":typeof document<"u"?Pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pr="react-native":Pr="node";const fm={"X-Client-Info":`supabase-js-${Pr}/${hm}`},pm={headers:fm},mm={schema:"public"},gm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ym={};function zr(s){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(s)}function bm(s,e){if(zr(s)!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var r=t.call(s,e);if(zr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function vm(s){var e=bm(s,"string");return zr(e)=="symbol"?e:e+""}function wm(s,e,t){return(e=vm(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function jo(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,r)}return t}function _e(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jo(Object(t),!0).forEach(function(r){wm(s,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):jo(Object(t)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}return s}const xm=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),jm=()=>Headers,Sm=(s,e,t)=>{const r=xm(t),n=jm();return async(i,a)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:s;let u=new n(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",s),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,_e(_e({},a),{},{headers:u}))}};function km(s){return s.endsWith("/")?s:s+"/"}function _m(s,e){var t,r;const{db:n,auth:i,realtime:a,global:l}=s,{db:c,auth:u,realtime:d,global:h}=e,p={db:_e(_e({},c),n),auth:_e(_e({},u),i),realtime:_e(_e({},d),a),storage:{},global:_e(_e(_e({},h),l),{},{headers:_e(_e({},(t=h==null?void 0:h.headers)!==null&&t!==void 0?t:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?p.accessToken=s.accessToken:delete p.accessToken,p}function $m(s){const e=s==null?void 0:s.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(km(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Cm=class extends dm{constructor(s){super(s)}},Om=class{constructor(s,e,t){var r,n;this.supabaseUrl=s,this.supabaseKey=e;const i=$m(s);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:mm,realtime:ym,auth:_e(_e({},gm),{},{storageKey:a}),global:pm},c=_m(t??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(n=c.global.headers)!==null&&n!==void 0?n:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Sm(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(_e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new of(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new np(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new tf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,e,t)}channel(s,e={config:{}}){return this.realtime.channel(s,e)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,e,t;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:n,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cm({url:this.authUrl.href,headers:_e(_e({},p),d),storageKey:i,autoRefreshToken:s,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:n,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new kf(this.realtimeUrl.href,_e(_e({},s),{},{params:_e(_e({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,e)=>{this._handleTokenChanged(s,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(s,e,t){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Pm=(s,e,t)=>new Om(s,e,t);function Em(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const e=s.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Em()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tm="https://your-project.supabase.co",Nm="your-anon-key",Hs=Pm(Tm,Nm),wc=_.createContext(void 0);function Am({children:s}){const[e,t]=_.useState(null),[r,n]=_.useState(null),[i,a]=_.useState(!0),[l,c]=_.useState(!1);_.useEffect(()=>{(async()=>{const{data:{session:m}}=await Hs.auth.getSession();if(n(m),t((m==null?void 0:m.user)??null),m!=null&&m.user){const{data:y}=await Hs.from("admin_users").select("*").eq("user_id",m.user.id).single();c(!!y)}a(!1)})();const{data:{subscription:f}}=Hs.auth.onAuthStateChange(async(m,y)=>{if(n(y),t((y==null?void 0:y.user)??null),y!=null&&y.user){const{data:g}=await Hs.from("admin_users").select("*").eq("user_id",y.user.id).single();c(!!g)}else c(!1);a(!1)});return()=>{f.unsubscribe()}},[]);const h={user:e,session:r,loading:i,login:async(p,f)=>{const{data:m,error:y}=await Hs.auth.signInWithPassword({email:p,password:f});return{error:y,session:m.session}},signOut:async()=>{const{error:p}=await Hs.auth.signOut();return c(!1),{error:p}},isAdmin:l};return o.jsx(wc.Provider,{value:h,children:s})}const ka=()=>{const s=_.useContext(wc);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},Rm={},So=s=>{let e;const t=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const f=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(m=>m(e,f))}},n=()=>e,c={setState:r,getState:n,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d)),destroy:()=>{(Rm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},u=e=s(r,n,c);return c},Im=s=>s?So(s):So;var xc={exports:{}},jc={},Sc={exports:{}},kc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=_;function Lm(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var Dm=typeof Object.is=="function"?Object.is:Lm,Mm=br.useState,Fm=br.useEffect,Um=br.useLayoutEffect,Bm=br.useDebugValue;function zm(s,e){var t=e(),r=Mm({inst:{value:t,getSnapshot:e}}),n=r[0].inst,i=r[1];return Um(function(){n.value=t,n.getSnapshot=e,di(n)&&i({inst:n})},[s,t,e]),Fm(function(){return di(n)&&i({inst:n}),s(function(){di(n)&&i({inst:n})})},[s]),Bm(t),t}function di(s){var e=s.getSnapshot;s=s.value;try{var t=e();return!Dm(s,t)}catch{return!0}}function qm(s,e){return e()}var Hm=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qm:zm;kc.useSyncExternalStore=br.useSyncExternalStore!==void 0?br.useSyncExternalStore:Hm;Sc.exports=kc;var Wm=Sc.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn=_,Vm=Wm;function Gm(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var Km=typeof Object.is=="function"?Object.is:Gm,Jm=Vm.useSyncExternalStore,Qm=Wn.useRef,Ym=Wn.useEffect,Xm=Wn.useMemo,Zm=Wn.useDebugValue;jc.useSyncExternalStoreWithSelector=function(s,e,t,r,n){var i=Qm(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Xm(function(){function c(f){if(!u){if(u=!0,d=f,f=r(f),n!==void 0&&a.hasValue){var m=a.value;if(n(m,f))return h=m}return h=f}if(m=h,Km(d,f))return m;var y=r(f);return n!==void 0&&n(m,y)?(d=f,m):(d=f,h=y)}var u=!1,d,h,p=t===void 0?null:t;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,t,r,n]);var l=Jm(s,i[0],i[1]);return Ym(function(){a.hasValue=!0,a.value=l},[l]),Zm(l),l};xc.exports=jc;var eg=xc.exports;const tg=In(eg),_c={},{useDebugValue:sg}=yt,{useSyncExternalStoreWithSelector:rg}=tg;let ko=!1;const ng=s=>s;function ig(s,e=ng,t){(_c?"production":void 0)!=="production"&&t&&!ko&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ko=!0);const r=rg(s.subscribe,s.getState,s.getServerState||s.getInitialState,e,t);return sg(r),r}const _o=s=>{(_c?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof s=="function"?Im(s):s,t=(r,n)=>ig(e,r,n);return Object.assign(t,e),t},$c=s=>s?_o(s):_o,ds=$c((s,e)=>({isMobileMenuOpen:!1,isCartOpen:!1,isSearchOpen:!1,searchQuery:"",filters:{},selectedCategory:null,viewMode:"grid",sortBy:"newest",isProductModalOpen:!1,selectedProduct:null,isWishlistOpen:!1,isNewsletterModalOpen:!1,isLoading:!1,loadingMessage:"",notifications:[],toggleMobileMenu:()=>s(t=>({isMobileMenuOpen:!t.isMobileMenuOpen,isCartOpen:!1,isSearchOpen:!1})),toggleCart:()=>s(t=>({isCartOpen:!t.isCartOpen,isMobileMenuOpen:!1,isSearchOpen:!1})),toggleSearch:()=>s(t=>({isSearchOpen:!t.isSearchOpen,isMobileMenuOpen:!1,isCartOpen:!1})),closeAllModals:()=>s({isMobileMenuOpen:!1,isCartOpen:!1,isSearchOpen:!1,isProductModalOpen:!1,isWishlistOpen:!1,isNewsletterModalOpen:!1,selectedProduct:null}),setSearchQuery:t=>s({searchQuery:t}),setFilters:t=>s(r=>({filters:{...r.filters,...t}})),setSelectedCategory:t=>s({selectedCategory:t,filters:{...e().filters,category:t||void 0}}),setViewMode:t=>s({viewMode:t}),setSortBy:t=>s({sortBy:t}),openProductModal:t=>s({isProductModalOpen:!0,selectedProduct:t}),closeProductModal:()=>s({isProductModalOpen:!1,selectedProduct:null}),toggleWishlist:()=>s(t=>({isWishlistOpen:!t.isWishlistOpen,isCartOpen:!1,isMobileMenuOpen:!1})),toggleNewsletterModal:()=>s(t=>({isNewsletterModalOpen:!t.isNewsletterModalOpen})),setLoading:(t,r="")=>s({isLoading:t,loadingMessage:r}),addNotification:t=>{const r=Math.random().toString(36).substr(2,9);s(i=>({notifications:[...i.notifications,{...t,id:r}]}));const n=t.duration||5e3;setTimeout(()=>{e().removeNotification(r)},n)},removeNotification:t=>s(r=>({notifications:r.notifications.filter(n=>n.id!==t)})),clearNotifications:()=>s({notifications:[]}),resetUI:()=>s({isMobileMenuOpen:!1,isCartOpen:!1,isSearchOpen:!1,searchQuery:"",filters:{},selectedCategory:null,viewMode:"grid",sortBy:"newest",isProductModalOpen:!1,selectedProduct:null,isWishlistOpen:!1,isNewsletterModalOpen:!1,isLoading:!1,loadingMessage:"",notifications:[]})})),J=s=>typeof s=="string",_r=()=>{let s,e;const t=new Promise((r,n)=>{s=r,e=n});return t.resolve=s,t.reject=e,t},$o=s=>s==null?"":""+s,ag=(s,e,t)=>{s.forEach(r=>{e[r]&&(t[r]=e[r])})},og=/###/g,Co=s=>s&&s.indexOf("###")>-1?s.replace(og,"."):s,Oo=s=>!s||J(s),Nr=(s,e,t)=>{const r=J(e)?e.split("."):e;let n=0;for(;n<r.length-1;){if(Oo(s))return{};const i=Co(r[n]);!s[i]&&t&&(s[i]=new t),Object.prototype.hasOwnProperty.call(s,i)?s=s[i]:s={},++n}return Oo(s)?{}:{obj:s,k:Co(r[n])}},Po=(s,e,t)=>{const{obj:r,k:n}=Nr(s,e,Object);if(r!==void 0||e.length===1){r[n]=t;return}let i=e[e.length-1],a=e.slice(0,e.length-1),l=Nr(s,a,Object);for(;l.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),l=Nr(s,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=t},lg=(s,e,t,r)=>{const{obj:n,k:i}=Nr(s,e,Object);n[i]=n[i]||[],n[i].push(t)},Pn=(s,e)=>{const{obj:t,k:r}=Nr(s,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},cg=(s,e,t)=>{const r=Pn(s,t);return r!==void 0?r:Pn(e,t)},Cc=(s,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in s?J(s[r])||s[r]instanceof String||J(e[r])||e[r]instanceof String?t&&(s[r]=e[r]):Cc(s[r],e[r],t):s[r]=e[r]);return s},Ws=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ug={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dg=s=>J(s)?s.replace(/[&<>"'\/]/g,e=>ug[e]):s;class hg{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const fg=[" ",",","?","!",";"],pg=new hg(20),mg=(s,e,t)=>{e=e||"",t=t||"";const r=fg.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;const n=pg.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!n.test(s);if(!i){const a=s.indexOf(t);a>0&&!n.test(s.substring(0,a))&&(i=!0)}return i},Qi=(s,e,t=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const r=e.split(t);let n=s;for(let i=0;i<r.length;){if(!n||typeof n!="object")return;let a,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=t),l+=r[c],a=n[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;i+=c-i+1;break}n=a}return n},qr=s=>s==null?void 0:s.replace("_","-"),gg={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var t,r;(r=(t=console==null?void 0:console[s])==null?void 0:t.apply)==null||r.call(t,console,e)}};class En{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||gg,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(J(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new En(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new En(this.logger,e)}}var Pt=new En;class Vn{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(t)||0;this.observers[r].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,i])=>{for(let a=0;a<i;a++)n(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let a=0;a<i;a++)n.apply(n,[e,...t])})}}class Eo extends Vn{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,n={}){var u,d;const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],r&&(Array.isArray(r)?l.push(...r):J(r)&&i?l.push(...r.split(i)):l.push(r)));const c=Pn(this.data,l);return!c&&!t&&!r&&e.indexOf(".")>-1&&(e=l[0],t=l[1],r=l.slice(2).join(".")),c||!a||!J(r)?c:Qi((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[t],r,i)}addResource(e,t,r,n,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,t];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),n=t,t=l[1]),this.addNamespaces(t),Po(this.data,l,n),i.silent||this.emit("added",e,t,r,n)}addResources(e,t,r,n={silent:!1}){for(const i in r)(J(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,i,a={silent:!1,skipCopy:!1}){let l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),n=r,r=t,t=l[1]),this.addNamespaces(t);let c=Pn(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?Cc(c,r,i):c={...c,...r},Po(this.data,l,c),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}}var Oc={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,r,n){return s.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,t,r,n))??e}),e}};const Pc=Symbol("i18next/PATH_KEY");function yg(){const s=[],e=Object.create(null);let t;return e.get=(r,n)=>{var i;return(i=t==null?void 0:t.revoke)==null||i.call(t),n===Pc?s:(s.push(n),t=Proxy.revocable(r,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Yi(s,e){const{[Pc]:t}=s(yg());return t.join((e==null?void 0:e.keySeparator)??".")}const To={},hi=s=>!J(s)&&typeof s!="boolean"&&typeof s!="number";class Tn extends Vn{constructor(e,t={}){super(),ag(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Pt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const n=this.resolve(e,r);if((n==null?void 0:n.res)===void 0)return!1;const i=hi(n.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!mg(e,r,n);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:J(i)?[i]:i};const u=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(n)}return{key:e,namespaces:J(i)?[i]:i}}translate(e,t,r){let n=typeof t=="object"?{...t}:t;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";typeof e=="function"&&(e=Yi(e,{...this.options,...n})),Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],n),u=c[c.length-1];let d=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return p?i?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${d}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:l;const f=this.resolve(e,n);let m=f==null?void 0:f.res;const y=(f==null?void 0:f.usedKey)||l,g=(f==null?void 0:f.exactUsedKey)||l,v=["[object Number]","[object Function]","[object RegExp]"],w=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,j=n.count!==void 0&&!J(n.count),S=Tn.hasDefaultValue(n),O=j?this.pluralResolver.getSuffix(h,n.count,n):"",A=n.ordinal&&j?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",$=j&&!n.ordinal&&n.count===0,R=$&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${O}`]||n[`defaultValue${A}`]||n.defaultValue;let I=m;x&&!m&&S&&(I=R);const V=hi(I),ne=Object.prototype.toString.apply(I);if(x&&I&&V&&v.indexOf(ne)<0&&!(J(w)&&Array.isArray(I))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ie=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,I,{...n,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(f.res=ie,f.usedParams=this.getUsedParamsDetails(n),f):ie}if(a){const ie=Array.isArray(I),ae=ie?[]:{},Se=ie?g:y;for(const ee in I)if(Object.prototype.hasOwnProperty.call(I,ee)){const ce=`${Se}${a}${ee}`;S&&!m?ae[ee]=this.translate(ce,{...n,defaultValue:hi(R)?R[ee]:void 0,joinArrays:!1,ns:c}):ae[ee]=this.translate(ce,{...n,joinArrays:!1,ns:c}),ae[ee]===ce&&(ae[ee]=I[ee])}m=ae}}else if(x&&J(w)&&Array.isArray(m))m=m.join(w),m&&(m=this.extendTranslation(m,e,n,r));else{let ie=!1,ae=!1;!this.isValidLookup(m)&&S&&(ie=!0,m=R),this.isValidLookup(m)||(ae=!0,m=l);const ee=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ae?void 0:m,ce=S&&R!==m&&this.options.updateMissing;if(ae||ie||ce){if(this.logger.log(ce?"updateKey":"missingKey",h,u,l,ce?R:m),a){const he=this.resolve(l,{...n,keySeparator:!1});he&&he.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let he=0;he<Ee.length;he++)D.push(Ee[he]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(n.lng||this.language):D.push(n.lng||this.language);const de=(he,ye,Q)=>{var $e;const oe=S&&Q!==m?Q:ee;this.options.missingKeyHandler?this.options.missingKeyHandler(he,u,ye,oe,ce,n):($e=this.backendConnector)!=null&&$e.saveMissing&&this.backendConnector.saveMissing(he,u,ye,oe,ce,n),this.emit("missingKey",he,u,ye,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?D.forEach(he=>{const ye=this.pluralResolver.getSuffixes(he,n);$&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ye.indexOf(`${this.options.pluralSeparator}zero`)<0&&ye.push(`${this.options.pluralSeparator}zero`),ye.forEach(Q=>{de([he],l+Q,n[`defaultValue${Q}`]||R)})}):de(D,l,R))}m=this.extendTranslation(m,e,n,f,r),ae&&m===l&&this.options.appendNamespaceToMissingKey&&(m=`${u}${d}${l}`),(ae||ie)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,ie?m:void 0,n))}return i?(f.res=m,f.usedParams=this.getUsedParamsDetails(n),f):m}extendTranslation(e,t,r,n,i){var c,u;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=J(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const f=e.match(this.interpolator.nestingRegexp);h=f&&f.length}let p=r.replace&&!J(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||n.usedLng,r),d){const f=e.match(this.interpolator.nestingRegexp),m=f&&f.length;h<m&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(i==null?void 0:i[0])===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${t[0]}`),null):this.translate(...f,t),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=J(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=Oc.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,n,i,a,l;return J(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,t),d=u.key;n=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=t.count!==void 0&&!J(t.count),f=p&&!t.ordinal&&t.count===0,m=t.context!==void 0&&(J(t.context)||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(g=>{var v,w;this.isValidLookup(r)||(l=g,!To[`${y[0]}-${g}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(l))&&(To[`${y[0]}-${g}`]=!0,this.logger.warn(`key "${n}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(x=>{var O;if(this.isValidLookup(r))return;a=x;const j=[d];if((O=this.i18nFormat)!=null&&O.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,x,g,t);else{let A;p&&(A=this.pluralResolver.getSuffix(x,t.count,t));const $=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(t.ordinal&&A.indexOf(R)===0&&j.push(d+A.replace(R,this.options.pluralSeparator)),j.push(d+A),f&&j.push(d+$)),m){const I=`${d}${this.options.contextSeparator||"_"}${t.context}`;j.push(I),p&&(t.ordinal&&A.indexOf(R)===0&&j.push(I+A.replace(R,this.options.pluralSeparator)),j.push(I+A),f&&j.push(I+$))}}let S;for(;S=j.pop();)this.isValidLookup(r)||(i=S,r=this.getResource(x,g,S,t))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,n={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!J(e.replace);let n=r?e.replace:e;if(r&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const i of t)delete n[i]}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class No{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Pt.create("languageUtils")}getScriptPartFromCode(e){if(e=qr(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=qr(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(J(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const n=this.getScriptPartFromCode(r);if(this.isSupportedCode(n))return t=n;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),J(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),n=[],i=a=>{a&&(this.isSupportedCode(a)?n.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return J(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):J(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{n.indexOf(a)<0&&i(this.formatLanguageCode(a))}),n}}const Ao={zero:0,one:1,two:2,few:3,many:4,other:5},Ro={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class bg{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Pt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=qr(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ro;if(!e.match(/-|_/))return Ro;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(n=>`${t}${n}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((n,i)=>Ao[n]-Ao[i]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,t,r={}){const n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Io=(s,e,t,r=".",n=!0)=>{let i=cg(s,e,t);return!i&&n&&J(t)&&(i=Qi(s,t,r),i===void 0&&(i=Qi(e,t,r))),i},fi=s=>s.replace(/\$/g,"$$$$");class Lo{constructor(e={}){var t;this.logger=Pt.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:f,nestingSuffix:m,nestingSuffixEscaped:y,nestingOptionsSeparator:g,maxReplaces:v,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:dg,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Ws(i):a||"{{",this.suffix=l?Ws(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Ws(p):f||Ws("$t("),this.nestingSuffix=m?Ws(m):y||Ws(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=v||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,n){var f;let i,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const w=Io(t,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...n,...t,interpolationkey:m}):w}const y=m.split(this.formatSeparator),g=y.shift().trim(),v=y.join(this.formatSeparator).trim();return this.format(Io(t,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...n,...t,interpolationkey:g})};this.resetRegExp();const d=(n==null?void 0:n.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((f=n==null?void 0:n.interpolation)==null?void 0:f.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>fi(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?fi(this.escape(m)):fi(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const y=i[1].trim();if(a=u(y),a===void 0)if(typeof d=="function"){const v=d(e,i,n);a=J(v)?v:""}else if(n&&Object.prototype.hasOwnProperty.call(n,y))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!J(a)&&!this.useRawValueToEscape&&(a=$o(a));const g=m.safeValue(a);if(e=e.replace(i[0],g),h?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t,r={}){let n,i,a;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,a);const f=p.match(/'/g),m=p.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!m||m.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];a={...r},a=a.replace&&!J(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(u!==-1&&(c=n[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),n[1]=n[1].slice(0,u)),i=t(l.call(this,n[1].trim(),a),a),i&&n[0]===e&&!J(i))return i;J(i)||(i=$o(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),c.length&&(i=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const vg=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const r=s.split("(");e=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Do=s=>{const e={};return(t,r,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const a=r+JSON.stringify(i);let l=e[a];return l||(l=s(qr(r),n),e[a]=l),l(t)}},wg=s=>(e,t,r)=>s(qr(t),r)(e);class xg{constructor(e={}){this.logger=Pt.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Do:wg;this.formats={number:r((n,i)=>{const a=new Intl.NumberFormat(n,{...i});return l=>a.format(l)}),currency:r((n,i)=>{const a=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>a.format(l)}),datetime:r((n,i)=>{const a=new Intl.DateTimeFormat(n,{...i});return l=>a.format(l)}),relativetime:r((n,i)=>{const a=new Intl.RelativeTimeFormat(n,{...i});return l=>a.format(l,i.range||"day")}),list:r((n,i)=>{const a=new Intl.ListFormat(n,{...i});return l=>a.format(l)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Do(t)}format(e,t,r,n={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{var h;const{formatName:u,formatOptions:d}=vg(c);if(this.formats[u]){let p=l;try{const f=((h=n==null?void 0:n.formatParams)==null?void 0:h[n.interpolationkey])||{},m=f.locale||f.lng||n.locale||n.lng||r;p=this.formats[u](l,m,{...d,...n,...f})}catch(f){this.logger.warn(f)}return p}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const jg=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class Sg extends Vn{constructor(e,t,r,n={}){var i,a;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=Pt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,r,n.backend,n)}queueLoad(e,t,r,n){const i={},a={},l={},c={};return e.forEach(u=>{let d=!0;t.forEach(h=>{const p=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,d=!1,a[p]===void 0&&(a[p]=!0),i[p]===void 0&&(i[p]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,t,r){const n=e.split("|"),i=n[0],a=n[1];t&&this.emit("failedLoading",i,a,t),!t&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{lg(c.loaded,[i],a),jg(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,t,r,n=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:i,callback:a});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,n+1,i*2,a)},i);return}a(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(e,t);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,t,l)}prepareLoading(e,t,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();J(e)&&(e=this.languageUtils.toResolveHierarchy(e)),J(t)&&(t=[t]);const i=this.queueLoad(e,t,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,a),!a&&l&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,l),this.loaded(e,a,l)})}saveMissing(e,t,r,n,i,a={},l=()=>{}){var c,u,d,h,p;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((p=this.backend)!=null&&p.create){const f={...a,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,t,r,n,f):y=m(e,t,r,n),y&&typeof y.then=="function"?y.then(g=>l(null,g)).catch(l):l(null,y)}catch(y){l(y)}else m(e,t,r,n,l,f)}!e||!e[0]||this.store.addResource(e[0],t,r,n)}}}const Mo=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),J(s[1])&&(e.defaultValue=s[1]),J(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Fo=s=>{var e,t;return J(s.ns)&&(s.ns=[s.ns]),J(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),J(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((t=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},pn=()=>{},kg=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class Ar extends Vn{constructor(e={},t){if(super(),this.options=Fo(e),this.services={},this.logger=Pt,this.modules={external:[]},kg(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(J(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Mo();this.options={...r,...this.options,...Fo(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const n=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Pt.init(n(this.modules.logger),this.options):Pt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=xg;const d=new No(this.options);this.store=new Eo(this.options.resources,this.options);const h=this.services;h.logger=Pt,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new bg(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=n(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Lo(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Sg(n(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(f,...m)=>{this.emit(f,...m)}),this.modules.languageDetector&&(h.languageDetector=n(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=n(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Tn(this.services,this.options),this.translator.on("*",(f,...m)=>{this.emit(f,...m)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,t||(t=pn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=_r(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),t(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,t=pn){var i,a;let r=t;const n=J(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((n==null?void 0:n.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};n?c(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,t,r){const n=_r();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=pn),this.services.backendConnector.reload(e,t,i=>{n.resolve(),r(i)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Oc.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=_r();this.emit("languageChanging",e);const n=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===e&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),t&&t(l,(...u)=>this.t(...u))},a=l=>{var d,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=J(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(J(l)?[l]:l);u&&(this.language||n(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,p=>{i(p,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,r){const n=(i,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([i,a].concat(l)):c={...a},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||n.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(i)?d=i.map(h=>(typeof h=="function"&&(h=Yi(h,{...this.options,...a})),`${c.keyPrefix}${u}${h}`)):(typeof i=="function"&&(i=Yi(i,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${u}${i}`:i),this.t(d,c)};return J(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(t.precheck){const l=t.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!n||a(i,e)))}loadNamespaces(e,t){const r=_r();return this.options.ns?(J(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),t&&t(n)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=_r();J(e)&&(e=[e]);const n=this.options.preload||[],i=e.filter(a=>n.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=n.concat(i),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){var n,i;if(e||(e=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new No(Mo());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new Ar(e,t);return r.createInstance=Ar.createInstance,r}cloneInstance(e={},t=pn){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},i=new Ar(n);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});i.store=new Eo(l,n),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new Lo(n)),i.translator=new Tn(i.services,n),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ue=Ar.createInstance();Ue.createInstance;Ue.dir;Ue.init;Ue.loadResources;Ue.reloadResources;Ue.use;Ue.changeLanguage;Ue.getFixedT;Ue.t;Ue.exists;Ue.setDefaultNamespace;Ue.hasLoadedNamespace;Ue.loadNamespaces;Ue.loadLanguages;const _g=(s,e,t,r)=>{var i,a,l,c;const n=[t,{code:e,...r||{}}];if((a=(i=s==null?void 0:s.services)==null?void 0:i.logger)!=null&&a.forward)return s.services.logger.forward(n,"warn","react-i18next::",!0);Ns(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(c=(l=s==null?void 0:s.services)==null?void 0:l.logger)!=null&&c.warn?s.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},Uo={},Xi=(s,e,t,r)=>{Ns(t)&&Uo[t]||(Ns(t)&&(Uo[t]=new Date),_g(s,e,t,r))},Ec=(s,e)=>()=>{if(s.isInitialized)e();else{const t=()=>{setTimeout(()=>{s.off("initialized",t)},0),e()};s.on("initialized",t)}},Zi=(s,e,t)=>{s.loadNamespaces(e,Ec(s,t))},Bo=(s,e,t,r)=>{if(Ns(t)&&(t=[t]),s.options.preload&&s.options.preload.indexOf(e)>-1)return Zi(s,t,r);t.forEach(n=>{s.options.ns.indexOf(n)<0&&s.options.ns.push(n)}),s.loadLanguages(e,Ec(s,r))},$g=(s,e,t={})=>!e.languages||!e.languages.length?(Xi(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(s,{lng:t.lng,precheck:(r,n)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!n(r.isLanguageChangingTo,s))return!1}}),Ns=s=>typeof s=="string",Cg=s=>typeof s=="object"&&s!==null,Og=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Pg={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Eg=s=>Pg[s],Tg=s=>s.replace(Og,Eg);let ea={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Tg};const Ng=(s={})=>{ea={...ea,...s}},Ag=()=>ea;let Tc;const Rg=s=>{Tc=s},Ig=()=>Tc,Lg={type:"3rdParty",init(s){Ng(s.options.react),Rg(s)}},Dg=_.createContext();class Mg{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Fg=(s,e)=>{const t=_.useRef();return _.useEffect(()=>{t.current=s},[s,e]),t.current},Nc=(s,e,t,r)=>s.getFixedT(e,t,r),Ug=(s,e,t,r)=>_.useCallback(Nc(s,e,t,r),[s,e,t,r]),Bg=(s,e={})=>{var j,S,O,A;const{i18n:t}=e,{i18n:r,defaultNS:n}=_.useContext(Dg)||{},i=t||r||Ig();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Mg),!i){Xi(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const $=(I,V)=>Ns(V)?V:Cg(V)&&Ns(V.defaultValue)?V.defaultValue:Array.isArray(I)?I[I.length-1]:I,R=[$,{},!1];return R.t=$,R.i18n={},R.ready=!1,R}(j=i.options.react)!=null&&j.wait&&Xi(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Ag(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=a;let u=s||n||((S=i.options)==null?void 0:S.defaultNS);u=Ns(u)?[u]:u||["translation"],(A=(O=i.reportNamespaces).addUsedNamespaces)==null||A.call(O,u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every($=>$g($,i,a)),h=Ug(i,e.lng||null,a.nsMode==="fallback"?u:u[0],c),p=()=>h,f=()=>Nc(i,e.lng||null,a.nsMode==="fallback"?u:u[0],c),[m,y]=_.useState(p);let g=u.join();e.lng&&(g=`${e.lng}${g}`);const v=Fg(g),w=_.useRef(!0);_.useEffect(()=>{const{bindI18n:$,bindI18nStore:R}=a;w.current=!0,!d&&!l&&(e.lng?Bo(i,e.lng,u,()=>{w.current&&y(f)}):Zi(i,u,()=>{w.current&&y(f)})),d&&v&&v!==g&&w.current&&y(f);const I=()=>{w.current&&y(f)};return $&&(i==null||i.on($,I)),R&&(i==null||i.store.on(R,I)),()=>{w.current=!1,i&&$&&($==null||$.split(" ").forEach(V=>i.off(V,I))),R&&i&&R.split(" ").forEach(V=>i.store.off(V,I))}},[i,g]),_.useEffect(()=>{w.current&&d&&y(p)},[i,c,d]);const x=[m,i,d];if(x.t=m,x.i18n=i,x.ready=d,d||!d&&!l)return x;throw new Promise($=>{e.lng?Bo(i,e.lng,u,()=>$()):Zi(i,u,()=>$())})},{slice:zg,forEach:qg}=[];function Hg(s){return qg.call(zg.call(arguments,1),e=>{if(e)for(const t in e)s[t]===void 0&&(s[t]=e[t])}),s}function Wg(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(s))}const zo=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Vg=function(s,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let i=`${s}=${n}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!zo.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!zo.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},qo={create(s,e,t,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+t*60*1e3)),r&&(n.domain=r),document.cookie=Vg(s,e,n)},read(s){const e=`${s}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let n=t[r];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var Gg={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return qo.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:n,cookieOptions:i}=e;t&&typeof document<"u"&&qo.create(t,s,r,n,i)}},Kg={name:"querystring",lookup(s){var r;let{lookupQuerystring:e}=s,t;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const a=n.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(t=a[l].substring(c+1))}}return t}},Jg={name:"hash",lookup(s){var n;let{lookupHash:e,lookupFromHashIndex:t}=s,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const l=a.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===e&&(r=l[c].substring(u+1))}}if(r)return r;if(!r&&t>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(n=l[typeof t=="number"?t:0])==null?void 0:n.replace("/",""):void 0}}}return r}};let Vs=null;const Ho=()=>{if(Vs!==null)return Vs;try{if(Vs=typeof window<"u"&&window.localStorage!==null,!Vs)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Vs=!1}return Vs};var Qg={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&Ho())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:t}=e;t&&Ho()&&window.localStorage.setItem(t,s)}};let Gs=null;const Wo=()=>{if(Gs!==null)return Gs;try{if(Gs=typeof window<"u"&&window.sessionStorage!==null,!Gs)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Gs=!1}return Gs};var Yg={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&Wo())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:t}=e;t&&Wo()&&window.sessionStorage.setItem(t,s)}},Xg={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:n}=navigator;if(t)for(let i=0;i<t.length;i++)e.push(t[i]);r&&e.push(r),n&&e.push(n)}return e.length>0?e:void 0}},Zg={name:"htmlTag",lookup(s){let{htmlTag:e}=s,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},ey={name:"path",lookup(s){var n;let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(n=t[typeof e=="number"?e:0])==null?void 0:n.replace("/",""):void 0}},ty={name:"subdomain",lookup(s){var n,i;let{lookupFromSubdomainIndex:e}=s;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((i=(n=window.location)==null?void 0:n.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let Ac=!1;try{document.cookie,Ac=!0}catch{}const Rc=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Ac||Rc.splice(1,1);const sy=()=>({order:Rc,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class Ic{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Hg(t,this.options||{},sy()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=n=>n.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Gg),this.addDetector(Kg),this.addDetector(Qg),this.addDetector(Yg),this.addDetector(Xg),this.addDetector(Zg),this.addDetector(ey),this.addDetector(ty),this.addDetector(Jg)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let n=this.detectors[r].lookup(this.options);n&&typeof n=="string"&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(r=>r!=null&&!Wg(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Ic.type="languageDetector";const ry="Welcome",ny="Search",iy="Search products...",ay="Cart",oy="Wishlist",ly="Account",cy="Login",uy="Register",dy="Logout",hy="Loading...",fy="Error",py="Success",my="Save",gy="Cancel",yy="Edit",by="Add",vy="Remove",wy="Close",xy="Back",jy="Next",Sy="Previous",ky="Submit",_y="Reset",$y="Clear",Cy="Select",Oy="Choose",Py="View",Ey="Show",Ty="Hide",Ny="More",Ay="Less",Ry="All",Iy="None",Ly="Yes",Dy="No",My="OK",Fy="Apply",Uy="Confirm",By="Language",zy="Currency",qy="Price",Hy="Total",Wy="Subtotal",Vy="Tax",Gy="Shipping",Ky="Discount",Jy="Free",Qy="Sale",Yy="Featured",Xy="Popular",Zy="Best Seller",eb="In Stock",tb="Out of Stock",sb="Quantity",rb="Size",nb="Color",ib="Category",ab="Brand",ob="Rating",lb="Reviews",cb="Description",ub="Specifications",db="Features",hb="Benefits",fb="Details",pb="Information",mb="Contact",gb="About",yb="Help",bb="Support",vb="FAQ",wb="Terms",xb="Privacy",jb="Policy",Sb="Shipping Information",kb="Return Policy",_b="Size Guide",$b="Care Instructions",Cb="Order via WhatsApp",Ob="WhatsApp Order",Pb="New Order",Eb="Order Details",Tb="Total Amount",Nb="Please confirm and provide shipping details",Ab={welcome:ry,search:ny,searchPlaceholder:iy,cart:ay,wishlist:oy,account:ly,login:cy,register:uy,logout:dy,loading:hy,error:fy,success:py,save:my,cancel:gy,delete:"Delete",edit:yy,add:by,remove:vy,close:wy,back:xy,next:jy,previous:Sy,continue:"Continue",submit:ky,reset:_y,clear:$y,select:Cy,choose:Oy,view:Py,show:Ey,hide:Ty,more:Ny,less:Ay,all:Ry,none:Iy,yes:Ly,no:Dy,ok:My,apply:Fy,confirm:Uy,language:By,currency:zy,price:qy,total:Hy,subtotal:Wy,tax:Vy,shipping:Gy,discount:Ky,free:Jy,new:"New",sale:Qy,featured:Yy,popular:Xy,bestSeller:Zy,inStock:eb,outOfStock:tb,quantity:sb,size:rb,color:nb,category:ib,brand:ab,rating:ob,reviews:lb,description:cb,specifications:ub,features:db,benefits:hb,details:fb,information:pb,contact:mb,about:gb,help:yb,support:bb,faq:vb,terms:wb,privacy:xb,policy:jb,shippingInfo:Sb,returnPolicy:kb,sizeGuide:_b,careInstructions:$b,orderViaWhatsApp:Cb,whatsAppOrder:Ob,newOrder:Pb,orderDetails:Eb,totalAmount:Tb,pleaseConfirm:Nb},Rb="Hijabs",Ib="Abayas",Lb="Dresses",Db="Coords",Mb="Accessories",Fb="Home",Ub="Shop",Bb="New Arrivals",zb="Sale",qb="Best Sellers",Hb="Modal Hijabs",Wb="Jersey Hijabs",Vb="Chiffon Hijabs",Gb="Satin Hijabs",Kb="Embroidered Abayas",Jb="Pleated Abayas",Qb="Open Abayas",Yb="Abaya Dresses",Xb="Top & Skirt Sets",Zb="Top & Pants Sets",ev="Knitwear Sets",tv="Hijab Caps",sv="Magnets",rv="Hair Ties",nv="Neck Covers",iv="My Account",av="Order History",ov="Wishlist",lv="Settings",cv="Profile",uv="Addresses",dv="Payment Methods",hv="Notifications",fv="Preferences",pv={hijabs:Rb,abayas:Ib,dresses:Lb,coords:Db,accessories:Mb,home:Fb,shop:Ub,newArrivals:Bb,sale:zb,bestSellers:qb,modalHijabs:Hb,jerseyHijabs:Wb,chiffonHijabs:Vb,satinHijabs:Gb,embroideredAbayas:Kb,pleatedAbayas:Jb,openAbayas:Qb,abayaDresses:Yb,topSkirtSets:Xb,topPantsSets:Zb,knitwearSets:ev,hijabCaps:tv,magnets:sv,hairTies:rv,neckCovers:nv,myAccount:iv,orderHistory:av,wishlist:ov,settings:lv,profile:cv,addresses:uv,paymentMethods:dv,notifications:hv,preferences:fv},mv="Add to Cart",gv="Add to Wishlist",yv="Remove from Wishlist",bv="Quick View",vv="Select Size",wv="Select Color",xv="Out of Stock",jv="In Stock",Sv="Limited Stock",kv="New Arrival",_v="Best Seller",$v="Sale",Cv="Free Shipping",Ov="Fast Delivery",Pv="Secure Payment",Ev="Easy Returns",Tv="Size Guide",Nv="Care Instructions",Av="Product Details",Rv="Specifications",Iv="Reviews",Lv="Write a Review",Dv="Related Products",Mv="You May Also Like",Fv="Recently Viewed",Uv="Frequently Bought Together",Bv="Complete the Look",zv="Size Chart",qv="Measurements",Hv="Fabric",Wv="Care",Vv="Origin",Gv="Brand",Kv="Model",Jv="SKU",Qv="Weight",Yv="Dimensions",Xv="Shipping Information",Zv="Return Policy",ew="Warranty",tw="Tags",sw="Categories",rw="Availability",nw="Quantity",iw="Price",aw="Original Price",ow="Sale Price",lw="Discount",cw="Total",uw="Subtotal",dw="Tax",hw="Shipping",fw="Free",pw="Estimated Delivery",mw="Shipping Options",gw="Payment Options",yw="Checkout",bw="Proceed to Checkout",vw="Order via WhatsApp",ww="Continue Shopping",xw="Update Cart",jw="Clear Cart",Sw="Your cart is empty",kw="Cart Subtotal",_w="Cart Total",$w="Items in Cart",Cw="Item added to cart",Ow="Item removed from cart",Pw="Item updated in cart",Ew="Cart updated",Tw="Your wishlist is empty",Nw="Item added to wishlist",Aw="Item removed from wishlist",Rw="Wishlist updated",Iw={addToCart:mv,addToWishlist:gv,removeFromWishlist:yv,quickView:bv,selectSize:vv,selectColor:wv,outOfStock:xv,inStock:jv,limitedStock:Sv,newArrival:kv,bestSeller:_v,sale:$v,freeShipping:Cv,fastDelivery:Ov,securePayment:Pv,easyReturns:Ev,sizeGuide:Tv,careInstructions:Nv,productDetails:Av,specifications:Rv,reviews:Iv,writeReview:Lv,relatedProducts:Dv,youMayAlsoLike:Mv,recentlyViewed:Fv,frequentlyBoughtTogether:Uv,completeTheLook:Bv,sizeChart:zv,measurements:qv,fabric:Hv,care:Wv,origin:Vv,brand:Gv,model:Kv,sku:Jv,weight:Qv,dimensions:Yv,shippingInfo:Xv,returnPolicy:Zv,warranty:ew,tags:tw,categories:sw,availability:rw,quantity:nw,price:iw,originalPrice:aw,salePrice:ow,discount:lw,total:cw,subtotal:uw,tax:dw,shipping:hw,free:fw,estimatedDelivery:pw,shippingOptions:mw,paymentOptions:gw,checkout:yw,proceedToCheckout:bw,orderViaWhatsApp:vw,continueShopping:ww,updateCart:xw,clearCart:jw,cartEmpty:Sw,cartSubtotal:kw,cartTotal:_w,itemsInCart:$w,itemAdded:Cw,itemRemoved:Ow,itemUpdated:Pw,cartUpdated:Ew,wishlistEmpty:Tw,itemAddedToWishlist:Nw,itemRemovedFromWishlist:Aw,wishlistUpdated:Rw},Lw={title:"Discover Elegant Modest Fashion",subtitle:"Premium hijabs, abayas, and modest clothing for the modern Muslim woman",cta:"Shop Collection",ctaSecondary:"Watch Lookbook",badge:"Premium Quality  Trusted by 10,000+ Customers",features:{freeShipping:"Free Shipping",orderViaWhatsApp:"Order via WhatsApp",satisfactionGuaranteed:"Satisfaction Guaranteed"}},Dw={title:"Shop by Category",subtitle:"Find your perfect modest fashion pieces"},Mw={title:"Featured Products",subtitle:"Handpicked selections just for you"},Fw={title:"What Our Customers Say",subtitle:"Join thousands of satisfied customers"},Uw={title:"Stay Updated",subtitle:"Get the latest fashion trends and exclusive offers",placeholder:"Enter your email address",button:"Subscribe",success:"Thank you for subscribing!",error:"Please enter a valid email address"},Bw={hero:Lw,categories:Dw,featured:Mw,testimonials:Fw,newsletter:Uw},zw="Bienvenue",qw="Rechercher",Hw="Rechercher des produits...",Ww="Panier",Vw="Liste de souhaits",Gw="Compte",Kw="Connexion",Jw="S'inscrire",Qw="Dconnexion",Yw="Chargement...",Xw="Erreur",Zw="Succs",e0="Enregistrer",t0="Annuler",s0="Modifier",r0="Ajouter",n0="Retirer",i0="Fermer",a0="Retour",o0="Suivant",l0="Prcdent",c0="Soumettre",u0="Rinitialiser",d0="Effacer",h0="Slectionner",f0="Choisir",p0="Voir",m0="Afficher",g0="Masquer",y0="Plus",b0="Moins",v0="Tout",w0="Aucun",x0="Oui",j0="Non",S0="OK",k0="Appliquer",_0="Confirmer",$0="Langue",C0="Devise",O0="Prix",P0="Total",E0="Sous-total",T0="Taxe",N0="Livraison",A0="Remise",R0="Gratuit",I0="Vente",L0="En vedette",D0="Populaire",M0="Meilleure vente",F0="En stock",U0="Rupture de stock",B0="Quantit",z0="Taille",q0="Couleur",H0="Catgorie",W0="Marque",V0="Note",G0="Avis",K0="Description",J0="Spcifications",Q0="Caractristiques",Y0="Avantages",X0="Dtails",Z0="Information",ex="Contact",tx=" propos",sx="Aide",rx="Support",nx="FAQ",ix="Conditions",ax="Confidentialit",ox="Politique",lx="Informations de livraison",cx="Politique de retour",ux="Guide des tailles",dx="Instructions d'entretien",hx="Commander via WhatsApp",fx="Commande WhatsApp",px="Nouvelle Commande",mx="Dtails de la Commande",gx="Montant Total",yx="Veuillez confirmer et fournir les dtails de livraison",bx="Recherche en cours...",vx="Aucun rsultat trouv",wx="Rsultats de recherche",xx="Voir tous les rsultats pour",jx="Recherches rcentes",Sx="Recherches tendances",kx="Effacer les recherches rcentes",_x="Recherches populaires",$x="Parcourir les catgories",Cx="Essayez de rechercher avec des mots-cls diffrents",Ox={welcome:zw,search:qw,searchPlaceholder:Hw,cart:Ww,wishlist:Vw,account:Gw,login:Kw,register:Jw,logout:Qw,loading:Yw,error:Xw,success:Zw,save:e0,cancel:t0,delete:"Supprimer",edit:s0,add:r0,remove:n0,close:i0,back:a0,next:o0,previous:l0,continue:"Continuer",submit:c0,reset:u0,clear:d0,select:h0,choose:f0,view:p0,show:m0,hide:g0,more:y0,less:b0,all:v0,none:w0,yes:x0,no:j0,ok:S0,apply:k0,confirm:_0,language:$0,currency:C0,price:O0,total:P0,subtotal:E0,tax:T0,shipping:N0,discount:A0,free:R0,new:"Nouveau",sale:I0,featured:L0,popular:D0,bestSeller:M0,inStock:F0,outOfStock:U0,quantity:B0,size:z0,color:q0,category:H0,brand:W0,rating:V0,reviews:G0,description:K0,specifications:J0,features:Q0,benefits:Y0,details:X0,information:Z0,contact:ex,about:tx,help:sx,support:rx,faq:nx,terms:ix,privacy:ax,policy:ox,shippingInfo:lx,returnPolicy:cx,sizeGuide:ux,careInstructions:dx,orderViaWhatsApp:hx,whatsAppOrder:fx,newOrder:px,orderDetails:mx,totalAmount:gx,pleaseConfirm:yx,searching:bx,noResultsFound:vx,searchResults:wx,viewAllResults:xx,recentSearches:jx,trendingSearches:Sx,clearRecent:kx,popularSearches:_x,browseCategories:$x,tryDifferentKeywords:Cx},Px="Hijabs",Ex="Abayas",Tx="Robes",Nx="Coords",Ax="Ensemble",Rx="Boxes Cadeau",Ix="Accueil",Lx="Boutique",Dx="Nouveauts",Mx="Vente",Fx="Meilleures ventes",Ux="Hijabs Modal",Bx="Hijabs Jersey",zx="Hijabs Chiffon",qx="Hijabs Satin",Hx="Abayas Brodes",Wx="Abayas Plisses",Vx="Abayas Ouvertes",Gx="Robes Abaya",Kx="Ensembles Haut & Jupe",Jx="Ensembles Haut & Pantalon",Qx="Ensembles Tricot",Yx="Bonnets Hijab",Xx="Aimants",Zx="lastiques  cheveux",ej="Couvre-nuques",tj="Mon Compte",sj="Historique des commandes",rj="Liste de souhaits",nj="Paramtres",ij="Profil",aj="Adresses",oj="Moyens de paiement",lj="Notifications",cj="Prfrences",uj={hijabs:Px,abayas:Ex,dresses:Tx,coords:Nx,ensemble:Ax,boxesCadeau:Rx,home:Ix,shop:Lx,newArrivals:Dx,sale:Mx,bestSellers:Fx,modalHijabs:Ux,jerseyHijabs:Bx,chiffonHijabs:zx,satinHijabs:qx,embroideredAbayas:Hx,pleatedAbayas:Wx,openAbayas:Vx,abayaDresses:Gx,topSkirtSets:Kx,topPantsSets:Jx,knitwearSets:Qx,hijabCaps:Yx,magnets:Xx,hairTies:Zx,neckCovers:ej,myAccount:tj,orderHistory:sj,wishlist:rj,settings:nj,profile:ij,addresses:aj,paymentMethods:oj,notifications:lj,preferences:cj},dj="Ajouter au Panier",hj="Ajouter  la Liste de Souhaits",fj="Retirer de la Liste de Souhaits",pj="Aperu Rapide",mj="Slectionner la Taille",gj="Slectionner la Couleur",yj="Rupture de stock",bj="En stock",vj="Stock Limit",wj="Nouveaut",xj="Meilleure Vente",jj="Vente",Sj="Livraison Gratuite",kj="Livraison Rapide",_j="Paiement Scuris",$j="Retours Faciles",Cj="Guide des Tailles",Oj="Instructions d'Entretien",Pj="Dtails du Produit",Ej="Spcifications",Tj="avis",Nj="crire un Avis",Aj="Produits Associs",Rj="Vous Pourriez Aussi Aimer",Ij="Rcemment Consults",Lj="Achets Ensemble Frquemment",Dj="Complter le Look",Mj="Tableau des Tailles",Fj="Mesures",Uj="Tissu",Bj="Entretien",zj="Origine",qj="Marque",Hj="Modle",Wj="SKU",Vj="Poids",Gj="Dimensions",Kj="Informations de Livraison",Jj="Politique de Retour",Qj="Garantie",Yj="tiquettes",Xj="Catgories",Zj="Disponibilit",eS="Quantit",tS="Prix",sS="Prix Original",rS="Prix de Vente",nS="Remise",iS="Total",aS="Sous-total",oS="Taxe",lS="Livraison",cS="Gratuit",uS="Livraison Estime",dS="Options de Livraison",hS="Options de Paiement",fS="Commander",pS="Procder au Paiement",mS="Commander via WhatsApp",gS="Continuer les Achats",yS="Mettre  Jour le Panier",bS="Vider le Panier",vS="Votre panier est vide",wS="Sous-total du Panier",xS="Total du Panier",jS="Articles dans le Panier",SS="Article ajout au panier",kS="Article retir du panier",_S="Article mis  jour dans le panier",$S="Panier mis  jour",CS="Votre liste de souhaits est vide",OS="Article ajout  la liste de souhaits",PS="Article retir de la liste de souhaits",ES="Liste de souhaits mise  jour",TS="Produit introuvable",NS="Retour aux Produits",AS="ajout au panier",RS="Ajout  la liste de souhaits",IS="Retir de la liste de souhaits",LS="Lien copi dans le presse-papiers",DS="Veuillez slectionner la couleur et la taille",MS="Accueil",FS="Produits",US="Couleur",BS="Taille",zS="Tarification Spciale",qS="Achetez 1 hijab pour 13 ou 2 hijabs pour 25. Mlangez et assortissez n'importe quels hijabs !",HS={addToCart:dj,addToWishlist:hj,removeFromWishlist:fj,quickView:pj,selectSize:mj,selectColor:gj,outOfStock:yj,inStock:bj,limitedStock:vj,newArrival:wj,bestSeller:xj,sale:jj,freeShipping:Sj,fastDelivery:kj,securePayment:_j,easyReturns:$j,sizeGuide:Cj,careInstructions:Oj,productDetails:Pj,specifications:Ej,reviews:Tj,writeReview:Nj,relatedProducts:Aj,youMayAlsoLike:Rj,recentlyViewed:Ij,frequentlyBoughtTogether:Lj,completeTheLook:Dj,sizeChart:Mj,measurements:Fj,fabric:Uj,care:Bj,origin:zj,brand:qj,model:Hj,sku:Wj,weight:Vj,dimensions:Gj,shippingInfo:Kj,returnPolicy:Jj,warranty:Qj,tags:Yj,categories:Xj,availability:Zj,quantity:eS,price:tS,originalPrice:sS,salePrice:rS,discount:nS,total:iS,subtotal:aS,tax:oS,shipping:lS,free:cS,estimatedDelivery:uS,shippingOptions:dS,paymentOptions:hS,checkout:fS,proceedToCheckout:pS,orderViaWhatsApp:mS,continueShopping:gS,updateCart:yS,clearCart:bS,cartEmpty:vS,cartSubtotal:wS,cartTotal:xS,itemsInCart:jS,itemAdded:SS,itemRemoved:kS,itemUpdated:_S,cartUpdated:$S,wishlistEmpty:CS,itemAddedToWishlist:OS,itemRemovedFromWishlist:PS,wishlistUpdated:ES,productNotFound:TS,backToProducts:NS,addedToCart:AS,addedToWishlist:RS,removedFromWishlist:IS,linkCopied:LS,selectColorSize:DS,home:MS,products:FS,color:US,size:BS,specialPricing:zS,buy1For:qS},WS={title:"Dcouvrez la Mode Modeste lgante",subtitle:"Hijabs, abayas et vtements modestes de qualit suprieure pour la femme musulmane moderne",cta:"Voir la Collection",ctaSecondary:"Regarder le Lookbook",badge:"Qualit Premium  Fait confiance par plus de 10 000 clients",features:{freeShipping:"Livraison Gratuite",orderViaWhatsApp:"Commander via WhatsApp",satisfactionGuaranteed:"Satisfaction Garantie"}},VS={shopByCategory:"Acheter par Catgorie",items:"articles"},GS={title:"Produits en Vedette",subtitle:"Slections soigneusement choisies rien que pour vous",curatedSelection:"Slection Curate",viewAll:"Voir tout"},KS={title:"Ce Que Disent Nos Clients",subtitle:"Rejoignez des milliers de clients satisfaits"},JS={title:"Restez Inform",subtitle:"Obtenez les dernires tendances de mode et offres exclusives",placeholder:"Entrez votre adresse e-mail",button:"S'abonner",success:"Merci de vous tre abonn !",error:"Veuillez entrer une adresse e-mail valide"},QS={hero:WS,categories:VS,featured:GS,testimonials:KS,newsletter:JS},YS="Benvenuto",XS="Cerca",ZS="Cerca prodotti...",ek="Carrello",tk="Lista desideri",sk="Account",rk="Accedi",nk="Registrati",ik="Esci",ak="Caricamento...",ok="Errore",lk="Successo",ck="Salva",uk="Annulla",dk="Modifica",hk="Aggiungi",fk="Rimuovi",pk="Chiudi",mk="Indietro",gk="Avanti",yk="Precedente",bk="Invia",vk="Reimposta",wk="Cancella",xk="Seleziona",jk="Scegli",Sk="Visualizza",kk="Mostra",_k="Nascondi",$k="Altro",Ck="Meno",Ok="Tutto",Pk="Nessuno",Ek="S",Tk="No",Nk="OK",Ak="Applica",Rk="Conferma",Ik="Lingua",Lk="Valuta",Dk="Prezzo",Mk="Totale",Fk="Subtotale",Uk="Tassa",Bk="Spedizione",zk="Sconto",qk="Gratuito",Hk="Vendita",Wk="In evidenza",Vk="Popolare",Gk="Bestseller",Kk="Disponibile",Jk="Esaurito",Qk="Quantit",Yk="Taglia",Xk="Colore",Zk="Categoria",e_="Marca",t_="Valutazione",s_="Recensioni",r_="Descrizione",n_="Specifiche",i_="Caratteristiche",a_="Vantaggi",o_="Dettagli",l_="Informazioni",c_="Contatto",u_="Chi siamo",d_="Aiuto",h_="Supporto",f_="FAQ",p_="Termini",m_="Privacy",g_="Politica",y_="Informazioni spedizione",b_="Politica reso",v_="Guida taglie",w_="Istruzioni cura",x_="Ordina via WhatsApp",j_="Ordine WhatsApp",S_="Nuovo Ordine",k_="Dettagli Ordine",__="Importo Totale",$_="Si prega di confermare e fornire i dettagli di spedizione",C_={welcome:YS,search:XS,searchPlaceholder:ZS,cart:ek,wishlist:tk,account:sk,login:rk,register:nk,logout:ik,loading:ak,error:ok,success:lk,save:ck,cancel:uk,delete:"Elimina",edit:dk,add:hk,remove:fk,close:pk,back:mk,next:gk,previous:yk,continue:"Continua",submit:bk,reset:vk,clear:wk,select:xk,choose:jk,view:Sk,show:kk,hide:_k,more:$k,less:Ck,all:Ok,none:Pk,yes:Ek,no:Tk,ok:Nk,apply:Ak,confirm:Rk,language:Ik,currency:Lk,price:Dk,total:Mk,subtotal:Fk,tax:Uk,shipping:Bk,discount:zk,free:qk,new:"Nuovo",sale:Hk,featured:Wk,popular:Vk,bestSeller:Gk,inStock:Kk,outOfStock:Jk,quantity:Qk,size:Yk,color:Xk,category:Zk,brand:e_,rating:t_,reviews:s_,description:r_,specifications:n_,features:i_,benefits:a_,details:o_,information:l_,contact:c_,about:u_,help:d_,support:h_,faq:f_,terms:p_,privacy:m_,policy:g_,shippingInfo:y_,returnPolicy:b_,sizeGuide:v_,careInstructions:w_,orderViaWhatsApp:x_,whatsAppOrder:j_,newOrder:S_,orderDetails:k_,totalAmount:__,pleaseConfirm:$_},O_="Hijab",P_="Abaya",E_="Vestiti",T_="Coordinati",N_="Accessori",A_="Home",R_="Negozio",I_="Nuovi arrivi",L_="Saldi",D_="Bestseller",M_="Hijab Modal",F_="Hijab Jersey",U_="Hijab Chiffon",B_="Hijab Satin",z_="Abaya Ricamate",q_="Abaya Pieghettate",H_="Abaya Aperte",W_="Vestiti Abaya",V_="Set Top & Gonna",G_="Set Top & Pantaloni",K_="Set Maglieria",J_="Cappelli Hijab",Q_="Magneti",Y_="Elastici per capelli",X_="Copricollo",Z_="Il Mio Account",e$="Cronologia ordini",t$="Lista desideri",s$="Impostazioni",r$="Profilo",n$="Indirizzi",i$="Metodi di pagamento",a$="Notifiche",o$="Preferenze",l$={hijabs:O_,abayas:P_,dresses:E_,coords:T_,accessories:N_,home:A_,shop:R_,newArrivals:I_,sale:L_,bestSellers:D_,modalHijabs:M_,jerseyHijabs:F_,chiffonHijabs:U_,satinHijabs:B_,embroideredAbayas:z_,pleatedAbayas:q_,openAbayas:H_,abayaDresses:W_,topSkirtSets:V_,topPantsSets:G_,knitwearSets:K_,hijabCaps:J_,magnets:Q_,hairTies:Y_,neckCovers:X_,myAccount:Z_,orderHistory:e$,wishlist:t$,settings:s$,profile:r$,addresses:n$,paymentMethods:i$,notifications:a$,preferences:o$},c$="Aggiungi al Carrello",u$="Aggiungi alla Lista Desideri",d$="Rimuovi dalla Lista Desideri",h$="Anteprima Rapida",f$="Seleziona Taglia",p$="Seleziona Colore",m$="Esaurito",g$="Disponibile",y$="Stock Limitato",b$="Nuovo Arrivo",v$="Bestseller",w$="Saldi",x$="Spedizione Gratuita",j$="Consegna Veloce",S$="Pagamento Sicuro",k$="Resi Facili",_$="Guida Taglie",$$="Istruzioni Cura",C$="Dettagli Prodotto",O$="Specifiche",P$="Recensioni",E$="Scrivi una Recensione",T$="Prodotti Correlati",N$="Potrebbe Piacerti Anche",A$="Visualizzati di Recente",R$="Acquistati Insieme Spesso",I$="Completa il Look",L$="Tabella Taglie",D$="Misure",M$="Tessuto",F$="Cura",U$="Origine",B$="Marca",z$="Modello",q$="SKU",H$="Peso",W$="Dimensioni",V$="Informazioni Spedizione",G$="Politica Reso",K$="Garanzia",J$="Tag",Q$="Categorie",Y$="Disponibilit",X$="Quantit",Z$="Prezzo",eC="Prezzo Originale",tC="Prezzo Scontato",sC="Sconto",rC="Totale",nC="Subtotale",iC="Tassa",aC="Spedizione",oC="Gratuito",lC="Consegna Stimata",cC="Opzioni Spedizione",uC="Opzioni Pagamento",dC="Acquista",hC="Procedi all'Acquisto",fC="Ordina via WhatsApp",pC="Continua Shopping",mC="Aggiorna Carrello",gC="Svuota Carrello",yC="Il tuo carrello  vuoto",bC="Subtotale Carrello",vC="Totale Carrello",wC="Articoli nel Carrello",xC="Articolo aggiunto al carrello",jC="Articolo rimosso dal carrello",SC="Articolo aggiornato nel carrello",kC="Carrello aggiornato",_C="La tua lista desideri  vuota",$C="Articolo aggiunto alla lista desideri",CC="Articolo rimosso dalla lista desideri",OC="Lista desideri aggiornata",PC={addToCart:c$,addToWishlist:u$,removeFromWishlist:d$,quickView:h$,selectSize:f$,selectColor:p$,outOfStock:m$,inStock:g$,limitedStock:y$,newArrival:b$,bestSeller:v$,sale:w$,freeShipping:x$,fastDelivery:j$,securePayment:S$,easyReturns:k$,sizeGuide:_$,careInstructions:$$,productDetails:C$,specifications:O$,reviews:P$,writeReview:E$,relatedProducts:T$,youMayAlsoLike:N$,recentlyViewed:A$,frequentlyBoughtTogether:R$,completeTheLook:I$,sizeChart:L$,measurements:D$,fabric:M$,care:F$,origin:U$,brand:B$,model:z$,sku:q$,weight:H$,dimensions:W$,shippingInfo:V$,returnPolicy:G$,warranty:K$,tags:J$,categories:Q$,availability:Y$,quantity:X$,price:Z$,originalPrice:eC,salePrice:tC,discount:sC,total:rC,subtotal:nC,tax:iC,shipping:aC,free:oC,estimatedDelivery:lC,shippingOptions:cC,paymentOptions:uC,checkout:dC,proceedToCheckout:hC,orderViaWhatsApp:fC,continueShopping:pC,updateCart:mC,clearCart:gC,cartEmpty:yC,cartSubtotal:bC,cartTotal:vC,itemsInCart:wC,itemAdded:xC,itemRemoved:jC,itemUpdated:SC,cartUpdated:kC,wishlistEmpty:_C,itemAddedToWishlist:$C,itemRemovedFromWishlist:CC,wishlistUpdated:OC},EC={title:"Scopri la Moda Modesta Elegante",subtitle:"Hijab, abaya e abbigliamento modesto di qualit premium per la donna musulmana moderna",cta:"Vedi Collezione",ctaSecondary:"Guarda Lookbook",badge:"Qualit Premium  Fiducia da oltre 10.000 clienti",features:{freeShipping:"Spedizione Gratuita",orderViaWhatsApp:"Ordina via WhatsApp",satisfactionGuaranteed:"Soddisfazione Garantita"}},TC={title:"Acquista per Categoria",subtitle:"Trova i tuoi capi di moda modesta perfetti"},NC={title:"Prodotti in Evidenza",subtitle:"Selezioni accuratamente scelte solo per te"},AC={title:"Cosa Dicono i Nostri Clienti",subtitle:"Unisciti a migliaia di clienti soddisfatti"},RC={title:"Rimani Aggiornato",subtitle:"Ottieni le ultime tendenze di moda e offerte esclusive",placeholder:"Inserisci il tuo indirizzo email",button:"Iscriviti",success:"Grazie per esserti iscritto!",error:"Inserisci un indirizzo email valido"},IC={hero:EC,categories:TC,featured:NC,testimonials:AC,newsletter:RC},LC=" ",DC="",MC="  ...",FC="",UC=" ",BC="",zC=" ",qC=" ",HC=" ",WC=" ...",VC="",GC="",KC="",JC="",QC="",YC="",XC="",ZC="",eO="",tO="",sO="",rO="",nO=" ",iO="",aO="",oO="",lO="",cO="",uO="",dO="",hO="",fO="",pO=" ",mO="",gO="",yO="",bO="",vO="",wO="",xO="",jO="",SO="",kO=" ",_O="",$O="",CO="",OO="",PO="",EO="",TO="",NO=" ",AO="",RO=" ",IO="",LO="",DO="",MO="",FO=" ",UO="",BO="",zO="",qO="",HO="",WO="",VO="",GO="",KO=" ",JO="",QO="",YO="",XO=" ",ZO="",eP="",tP="",sP=" ",rP=" ",nP=" ",iP=" ",aP="  ",oP=" ",lP=" ",cP=" ",uP=" ",dP="    ",hP={welcome:LC,search:DC,searchPlaceholder:MC,cart:FC,wishlist:UC,account:BC,login:zC,register:qC,logout:HC,loading:WC,error:VC,success:GC,save:KC,cancel:JC,delete:"",edit:QC,add:YC,remove:XC,close:ZC,back:eO,next:tO,previous:sO,continue:"",submit:rO,reset:nO,clear:iO,select:aO,choose:oO,view:lO,show:cO,hide:uO,more:dO,less:hO,all:fO,none:pO,yes:mO,no:gO,ok:yO,apply:bO,confirm:vO,language:wO,currency:xO,price:jO,total:SO,subtotal:kO,tax:_O,shipping:$O,discount:CO,free:OO,new:"",sale:PO,featured:EO,popular:TO,bestSeller:NO,inStock:AO,outOfStock:RO,quantity:IO,size:LO,color:DO,category:MO,brand:FO,rating:UO,reviews:BO,description:zO,specifications:qO,features:HO,benefits:WO,details:VO,information:GO,contact:KO,about:JO,help:QO,support:YO,faq:XO,terms:ZO,privacy:eP,policy:tP,shippingInfo:sP,returnPolicy:rP,sizeGuide:nP,careInstructions:iP,orderViaWhatsApp:aP,whatsAppOrder:oP,newOrder:lP,orderDetails:cP,totalAmount:uP,pleaseConfirm:dP},fP="",pP="",mP="",gP="",yP="",bP="",vP="",wP=" ",xP="",jP=" ",SP=" ",kP=" ",_P=" ",$P=" ",CP=" ",OP=" ",PP=" ",EP=" ",TP="  ",NP="  ",AP=" ",RP=" ",IP="",LP=" ",DP=" ",MP="",FP=" ",UP=" ",BP="",zP=" ",qP="",HP=" ",WP="",VP="",GP={hijabs:fP,abayas:pP,dresses:mP,coords:gP,accessories:yP,home:bP,shop:vP,newArrivals:wP,sale:xP,bestSellers:jP,modalHijabs:SP,jerseyHijabs:kP,chiffonHijabs:_P,satinHijabs:$P,embroideredAbayas:CP,pleatedAbayas:OP,openAbayas:PP,abayaDresses:EP,topSkirtSets:TP,topPantsSets:NP,knitwearSets:AP,hijabCaps:RP,magnets:IP,hairTies:LP,neckCovers:DP,myAccount:MP,orderHistory:FP,wishlist:UP,settings:BP,profile:zP,addresses:qP,paymentMethods:HP,notifications:WP,preferences:VP},KP="  ",JP="   ",QP="   ",YP=" ",XP=" ",ZP=" ",eE=" ",tE="",sE=" ",rE=" ",nE=" ",iE="",aE=" ",oE=" ",lE=" ",cE=" ",uE=" ",dE=" ",hE=" ",fE="",pE="",mE=" ",gE="  ",yE="  ",bE=" ",vE="  ",wE=" ",xE=" ",jE="",SE="",kE="",_E="",$E=" ",CE="",OE=" ",PE="",EE="",TE=" ",NE=" ",AE="",RE="",IE="",LE="",DE="",ME="",FE=" ",UE=" ",BE="",zE="",qE=" ",HE="",WE="",VE="",GE=" ",KE=" ",JE=" ",QE="",YE=" ",XE="  ",ZE=" ",eT=" ",tT=" ",sT=" ",rT="  ",nT=" ",iT="  ",aT="    ",oT="    ",lT="    ",cT="  ",uT="  ",dT="     ",hT="     ",fT="   ",pT={addToCart:KP,addToWishlist:JP,removeFromWishlist:QP,quickView:YP,selectSize:XP,selectColor:ZP,outOfStock:eE,inStock:tE,limitedStock:sE,newArrival:rE,bestSeller:nE,sale:iE,freeShipping:aE,fastDelivery:oE,securePayment:lE,easyReturns:cE,sizeGuide:uE,careInstructions:dE,productDetails:hE,specifications:fE,reviews:pE,writeReview:mE,relatedProducts:gE,youMayAlsoLike:yE,recentlyViewed:bE,frequentlyBoughtTogether:vE,completeTheLook:wE,sizeChart:xE,measurements:jE,fabric:SE,care:kE,origin:_E,brand:$E,model:CE,sku:OE,weight:PE,dimensions:EE,shippingInfo:TE,returnPolicy:NE,warranty:AE,tags:RE,categories:IE,availability:LE,quantity:DE,price:ME,originalPrice:FE,salePrice:UE,discount:BE,total:zE,subtotal:qE,tax:HE,shipping:WE,free:VE,estimatedDelivery:GE,shippingOptions:KE,paymentOptions:JE,checkout:QE,proceedToCheckout:YE,orderViaWhatsApp:XE,continueShopping:ZE,updateCart:eT,clearCart:tT,cartEmpty:sT,cartSubtotal:rT,cartTotal:nT,itemsInCart:iT,itemAdded:aT,itemRemoved:oT,itemUpdated:lT,cartUpdated:cT,wishlistEmpty:uT,itemAddedToWishlist:dT,itemRemovedFromWishlist:hT,wishlistUpdated:fT},mT={title:"   ",subtitle:"        ",cta:" ",ctaSecondary:" ",badge:"       10,000 ",features:{freeShipping:" ",orderViaWhatsApp:"  ",satisfactionGuaranteed:" "}},gT={title:"  ",subtitle:"     "},yT={title:" ",subtitle:"    "},bT={title:"  ",subtitle:"    "},vT={title:"  ",subtitle:"      ",placeholder:"   ",button:"",success:"   !",error:"     "},wT={hero:mT,categories:gT,featured:yT,testimonials:bT,newsletter:vT},xT="Bienvenido",jT="Buscar",ST="Buscar productos...",kT="Carrito",_T="Lista de deseos",$T="Cuenta",CT="Iniciar sesin",OT="Registrarse",PT="Cerrar sesin",ET="Cargando...",TT="Error",NT="xito",AT="Guardar",RT="Cancelar",IT="Editar",LT="Agregar",DT="Quitar",MT="Cerrar",FT="Atrs",UT="Siguiente",BT="Anterior",zT="Enviar",qT="Restablecer",HT="Limpiar",WT="Seleccionar",VT="Elegir",GT="Ver",KT="Mostrar",JT="Ocultar",QT="Ms",YT="Menos",XT="Todo",ZT="Ninguno",eN="S",tN="No",sN="OK",rN="Aplicar",nN="Confirmar",iN="Idioma",aN="Moneda",oN="Precio",lN="Total",cN="Subtotal",uN="Impuesto",dN="Envo",hN="Descuento",fN="Gratis",pN="Oferta",mN="Destacado",gN="Popular",yN="Ms vendido",bN="En stock",vN="Agotado",wN="Cantidad",xN="Talla",jN="Color",SN="Categora",kN="Marca",_N="Calificacin",$N="Reseas",CN="Descripcin",ON="Especificaciones",PN="Caractersticas",EN="Beneficios",TN="Detalles",NN="Informacin",AN="Contacto",RN="Acerca de",IN="Ayuda",LN="Soporte",DN="Preguntas frecuentes",MN="Trminos",FN="Privacidad",UN="Poltica",BN="Informacin de envo",zN="Poltica de devolucin",qN="Gua de tallas",HN="Instrucciones de cuidado",WN="Pedir por WhatsApp",VN="Pedido WhatsApp",GN="Nuevo Pedido",KN="Detalles del Pedido",JN="Cantidad Total",QN="Por favor confirme y proporcione los detalles de envo",YN={welcome:xT,search:jT,searchPlaceholder:ST,cart:kT,wishlist:_T,account:$T,login:CT,register:OT,logout:PT,loading:ET,error:TT,success:NT,save:AT,cancel:RT,delete:"Eliminar",edit:IT,add:LT,remove:DT,close:MT,back:FT,next:UT,previous:BT,continue:"Continuar",submit:zT,reset:qT,clear:HT,select:WT,choose:VT,view:GT,show:KT,hide:JT,more:QT,less:YT,all:XT,none:ZT,yes:eN,no:tN,ok:sN,apply:rN,confirm:nN,language:iN,currency:aN,price:oN,total:lN,subtotal:cN,tax:uN,shipping:dN,discount:hN,free:fN,new:"Nuevo",sale:pN,featured:mN,popular:gN,bestSeller:yN,inStock:bN,outOfStock:vN,quantity:wN,size:xN,color:jN,category:SN,brand:kN,rating:_N,reviews:$N,description:CN,specifications:ON,features:PN,benefits:EN,details:TN,information:NN,contact:AN,about:RN,help:IN,support:LN,faq:DN,terms:MN,privacy:FN,policy:UN,shippingInfo:BN,returnPolicy:zN,sizeGuide:qN,careInstructions:HN,orderViaWhatsApp:WN,whatsAppOrder:VN,newOrder:GN,orderDetails:KN,totalAmount:JN,pleaseConfirm:QN},XN="Hijabs",ZN="Abayas",eA="Vestidos",tA="Coords",sA="Accesorios",rA="Inicio",nA="Tienda",iA="Nuevos productos",aA="Ofertas",oA="Ms vendidos",lA="Hijabs Modal",cA="Hijabs Jersey",uA="Hijabs Chiffon",dA="Hijabs Satin",hA="Abayas Bordadas",fA="Abayas Plisadas",pA="Abayas Abiertas",mA="Vestidos Abaya",gA="Conjuntos Top & Falda",yA="Conjuntos Top & Pantaln",bA="Conjuntos de Punto",vA="Gorros Hijab",wA="Imanes",xA="Gomas para el pelo",jA="Cubrenucas",SA="Mi Cuenta",kA="Historial de pedidos",_A="Lista de deseos",$A="Configuracin",CA="Perfil",OA="Direcciones",PA="Mtodos de pago",EA="Notificaciones",TA="Preferencias",NA={hijabs:XN,abayas:ZN,dresses:eA,coords:tA,accessories:sA,home:rA,shop:nA,newArrivals:iA,sale:aA,bestSellers:oA,modalHijabs:lA,jerseyHijabs:cA,chiffonHijabs:uA,satinHijabs:dA,embroideredAbayas:hA,pleatedAbayas:fA,openAbayas:pA,abayaDresses:mA,topSkirtSets:gA,topPantsSets:yA,knitwearSets:bA,hijabCaps:vA,magnets:wA,hairTies:xA,neckCovers:jA,myAccount:SA,orderHistory:kA,wishlist:_A,settings:$A,profile:CA,addresses:OA,paymentMethods:PA,notifications:EA,preferences:TA},AA="Agregar al Carrito",RA="Agregar a Lista de Deseos",IA="Quitar de Lista de Deseos",LA="Vista Rpida",DA="Seleccionar Talla",MA="Seleccionar Color",FA="Agotado",UA="Disponible",BA="Stock Limitado",zA="Nuevo Producto",qA="Ms Vendido",HA="Oferta",WA="Envo Gratis",VA="Entrega Rpida",GA="Pago Seguro",KA="Devoluciones Fciles",JA="Gua de Tallas",QA="Instrucciones de Cuidado",YA="Detalles del Producto",XA="Especificaciones",ZA="Reseas",e1="Escribir Resea",t1="Productos Relacionados",s1="Tambin Te Puede Gustar",r1="Vistos Recientemente",n1="Comprados Juntos Frecuentemente",i1="Completa el Look",a1="Tabla de Tallas",o1="Medidas",l1="Tela",c1="Cuidado",u1="Origen",d1="Marca",h1="Modelo",f1="SKU",p1="Peso",m1="Dimensiones",g1="Informacin de Envo",y1="Poltica de Devolucin",b1="Garanta",v1="Etiquetas",w1="Categoras",x1="Disponibilidad",j1="Cantidad",S1="Precio",k1="Precio Original",_1="Precio de Oferta",$1="Descuento",C1="Total",O1="Subtotal",P1="Impuesto",E1="Envo",T1="Gratis",N1="Entrega Estimada",A1="Opciones de Envo",R1="Opciones de Pago",I1="Finalizar Compra",L1="Proceder al Pago",D1="Pedir por WhatsApp",M1="Continuar Comprando",F1="Actualizar Carrito",U1="Vaciar Carrito",B1="Tu carrito est vaco",z1="Subtotal del Carrito",q1="Total del Carrito",H1="Artculos en el Carrito",W1="Artculo agregado al carrito",V1="Artculo removido del carrito",G1="Artculo actualizado en el carrito",K1="Carrito actualizado",J1="Tu lista de deseos est vaca",Q1="Artculo agregado a la lista de deseos",Y1="Artculo removido de la lista de deseos",X1="Lista de deseos actualizada",Z1={addToCart:AA,addToWishlist:RA,removeFromWishlist:IA,quickView:LA,selectSize:DA,selectColor:MA,outOfStock:FA,inStock:UA,limitedStock:BA,newArrival:zA,bestSeller:qA,sale:HA,freeShipping:WA,fastDelivery:VA,securePayment:GA,easyReturns:KA,sizeGuide:JA,careInstructions:QA,productDetails:YA,specifications:XA,reviews:ZA,writeReview:e1,relatedProducts:t1,youMayAlsoLike:s1,recentlyViewed:r1,frequentlyBoughtTogether:n1,completeTheLook:i1,sizeChart:a1,measurements:o1,fabric:l1,care:c1,origin:u1,brand:d1,model:h1,sku:f1,weight:p1,dimensions:m1,shippingInfo:g1,returnPolicy:y1,warranty:b1,tags:v1,categories:w1,availability:x1,quantity:j1,price:S1,originalPrice:k1,salePrice:_1,discount:$1,total:C1,subtotal:O1,tax:P1,shipping:E1,free:T1,estimatedDelivery:N1,shippingOptions:A1,paymentOptions:R1,checkout:I1,proceedToCheckout:L1,orderViaWhatsApp:D1,continueShopping:M1,updateCart:F1,clearCart:U1,cartEmpty:B1,cartSubtotal:z1,cartTotal:q1,itemsInCart:H1,itemAdded:W1,itemRemoved:V1,itemUpdated:G1,cartUpdated:K1,wishlistEmpty:J1,itemAddedToWishlist:Q1,itemRemovedFromWishlist:Y1,wishlistUpdated:X1},eR={title:"Descubre la Moda Modesta Elegante",subtitle:"Hijabs, abayas y ropa modesta de calidad premium para la mujer musulmana moderna",cta:"Ver Coleccin",ctaSecondary:"Ver Lookbook",badge:"Calidad Premium  Confianza de ms de 10,000 clientes",features:{freeShipping:"Envo Gratis",orderViaWhatsApp:"Pedir por WhatsApp",satisfactionGuaranteed:"Satisfaccin Garantizada"}},tR={title:"Comprar por Categora",subtitle:"Encuentra tus piezas de moda modesta perfectas"},sR={title:"Productos Destacados",subtitle:"Selecciones cuidadosamente elegidas solo para ti"},rR={title:"Lo Que Dicen Nuestros Clientes",subtitle:"nete a miles de clientes satisfechos"},nR={title:"Mantente Actualizado",subtitle:"Obtn las ltimas tendencias de moda y ofertas exclusivas",placeholder:"Ingresa tu direccin de correo",button:"Suscribirse",success:"Gracias por suscribirte!",error:"Por favor ingresa una direccin de correo vlida"},iR={hero:eR,categories:tR,featured:sR,testimonials:rR,newsletter:nR},aR={en:{common:Ab,navigation:pv,products:Iw,home:Bw},fr:{common:Ox,navigation:uj,products:HS,home:QS},it:{common:C_,navigation:l$,products:PC,home:IC},ar:{common:hP,navigation:GP,products:pT,home:wT},es:{common:YN,navigation:NA,products:Z1,home:iR}};Ue.use(Ic).use(Lg).init({resources:aR,fallbackLng:"fr",debug:!0,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},interpolation:{escapeValue:!1},defaultNS:"common",ns:["common","navigation","products","home"],supportedLngs:["en","fr","it","ar","es"],react:{useSuspense:!1}}).then(()=>{console.log("i18n initialized successfully"),console.log("Current language:",Ue.language),console.log("Available languages:",Ue.languages)}).catch(s=>{console.error("i18n initialization failed:",s)});var Lc={exports:{}};(()=>{var s={296:(n,i,a)=>{var l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,p=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,f=typeof self=="object"&&self&&self.Object===Object&&self,m=p||f||Function("return this")(),y=Object.prototype.toString,g=Math.max,v=Math.min,w=function(){return m.Date.now()};function x(S){var O=typeof S;return!!S&&(O=="object"||O=="function")}function j(S){if(typeof S=="number")return S;if(function($){return typeof $=="symbol"||function(R){return!!R&&typeof R=="object"}($)&&y.call($)=="[object Symbol]"}(S))return NaN;if(x(S)){var O=typeof S.valueOf=="function"?S.valueOf():S;S=x(O)?O+"":O}if(typeof S!="string")return S===0?S:+S;S=S.replace(l,"");var A=u.test(S);return A||d.test(S)?h(S.slice(2),A?2:8):c.test(S)?NaN:+S}n.exports=function(S,O,A){var $,R,I,V,ne,ie,ae=0,Se=!1,ee=!1,ce=!0;if(typeof S!="function")throw new TypeError("Expected a function");function D(Q){var oe=$,$e=R;return $=R=void 0,ae=Q,V=S.apply($e,oe)}function Ee(Q){var oe=Q-ie;return ie===void 0||oe>=O||oe<0||ee&&Q-ae>=I}function de(){var Q=w();if(Ee(Q))return he(Q);ne=setTimeout(de,function(oe){var $e=O-(oe-ie);return ee?v($e,I-(oe-ae)):$e}(Q))}function he(Q){return ne=void 0,ce&&$?D(Q):($=R=void 0,V)}function ye(){var Q=w(),oe=Ee(Q);if($=arguments,R=this,ie=Q,oe){if(ne===void 0)return function($e){return ae=$e,ne=setTimeout(de,O),Se?D($e):V}(ie);if(ee)return ne=setTimeout(de,O),D(ie)}return ne===void 0&&(ne=setTimeout(de,O)),V}return O=j(O)||0,x(A)&&(Se=!!A.leading,I=(ee="maxWait"in A)?g(j(A.maxWait)||0,O):I,ce="trailing"in A?!!A.trailing:ce),ye.cancel=function(){ne!==void 0&&clearTimeout(ne),ae=0,$=ie=R=ne=void 0},ye.flush=function(){return ne===void 0?V:he(w())},ye}},96:(n,i,a)=>{var l="Expected a function",c=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,y=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,g=typeof self=="object"&&self&&self.Object===Object&&self,v=y||g||Function("return this")(),w=Object.prototype.toString,x=Math.max,j=Math.min,S=function(){return v.Date.now()};function O($){var R=typeof $;return!!$&&(R=="object"||R=="function")}function A($){if(typeof $=="number")return $;if(function(V){return typeof V=="symbol"||function(ne){return!!ne&&typeof ne=="object"}(V)&&w.call(V)==u}($))return c;if(O($)){var R=typeof $.valueOf=="function"?$.valueOf():$;$=O(R)?R+"":R}if(typeof $!="string")return $===0?$:+$;$=$.replace(d,"");var I=p.test($);return I||f.test($)?m($.slice(2),I?2:8):h.test($)?c:+$}n.exports=function($,R,I){var V=!0,ne=!0;if(typeof $!="function")throw new TypeError(l);return O(I)&&(V="leading"in I?!!I.leading:V,ne="trailing"in I?!!I.trailing:ne),function(ie,ae,Se){var ee,ce,D,Ee,de,he,ye=0,Q=!1,oe=!1,$e=!0;if(typeof ie!="function")throw new TypeError(l);function tt(Ce){var Le=ee,Qe=ce;return ee=ce=void 0,ye=Ce,Ee=ie.apply(Qe,Le)}function ve(Ce){var Le=Ce-he;return he===void 0||Le>=ae||Le<0||oe&&Ce-ye>=D}function dt(){var Ce=S();if(ve(Ce))return xt(Ce);de=setTimeout(dt,function(Le){var Qe=ae-(Le-he);return oe?j(Qe,D-(Le-ye)):Qe}(Ce))}function xt(Ce){return de=void 0,$e&&ee?tt(Ce):(ee=ce=void 0,Ee)}function st(){var Ce=S(),Le=ve(Ce);if(ee=arguments,ce=this,he=Ce,Le){if(de===void 0)return function(Qe){return ye=Qe,de=setTimeout(dt,ae),Q?tt(Qe):Ee}(he);if(oe)return de=setTimeout(dt,ae),tt(he)}return de===void 0&&(de=setTimeout(dt,ae)),Ee}return ae=A(ae)||0,O(Se)&&(Q=!!Se.leading,D=(oe="maxWait"in Se)?x(A(Se.maxWait)||0,ae):D,$e="trailing"in Se?!!Se.trailing:$e),st.cancel=function(){de!==void 0&&clearTimeout(de),ye=0,ee=he=ce=de=void 0},st.flush=function(){return de===void 0?Ee:xt(S())},st}($,R,{leading:V,maxWait:R,trailing:ne})}},703:(n,i,a)=>{var l=a(414);function c(){}function u(){}u.resetWarningCache=c,n.exports=function(){function d(f,m,y,g,v,w){if(w!==l){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}function h(){return d}d.isRequired=d;var p={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:h,element:d,elementType:d,instanceOf:h,node:d,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:u,resetWarningCache:c};return p.PropTypes=p,p}},697:(n,i,a)=>{n.exports=a(703)()},414:n=>{n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function t(n){var i=e[n];if(i!==void 0)return i.exports;var a=e[n]={exports:{}};return s[n](a,a.exports,t),a.exports}t.n=n=>{var i=n&&n.__esModule?()=>n.default:()=>n;return t.d(i,{a:i}),i},t.d=(n,i)=>{for(var a in i)t.o(i,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:i[a]})},t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),t.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var r={};(()=>{t.r(r),t.d(r,{LazyLoadComponent:()=>Le,LazyLoadImage:()=>lu,trackWindowScroll:()=>Ee});const n=_;var i=t.n(n),a=t(697);function l(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function c(E){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},c(E)}function u(E,k){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);k&&(N=N.filter(function(X){return Object.getOwnPropertyDescriptor(E,X).enumerable})),T.push.apply(T,N)}return T}function d(E,k,T){return(k=p(k))in E?Object.defineProperty(E,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[k]=T,E}function h(E,k){for(var T=0;T<k.length;T++){var N=k[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,p(N.key),N)}}function p(E){var k=function(T,N){if(c(T)!=="object"||T===null)return T;var X=T[Symbol.toPrimitive];if(X!==void 0){var te=X.call(T,"string");if(c(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(E);return c(k)==="symbol"?k:String(k)}function f(E,k){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},f(E,k)}function m(E){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},m(E)}var y=function(E){E.forEach(function(k){k.isIntersecting&&k.target.onVisible()})},g={},v=function(E){(function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),P&&f(C,P)})(fe,E);var k,T,N,X,te=(N=fe,X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var C,P=m(N);if(X){var z=m(this).constructor;C=Reflect.construct(P,arguments,z)}else C=P.apply(this,arguments);return function(B,M){if(M&&(c(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}(B)}(this,C)});function fe(C){var P;if(function(B,M){if(!(B instanceof M))throw new TypeError("Cannot call a class as a function")}(this,fe),(P=te.call(this,C)).supportsObserver=!C.scrollPosition&&C.useIntersectionObserver&&l(),P.supportsObserver){var z=C.threshold;P.observer=function(B){return g[B]=g[B]||new IntersectionObserver(y,{rootMargin:B+"px"}),g[B]}(z)}return P}return k=fe,T=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,P=this.placeholder.getBoundingClientRect(),z=this.placeholder.style,B=parseInt(z.getPropertyValue("margin-left"),10)||0,M=parseInt(z.getPropertyValue("margin-top"),10)||0;return{bottom:C.y+P.bottom+M,left:C.x+P.left+B,right:C.x+P.right+B,top:C.y+P.top+M}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var C=this.props,P=C.scrollPosition,z=C.threshold,B=this.getPlaceholderBoundingBox(P),M=P.y+window.innerHeight,se=P.x,we=P.x+window.innerWidth,xe=P.y;return xe-z<=B.bottom&&M+z>=B.top&&se-z<=B.right&&we+z>=B.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var C=this,P=this.props,z=P.className,B=P.height,M=P.placeholder,se=P.style,we=P.width;if(M&&typeof M.type!="function")return i().cloneElement(M,{ref:function(be){return C.placeholder=be}});var xe=function(be){for(var De=1;De<arguments.length;De++){var Oe=arguments[De]!=null?arguments[De]:{};De%2?u(Object(Oe),!0).forEach(function(Be){d(be,Be,Oe[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(Oe)):u(Object(Oe)).forEach(function(Be){Object.defineProperty(be,Be,Object.getOwnPropertyDescriptor(Oe,Be))})}return be}({display:"inline-block"},se);return we!==void 0&&(xe.width=we),B!==void 0&&(xe.height=B),i().createElement("span",{className:z,ref:function(be){return C.placeholder=be},style:xe},M)}}],T&&h(k.prototype,T),Object.defineProperty(k,"prototype",{writable:!1}),fe}(i().Component);v.propTypes={onVisible:a.PropTypes.func.isRequired,className:a.PropTypes.string,height:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),placeholder:a.PropTypes.element,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,scrollPosition:a.PropTypes.shape({x:a.PropTypes.number.isRequired,y:a.PropTypes.number.isRequired}),width:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string])},v.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const w=v;var x=t(296),j=t.n(x),S=t(96),O=t.n(S),A=function(E){var k=getComputedStyle(E,null);return k.getPropertyValue("overflow")+k.getPropertyValue("overflow-y")+k.getPropertyValue("overflow-x")};const $=function(E){if(!(E instanceof HTMLElement))return window;for(var k=E;k&&k instanceof HTMLElement;){if(/(scroll|auto)/.test(A(k)))return k;k=k.parentNode}return window};function R(E){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},R(E)}var I=["delayMethod","delayTime"];function V(){return V=Object.assign?Object.assign.bind():function(E){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&(E[N]=T[N])}return E},V.apply(this,arguments)}function ne(E,k){for(var T=0;T<k.length;T++){var N=k[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,(X=function(te,fe){if(R(te)!=="object"||te===null)return te;var C=te[Symbol.toPrimitive];if(C!==void 0){var P=C.call(te,"string");if(R(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(N.key),R(X)==="symbol"?X:String(X)),N)}var X}function ie(E,k){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},ie(E,k)}function ae(E,k){if(k&&(R(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(E)}function Se(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function ee(E){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},ee(E)}var ce=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},D=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Ee=function(E){var k=function(T){(function(z,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(B&&B.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),B&&ie(z,B)})(P,T);var N,X,te,fe,C=(te=P,fe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var z,B=ee(te);if(fe){var M=ee(this).constructor;z=Reflect.construct(B,arguments,M)}else z=B.apply(this,arguments);return ae(this,z)});function P(z){var B;if(function(se,we){if(!(se instanceof we))throw new TypeError("Cannot call a class as a function")}(this,P),(B=C.call(this,z)).useIntersectionObserver=z.useIntersectionObserver&&l(),B.useIntersectionObserver)return ae(B);var M=B.onChangeScroll.bind(Se(B));return z.delayMethod==="debounce"?B.delayedScroll=j()(M,z.delayTime):z.delayMethod==="throttle"&&(B.delayedScroll=O()(M,z.delayTime)),B.state={scrollPosition:{x:ce(),y:D()}},B.baseComponentRef=i().createRef(),B}return N=P,(X=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||$(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=$(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ce(),y:D()}})}},{key:"render",value:function(){var z=this.props,B=(z.delayMethod,z.delayTime,function(se,we){if(se==null)return{};var xe,be,De=function(Be,Ls){if(Be==null)return{};var hs,nn,Na={},Aa=Object.keys(Be);for(nn=0;nn<Aa.length;nn++)hs=Aa[nn],Ls.indexOf(hs)>=0||(Na[hs]=Be[hs]);return Na}(se,we);if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(se);for(be=0;be<Oe.length;be++)xe=Oe[be],we.indexOf(xe)>=0||Object.prototype.propertyIsEnumerable.call(se,xe)&&(De[xe]=se[xe])}return De}(z,I)),M=this.useIntersectionObserver?null:this.state.scrollPosition;return i().createElement(E,V({forwardRef:this.baseComponentRef,scrollPosition:M},B))}}])&&ne(N.prototype,X),Object.defineProperty(N,"prototype",{writable:!1}),P}(i().Component);return k.propTypes={delayMethod:a.PropTypes.oneOf(["debounce","throttle"]),delayTime:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool},k.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},k};function de(E){return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},de(E)}function he(E,k){for(var T=0;T<k.length;T++){var N=k[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,(X=function(te,fe){if(de(te)!=="object"||te===null)return te;var C=te[Symbol.toPrimitive];if(C!==void 0){var P=C.call(te,"string");if(de(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(N.key),de(X)==="symbol"?X:String(X)),N)}var X}function ye(E,k){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},ye(E,k)}function Q(E){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},Q(E)}var oe=function(E){(function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),P&&ye(C,P)})(fe,E);var k,T,N,X,te=(N=fe,X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var C,P=Q(N);if(X){var z=Q(this).constructor;C=Reflect.construct(P,arguments,z)}else C=P.apply(this,arguments);return function(B,M){if(M&&(de(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}(B)}(this,C)});function fe(C){return function(P,z){if(!(P instanceof z))throw new TypeError("Cannot call a class as a function")}(this,fe),te.call(this,C)}return k=fe,(T=[{key:"render",value:function(){return i().createElement(w,this.props)}}])&&he(k.prototype,T),Object.defineProperty(k,"prototype",{writable:!1}),fe}(i().Component);const $e=Ee(oe);function tt(E){return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},tt(E)}function ve(E,k){for(var T=0;T<k.length;T++){var N=k[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,(X=function(te,fe){if(tt(te)!=="object"||te===null)return te;var C=te[Symbol.toPrimitive];if(C!==void 0){var P=C.call(te,"string");if(tt(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(N.key),tt(X)==="symbol"?X:String(X)),N)}var X}function dt(E,k){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},dt(E,k)}function xt(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function st(E){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},st(E)}var Ce=function(E){(function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),P&&dt(C,P)})(fe,E);var k,T,N,X,te=(N=fe,X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var C,P=st(N);if(X){var z=st(this).constructor;C=Reflect.construct(P,arguments,z)}else C=P.apply(this,arguments);return function(B,M){if(M&&(tt(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(B)}(this,C)});function fe(C){var P;(function(we,xe){if(!(we instanceof xe))throw new TypeError("Cannot call a class as a function")})(this,fe),P=te.call(this,C);var z=C.afterLoad,B=C.beforeLoad,M=C.scrollPosition,se=C.visibleByDefault;return P.state={visible:se},se&&(B(),z()),P.onVisible=P.onVisible.bind(xt(P)),P.isScrollTracked=!!(M&&Number.isFinite(M.x)&&M.x>=0&&Number.isFinite(M.y)&&M.y>=0),P}return k=fe,(T=[{key:"componentDidUpdate",value:function(C,P){P.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var C=this.props,P=C.className,z=C.delayMethod,B=C.delayTime,M=C.height,se=C.placeholder,we=C.scrollPosition,xe=C.style,be=C.threshold,De=C.useIntersectionObserver,Oe=C.width;return this.isScrollTracked||De&&l()?i().createElement(w,{className:P,height:M,onVisible:this.onVisible,placeholder:se,scrollPosition:we,style:xe,threshold:be,useIntersectionObserver:De,width:Oe}):i().createElement($e,{className:P,delayMethod:z,delayTime:B,height:M,onVisible:this.onVisible,placeholder:se,style:xe,threshold:be,width:Oe})}}])&&ve(k.prototype,T),Object.defineProperty(k,"prototype",{writable:!1}),fe}(i().Component);Ce.propTypes={afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool},Ce.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Le=Ce;function Qe(E){return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},Qe(E)}var iu=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Pa(E,k){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);k&&(N=N.filter(function(X){return Object.getOwnPropertyDescriptor(E,X).enumerable})),T.push.apply(T,N)}return T}function Ea(E){for(var k=1;k<arguments.length;k++){var T=arguments[k]!=null?arguments[k]:{};k%2?Pa(Object(T),!0).forEach(function(N){au(E,N,T[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):Pa(Object(T)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(T,N))})}return E}function au(E,k,T){return(k=Ta(k))in E?Object.defineProperty(E,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[k]=T,E}function sn(){return sn=Object.assign?Object.assign.bind():function(E){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&(E[N]=T[N])}return E},sn.apply(this,arguments)}function ou(E,k){for(var T=0;T<k.length;T++){var N=k[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,Ta(N.key),N)}}function Ta(E){var k=function(T,N){if(Qe(T)!=="object"||T===null)return T;var X=T[Symbol.toPrimitive];if(X!==void 0){var te=X.call(T,"string");if(Qe(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(E);return Qe(k)==="symbol"?k:String(k)}function Jn(E,k){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T},Jn(E,k)}function rn(E){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},rn(E)}var Qn=function(E){(function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),P&&Jn(C,P)})(fe,E);var k,T,N,X,te=(N=fe,X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var C,P=rn(N);if(X){var z=rn(this).constructor;C=Reflect.construct(P,arguments,z)}else C=P.apply(this,arguments);return function(B,M){if(M&&(Qe(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}(B)}(this,C)});function fe(C){var P;return function(z,B){if(!(z instanceof B))throw new TypeError("Cannot call a class as a function")}(this,fe),(P=te.call(this,C)).state={loaded:!1},P}return k=fe,(T=[{key:"onImageLoad",value:function(){var C=this;return this.state.loaded?null:function(P){C.props.onLoad(P),C.props.afterLoad(),C.setState({loaded:!0})}}},{key:"getImg",value:function(){var C=this.props,P=(C.afterLoad,C.beforeLoad,C.delayMethod,C.delayTime,C.effect,C.placeholder,C.placeholderSrc,C.scrollPosition,C.threshold,C.useIntersectionObserver,C.visibleByDefault,C.wrapperClassName,C.wrapperProps,function(z,B){if(z==null)return{};var M,se,we=function(be,De){if(be==null)return{};var Oe,Be,Ls={},hs=Object.keys(be);for(Be=0;Be<hs.length;Be++)Oe=hs[Be],De.indexOf(Oe)>=0||(Ls[Oe]=be[Oe]);return Ls}(z,B);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(z);for(se=0;se<xe.length;se++)M=xe[se],B.indexOf(M)>=0||Object.prototype.propertyIsEnumerable.call(z,M)&&(we[M]=z[M])}return we}(C,iu));return i().createElement("img",sn({},P,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var C=this.props,P=C.beforeLoad,z=C.className,B=C.delayMethod,M=C.delayTime,se=C.height,we=C.placeholder,xe=C.scrollPosition,be=C.style,De=C.threshold,Oe=C.useIntersectionObserver,Be=C.visibleByDefault,Ls=C.width;return i().createElement(Le,{beforeLoad:P,className:z,delayMethod:B,delayTime:M,height:se,placeholder:we,scrollPosition:xe,style:be,threshold:De,useIntersectionObserver:Oe,visibleByDefault:Be,width:Ls},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(C){var P=this.props,z=P.effect,B=P.height,M=P.placeholderSrc,se=P.width,we=P.wrapperClassName,xe=P.wrapperProps,be=this.state.loaded,De=be?" lazy-load-image-loaded":"",Oe=be||!M?{}:{backgroundImage:"url(".concat(M,")"),backgroundSize:"100% 100%"};return i().createElement("span",sn({className:we+" lazy-load-image-background "+z+De,style:Ea(Ea({},Oe),{},{color:"transparent",display:"inline-block",height:B,width:se})},xe),C)}},{key:"render",value:function(){var C=this.props,P=C.effect,z=C.placeholderSrc,B=C.visibleByDefault,M=C.wrapperClassName,se=C.wrapperProps,we=this.getLazyLoadImage();return(P||z)&&!B||M||se?this.getWrappedLazyLoadImage(we):we}}])&&ou(k.prototype,T),Object.defineProperty(k,"prototype",{writable:!1}),fe}(i().Component);Qn.propTypes={onLoad:a.PropTypes.func,afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,delayMethod:a.PropTypes.string,delayTime:a.PropTypes.number,effect:a.PropTypes.string,placeholderSrc:a.PropTypes.string,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool,wrapperClassName:a.PropTypes.string,wrapperProps:a.PropTypes.object},Qn.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const lu=Qn})(),Lc.exports=r})();var vt=Lc.exports;const oR={};function lR(s,e){let t;try{t=s()}catch{return}return{getItem:n=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),l=(i=t.getItem(n))!=null?i:null;return l instanceof Promise?l.then(a):a(l)},setItem:(n,i)=>t.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>t.removeItem(n)}}const Hr=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(r){return Hr(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Hr(r)(t)}}}},cR=(s,e)=>(t,r,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},a=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return s((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...g)},r,n);const d=Hr(i.serialize),h=()=>{const g=i.partialize({...r()});let v;const w=d({state:g,version:i.version}).then(x=>u.setItem(i.name,x)).catch(x=>{v=x});if(v)throw v;return w},p=n.setState;n.setState=(g,v)=>{p(g,v),h()};const f=s((...g)=>{t(...g),h()},r,n);let m;const y=()=>{var g;if(!u)return;a=!1,l.forEach(w=>w(r()));const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,r()))||void 0;return Hr(u.getItem.bind(u))(i.name).then(w=>{if(w)return i.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return i.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var x;return m=i.merge(w,(x=r())!=null?x:f),t(m,!0),h()}).then(()=>{v==null||v(m,void 0),a=!0,c.forEach(w=>w(m))}).catch(w=>{v==null||v(void 0,w)})};return n.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},y(),m||f},uR=(s,e)=>(t,r,n)=>{let i={storage:lR(()=>localStorage),partialize:y=>y,version:0,merge:(y,g)=>({...g,...y}),...e},a=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return s((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...y)},r,n);const d=()=>{const y=i.partialize({...r()});return u.setItem(i.name,{state:y,version:i.version})},h=n.setState;n.setState=(y,g)=>{h(y,g),d()};const p=s((...y)=>{t(...y),d()},r,n);n.getInitialState=()=>p;let f;const m=()=>{var y,g;if(!u)return;a=!1,l.forEach(w=>{var x;return w((x=r())!=null?x:p)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(y=r())!=null?y:p))||void 0;return Hr(u.getItem.bind(u))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return[!0,i.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var x;const[j,S]=w;if(f=i.merge(S,(x=r())!=null?x:p),t(f,!0),j)return d()}).then(()=>{v==null||v(f,void 0),f=r(),a=!0,c.forEach(w=>w(f))}).catch(w=>{v==null||v(void 0,w)})};return n.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||m(),f||p},dR=(s,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((oR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),cR(s,e)):uR(s,e),hR=dR,Gn=$c()(hR((s,e)=>({items:[],total:0,itemCount:0,addItem:(t,r,n)=>{const a=e().items.find(d=>d.product.id===t.id&&d.selectedColor===r&&d.selectedSize===n);if(a)s(d=>({items:d.items.map(h=>h.id===a.id?{...h,quantity:h.quantity+1}:h)}));else{const d={id:`${t.id}-${r}-${n}`,product:t,quantity:1,selectedColor:r,selectedSize:n};s(h=>({items:[...h.items,d]}))}const c=e().items.reduce((d,h)=>d+h.quantity,0),u=e().getTotal();s({itemCount:c,total:u})},removeItem:t=>{s(a=>({items:a.items.filter(l=>l.id!==t)}));const n=e().items.reduce((a,l)=>a+l.quantity,0),i=e().getTotal();s({itemCount:n,total:i})},updateQuantity:(t,r)=>{if(r<=0){e().removeItem(t);return}s(l=>({items:l.items.map(c=>c.id===t?{...c,quantity:r}:c)}));const i=e().items.reduce((l,c)=>l+c.quantity,0),a=e().getTotal();s({itemCount:i,total:a})},clearCart:()=>{s({items:[],total:0,itemCount:0})},getItemCount:()=>e().items.reduce((t,r)=>t+r.quantity,0),getTotal:()=>e().items.reduce((t,r)=>{if(r.product.category==="hijabs")if(r.quantity>=2){const n=Math.floor(r.quantity/2),i=r.quantity%2;return t+n*25+i*13}else return t+r.quantity*13;else return t+r.product.price*r.quantity},0),isInCart:t=>e().items.some(r=>r.product.id===t)}),{name:"hijabi-inoor-cart",version:1}));function Dc(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(e=0;e<n;e++)s[e]&&(t=Dc(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function Nn(){for(var s,e,t=0,r="",n=arguments.length;t<n;t++)(s=arguments[t])&&(e=Dc(s))&&(r&&(r+=" "),r+=e);return r}const Et=s=>{const{t:e,i18n:t}=Bg(s);return{t:e,changeLanguage:async a=>{try{await t.changeLanguage(a),localStorage.setItem("i18nextLng",a)}catch(l){console.error("Error changing language:",l)}},getCurrentLanguage:()=>t.language||"en",isRTL:()=>t.language==="ar",i18n:t}},$r=[{code:"en",name:"English",flag:"",dir:"ltr"},{code:"fr",name:"Franais",flag:"",dir:"ltr"},{code:"it",name:"Italiano",flag:"",dir:"ltr"},{code:"ar",name:"",flag:"",dir:"rtl"},{code:"es",name:"Espaol",flag:"",dir:"ltr"}],Mc=()=>{const[s,e]=_.useState(!1),{changeLanguage:t,getCurrentLanguage:r}=Et(),[n,i]=_.useState(()=>{const l=r();return $r.find(c=>c.code===l)||$r[0]});_.useEffect(()=>{const l=r(),c=$r.find(u=>u.code===l)||$r[0];i(c),document.documentElement.dir=c.dir,document.documentElement.lang=c.code},[r]);const a=l=>{i(l),e(!1),t(l.code),document.documentElement.dir=l.dir,document.documentElement.lang=l.code,localStorage.setItem("i18nextLng",l.code)};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>e(!s),className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Select language",children:[o.jsx(yu,{className:"h-4 w-4 text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.flag}),o.jsx("span",{className:"hidden sm:inline text-sm text-gray-600",children:n.code.toUpperCase()})]}),o.jsx(er,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>e(!1)}),o.jsxs(q.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-20 overflow-hidden",children:[o.jsx("div",{className:"py-2",children:$r.map(l=>o.jsxs("button",{onClick:()=>a(l),className:`w-full flex items-center justify-between px-4 py-3 text-sm transition-colors hover:bg-gray-50 ${n.code===l.code?"bg-primary-50 text-primary-700":"text-gray-700"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-lg",children:l.flag}),o.jsx("span",{className:"font-medium",children:l.name})]}),n.code===l.code&&o.jsx(bu,{className:"h-4 w-4 text-primary-600"})]},l.code))}),o.jsx("div",{className:"border-t border-gray-100 px-4 py-2",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"More languages coming soon"})})]})]})})]})},fR=()=>{const[s,e]=_.useState(!1),t=aa(),{itemCount:r}=Gn(),{t:n}=Et("navigation"),{toggleMobileMenu:i,toggleCart:a}=ds();_.useEffect(()=>{const c=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const l=[{label:n("hijabs"),href:"/hijabs",children:[{label:n("modalHijabs"),href:"/hijabs?type=modal"},{label:n("jerseyHijabs"),href:"/hijabs?type=jersey"},{label:n("chiffonHijabs"),href:"/hijabs?type=chiffon"},{label:n("satinHijabs"),href:"/hijabs?type=satin"}]},{label:n("abayas"),href:"/abayas",children:[{label:n("embroideredAbayas"),href:"/abayas?type=embroidered"},{label:n("pleatedAbayas"),href:"/abayas?type=pleated"},{label:n("openAbayas"),href:"/abayas?type=open"},{label:n("abayaDresses"),href:"/abayas?type=dress"}]},{label:n("coords"),href:"/coords",children:[{label:n("topSkirtSets"),href:"/coords?type=top-skirt"},{label:n("topPantsSets"),href:"/coords?type=top-pants"},{label:n("knitwearSets"),href:"/coords?type=knitwear"}]},{label:n("ensemble"),href:"/ensemble",children:[{label:n("topSkirtSets"),href:"/ensemble?type=top-skirt"},{label:n("topPantsSets"),href:"/ensemble?type=top-pants"},{label:n("knitwearSets"),href:"/ensemble?type=knitwear"}]},{label:n("boxesCadeau"),href:"/boxes-cadeau"}];return o.jsx(o.Fragment,{children:o.jsx(q.header,{initial:{y:-100},animate:{y:0},transition:{delay:.1},className:Nn("sticky top-0 z-40 transition-all duration-300",s?"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-200":"bg-white shadow-sm"),children:o.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20 relative",children:[o.jsx("nav",{className:"hidden lg:flex items-center space-x-6",children:l.map(c=>{var u;return o.jsxs("div",{className:"relative group",children:[o.jsxs(me,{to:c.href,className:Nn("flex items-center space-x-1 px-3 py-2 text-sm font-medium transition-colors",t.pathname===c.href?"text-gray-900":"text-gray-700 hover:text-gray-900"),children:[o.jsx("span",{children:c.label}),c.children&&o.jsx(bn,{className:"h-3 w-3"})]}),c.children&&o.jsx(q.div,{initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:(u=c.children)==null?void 0:u.map(d=>o.jsx(me,{to:d.href,className:"block px-4 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-colors",children:d.label},d.label))})]},c.label)})}),o.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Open mobile menu",children:o.jsx(vu,{className:"h-6 w-6 text-gray-700"})}),o.jsx(me,{to:"/",className:"absolute left-1/2 transform -translate-x-1/2 flex items-center group",children:o.jsx(q.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"h-8 lg:h-10 flex items-center justify-center",children:o.jsx(vt.LazyLoadImage,{src:"/logo.png",alt:"Hijabi Inoor Logo",effect:"blur",placeholderSrc:"/logo.png",width:"auto",height:"100%",className:"h-full w-auto object-contain"})})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Mc,{}),o.jsxs("button",{onClick:a,className:"p-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors relative","aria-label":"Shopping cart",children:[o.jsxs("span",{className:"hidden lg:inline",children:["Cart (",r,")"]}),o.jsxs("div",{className:"lg:hidden relative",children:[o.jsx(xl,{className:"h-5 w-5"}),r>0&&o.jsx(q.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-medium",children:r})]})]})]})]})})})})},pR=()=>{const s=()=>{window.scrollTo({top:0,behavior:"smooth"})},e=new Date().getFullYear(),t=[{icon:wu,href:"#",label:"Facebook"},{icon:xu,href:"https://www.instagram.com/hijabinour.shop/",label:"Instagram",target:"_blank",rel:"noopener noreferrer"},{icon:ju,href:"#",label:"Twitter"},{icon:Su,href:"#",label:"YouTube"}],r=[{label:" propos",href:"/about"},{label:"Notre histoire",href:"/story"},{label:"Guide des tailles",href:"/size-guide"},{label:"Instructions d'entretien",href:"/care"},{label:"Blog",href:"/blog"},{label:"Presse",href:"/press"}],n=[{label:"Nous contacter",href:"/contact"},{label:"FAQ",href:"/faq"},{label:"Informations de livraison",href:"/shipping"},{label:"Retours et changes",href:"/returns"},{label:"Suivre votre commande",href:"/track"},{label:"Tableau des tailles",href:"/size-chart"}],i=[{label:"Politique de confidentialit",href:"/privacy"},{label:"Conditions d'utilisation",href:"/terms"},{label:"Politique des cookies",href:"/cookies"},{label:"Accessibilit",href:"/accessibility"}];return o.jsxs("footer",{className:"bg-gray-900 text-white",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"mb-6",children:o.jsxs(me,{to:"/",className:"flex items-center space-x-2 group",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(vt.LazyLoadImage,{src:"/logo.png",alt:"Hijabi Inoor Logo",effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-full object-contain"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold group-hover:text-primary-400 transition-colors",children:"Hijabi Inoor"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Premium Modest Fashion"})]})]})}),o.jsx(q.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-gray-300 mb-6 leading-relaxed",children:"lever la mode modeste avec lgance et qualit. Dcouvrez notre collection slectionne d'abayas, hijabs et ensembles."}),o.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex space-x-4",children:t.map(a=>o.jsx(q.a,{href:a.href,target:a.target||"_self",rel:a.rel||"",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-primary-600 transition-colors","aria-label":a.label,children:o.jsx(a.icon,{className:"h-5 w-5"})},a.label))})]}),o.jsxs(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[o.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Liens rapides"}),o.jsx("ul",{className:"space-y-3",children:r.map(a=>o.jsx("li",{children:o.jsx(me,{to:a.href,className:"text-gray-300 hover:text-primary-400 transition-colors",children:a.label})},a.label))})]}),o.jsxs(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[o.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Service client"}),o.jsx("ul",{className:"space-y-3",children:n.map(a=>o.jsx("li",{children:o.jsx(me,{to:a.href,className:"text-gray-300 hover:text-primary-400 transition-colors",children:a.label})},a.label))})]}),o.jsxs(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[o.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Contactez-nous"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(jl,{className:"h-5 w-5 text-primary-400 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300",children:"hello@hijabiinoor.com"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Nous rpondrons dans les 24 heures"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ku,{className:"h-5 w-5 text-primary-400 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300",children:"+33 6 26 15 74 21"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Lun-Ven 9h-18h CET"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(_u,{className:"h-5 w-5 text-primary-400 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300",children:"Paris, France"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Livraison mondiale"})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h5",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Newsletter"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Obtenez 15% de rduction sur votre premire commande"}),o.jsx("button",{className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium",children:"S'abonner maintenant"})]})]})]})}),o.jsx("div",{className:"border-t border-gray-800",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[o.jsxs(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center space-x-2 text-gray-400",children:[o.jsxs("span",{children:[" ",e," Hijabi Inoor. Tous droits rservs."]}),o.jsx("span",{className:"hidden md:inline",children:""}),o.jsx("span",{className:"hidden md:inline",children:"Fait avec"}),o.jsx(oa,{className:"h-4 w-4 text-red-500 fill-current"}),o.jsx("span",{className:"hidden md:inline",children:"en France"})]}),o.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"flex flex-wrap items-center space-x-6 text-sm",children:i.map((a,l)=>o.jsxs(yt.Fragment,{children:[o.jsx(me,{to:a.href,className:"text-gray-400 hover:text-primary-400 transition-colors",children:a.label}),l<i.length-1&&o.jsx("span",{className:"text-gray-600",children:""})]},a.label))}),o.jsxs(q.button,{onClick:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"flex items-center space-x-2 text-gray-400 hover:text-primary-400 transition-colors",children:[o.jsx("span",{className:"text-sm",children:"Retour en haut"}),o.jsx($u,{className:"h-4 w-4"})]})]})})})]})};var ta=new Map,mn=new WeakMap,Vo=0,mR=void 0;function gR(s){return s?(mn.has(s)||(Vo+=1,mn.set(s,Vo.toString())),mn.get(s)):"0"}function yR(s){return Object.keys(s).sort().filter(e=>s[e]!==void 0).map(e=>`${e}_${e==="root"?gR(s.root):s[e]}`).toString()}function bR(s){const e=yR(s);let t=ta.get(e);if(!t){const r=new Map;let n;const i=new IntersectionObserver(a=>{a.forEach(l=>{var c;const u=l.isIntersecting&&n.some(d=>l.intersectionRatio>=d);s.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=r.get(l.target))==null||c.forEach(d=>{d(u,l)})})},s);n=i.thresholds||(Array.isArray(s.threshold)?s.threshold:[s.threshold||0]),t={id:e,observer:i,elements:r},ta.set(e,t)}return t}function vR(s,e,t={},r=mR){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=s.getBoundingClientRect();return e(r,{isIntersecting:r,target:s,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:n,observer:i,elements:a}=bR(t),l=a.get(s)||[];return a.has(s)||a.set(s,l),l.push(e),i.observe(s),function(){l.splice(l.indexOf(e),1),l.length===0&&(a.delete(s),i.unobserve(s)),a.size===0&&(i.disconnect(),ta.delete(n))}}function tn({threshold:s,delay:e,trackVisibility:t,rootMargin:r,root:n,triggerOnce:i,skip:a,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[h,p]=_.useState(null),f=_.useRef(u),[m,y]=_.useState({inView:!!l,entry:void 0});f.current=u,_.useEffect(()=>{if(a||!h)return;let x;return x=vR(h,(j,S)=>{y({inView:j,entry:S}),f.current&&f.current(j,S),S.isIntersecting&&i&&x&&(x(),x=void 0)},{root:n,rootMargin:r,threshold:s,trackVisibility:t,delay:e},c),()=>{x&&x()}},[Array.isArray(s)?s.toString():s,h,n,r,i,a,t,c,e]);const g=(d=m.entry)==null?void 0:d.target,v=_.useRef(void 0);!h&&g&&!i&&!a&&v.current!==g&&(v.current=g,y({inView:!!l,entry:void 0}));const w=[p,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}const wR=()=>{const s=_.useRef(null),e=_.useRef(null),{t}=Et("home"),{ref:r,inView:n}=tn({threshold:.1,triggerOnce:!0}),{scrollYProgress:i}=Vu({target:s,offset:["start start","end start"]}),a=Gu(i,[0,.5],[1,0]);return o.jsxs("section",{ref:s,className:"relative w-full min-h-screen flex items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 z-0",style:{background:"#3a2f1f",backgroundImage:`
            linear-gradient(90deg, transparent 79px, rgba(0,0,0,0.03) 81px, rgba(0,0,0,0.03) 82px, transparent 84px),
            linear-gradient(90deg, transparent 159px, rgba(0,0,0,0.05) 161px, rgba(0,0,0,0.05) 162px, transparent 164px),
            repeating-linear-gradient(
              90deg,
              rgba(0,0,0,0.02) 0px,
              rgba(0,0,0,0.02) 1px,
              transparent 1px,
              transparent 3px
            ),
            linear-gradient(180deg, #3a2f1f 0%, #2a1f14 100%)
          `}}),o.jsxs(q.div,{style:{opacity:a},className:"absolute inset-0 z-10",children:[o.jsx("video",{ref:e,src:"/vid.mp4",className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),o.jsx("div",{className:"absolute inset-0 bg-black/30"})]}),o.jsxs(q.div,{ref:r,initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8,delay:.3},className:"absolute bottom-20 left-8 lg:left-16 z-30 text-white",children:[o.jsx(q.h1,{className:"text-5xl sm:text-6xl lg:text-7xl xl:text-8xl font-light mb-8 tracking-wide leading-tight",style:{fontFamily:"'Playfair Display', serif",letterSpacing:"0.05em",textShadow:"0 2px 20px rgba(0, 0, 0, 0.3)"},children:o.jsx("span",{className:"block bg-gradient-to-r from-white via-gray-100 to-white bg-clip-text text-transparent",children:t("hero.title")})}),o.jsx(q.div,{initial:{opacity:0,x:-20},animate:n?{opacity:1,x:0}:{},transition:{duration:.8,delay:.5},children:o.jsxs(me,{to:"/products",className:"group relative inline-flex items-center justify-center px-8 py-4 text-base sm:text-lg font-semibold tracking-wider uppercase transition-all duration-300 overflow-hidden",children:[o.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-white/20 backdrop-blur-sm border border-white/30 rounded-sm"}),o.jsx("span",{className:"absolute inset-0 bg-white/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),o.jsxs("span",{className:"relative z-10 text-white flex items-center space-x-2",children:[o.jsx("span",{children:t("hero.cta")}),o.jsx(q.svg,{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",initial:{x:0},whileHover:{x:5},transition:{type:"spring",stiffness:400,damping:17},children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})]}),o.jsx(q.button,{initial:{opacity:0,scale:0},animate:n?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.6},className:"absolute bottom-8 right-8 z-30 w-12 h-12 bg-black rounded-full flex items-center justify-center shadow-lg hover:bg-gray-800 transition-colors","aria-label":"Chat support",children:o.jsx(la,{className:"h-6 w-6 text-white"})})]})},vr=[{id:"20",name:"Abaya Beige lgante",nameAr:"  ",nameFr:"Abaya Beige lgante",nameIt:"Abaya Beige Elegante",nameEs:"Abaya Beige Elegante",price:38.99,originalPrice:38.99,image:"/beige1.png",images:["/beige1.png","/beige2.png","/beige3.png"],category:"abayas",subcategory:"classic",description:"lgante abaya beige en tissu de haute qualit, parfaite pour un look raffin. Son design intemporel et sa couleur neutre en font un indispensable de la garde-robe.",descriptionAr:"          .          .",descriptionFr:"lgante abaya beige en tissu de haute qualit, parfaite pour un look raffin. Son design intemporel et sa couleur neutre en font un indispensable de la garde-robe.",descriptionIt:"Elegante abaya beige in tessuto di alta qualit, perfetta per un look raffinato. Il suo design senza tempo e il colore neutro la rendono un must della moda.",descriptionEs:"Elegante abaya beige en tela de alta calidad, perfecta para un look refinado. Su diseo atemporal y su color neutro la convierten en un bsico del armario.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!1,rating:0,reviewCount:0,sizes:["S","M","L","XL","XXL"],colors:["Beige"],tags:["classic","versatile","modest","comfortable","neutral"]},{id:"19",name:"Abaya Marron lgante",nameAr:"  ",nameFr:"Abaya Marron lgante",nameIt:"Abaya Marrone Elegante",nameEs:"Abaya Marrn Elegante",price:38.99,originalPrice:38.99,image:"/brown1.png",images:["/brown1.png","/brown2.png","/brown3.png","/brown4.png"],category:"abayas",subcategory:"classic",description:"lgante abaya marron en tissu de haute qualit, idale pour toutes les occasions. Confortable et lgante, elle s'adapte  toutes les morphologies.",descriptionAr:"          .     .",descriptionFr:"lgante abaya marron en tissu de haute qualit, idale pour toutes les occasions. Confortable et lgante, elle s'adapte  toutes les morphologies.",descriptionIt:"Elegante abaya marrone in tessuto di alta qualit, ideale per ogni occasione. Comoda ed elegante, si adatta a tutte le forme del corpo.",descriptionEs:"Elegante abaya marrn en tela de alta calidad, ideal para todas las ocasiones. Cmoda y elegante, se adapta a todas las siluetas.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!1,rating:0,reviewCount:0,sizes:["S","M","L","XL","XXL"],colors:["Brown"],tags:["classic","versatile","modest","comfortable"]},{id:"18",name:"Elegant Black Abaya",nameAr:"  ",nameFr:"Abaya Noire lgante",nameIt:"Abaya Nera Elegante",nameEs:"Abaya Negra Elegante",price:38.99,originalPrice:38.99,image:"/black1.png",images:["/black1.png","/black2.png","/black3.png","/black4.png"],category:"abayas",subcategory:"classic",description:"Elegant black abaya made from high-quality fabric, perfect for both casual and formal occasions. Features a comfortable fit and timeless design.",descriptionAr:"           .      .",descriptionFr:"Abaya noire lgante en tissu de haute qualit, parfaite pour les occasions dcontractes et formelles. Dote d'une coupe confortable et d'un design intemporel.",descriptionIt:"Elegante abaya nera in tessuto di alta qualit, perfetta per occasioni informali e formali. Caratterizzata da una vestibilit comoda e un design senza tempo.",descriptionEs:"Elegante abaya negra en tela de alta calidad, perfecta para ocasiones informales y formales. Con un corte cmodo y un diseo atemporal.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!1,rating:0,reviewCount:0,sizes:["S","M","L","XL","XXL"],colors:["Black"],tags:["classic","versatile","modest","comfortable"]},{id:"1",name:"Ensemble Brode de Perles",nameAr:"  ",nameFr:"Ensemble Brode de Perles",nameIt:"Insieme Ricamato con Perline",nameEs:"Conjunto Bordado con Cuentas",price:38,originalPrice:38,image:"/a1.png",images:["/a1.png","/a2.png"],category:"abayas",subcategory:"embroidered",description:"Stunning embroidered abaya ensemble with beautiful beadwork and premium fabric. Perfect for special occasions.",descriptionAr:"          .   .",descriptionFr:"Magnifique ensemble abaya brod avec de beaux travaux de perles et un tissu de qualit suprieure. Parfait pour les occasions spciales.",descriptionIt:"Stupendo insieme abaya ricamato con bellissimi lavori di perline e tessuto di alta qualit. Perfetto per le occasioni speciali.",descriptionEs:"Hermoso conjunto abaya bordado con hermosos trabajos de cuentas y tela de alta calidad. Perfecto para ocasiones especiales.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!0,isOnSale:!0,rating:4.9,reviewCount:89,sizes:["S","M","L","XL"],colors:["Black","Navy","Burgundy"],tags:["embroidered","beads","luxury","special occasion"]},{id:"2",name:"Ensemble Brode de Perles",nameAr:"  ",nameFr:"Ensemble Brode de Perles",nameIt:"Insieme Ricamato con Perline",nameEs:"Conjunto Bordado con Cuentas",price:38,originalPrice:38,image:"/b1.png",images:["/b1.png","/b2.png"],category:"abayas",subcategory:"embroidered",description:"Elegant embroidered abaya ensemble with intricate beadwork and luxurious details. Perfect for formal events.",descriptionAr:"         .   .",descriptionFr:"Ensemble abaya brod lgant avec des travaux de perles complexes et des dtails luxueux. Parfait pour les vnements formels.",descriptionIt:"Insieme abaya ricamato elegante con lavori di perline complessi e dettagli lussuosi. Perfetto per eventi formali.",descriptionEs:"Conjunto abaya bordado elegante con trabajos de cuentas complejos y detalles lujosos. Perfecto para eventos formales.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!0,rating:4.8,reviewCount:156,sizes:["S","M","L","XL","XXL"],colors:["Black","Navy","Burgundy","Forest Green"],tags:["embroidered","beads","elegant","formal"]},{id:"3",name:"Ensemble Brode de Perles",nameAr:"  ",nameFr:"Ensemble Brode de Perles",nameIt:"Insieme Ricamato con Perline",nameEs:"Conjunto Bordado con Cuentas",price:38,originalPrice:38,image:"/c1.png",images:["/c1.png","/c2.png"],category:"abayas",subcategory:"embroidered",description:"Beautiful embroidered abaya ensemble with delicate beadwork and premium quality fabric. Perfect for evening wear.",descriptionAr:"          .   .",descriptionFr:"Belle ensemble abaya brod avec des travaux de perles dlicats et un tissu de qualit suprieure. Parfait pour le port de soire.",descriptionIt:"Bello insieme abaya ricamato con lavori di perline delicati e tessuto di alta qualit. Perfetto per l'abbigliamento serale.",descriptionEs:"Hermoso conjunto abaya bordado con trabajos de cuentas delicados y tela de alta calidad. Perfecto para ropa de noche.",inStock:!0,isNew:!1,newArrival:!1,isBestSeller:!0,isOnSale:!0,rating:4.7,reviewCount:203,sizes:["S","M","L","XL"],colors:["Black","Navy","Burgundy","Forest Green"],tags:["embroidered","beads","evening","premium"]},{id:"4",name:"Ensemble Brode de Perles",nameAr:"  ",nameFr:"Ensemble Brode de Perles",nameIt:"Insieme Ricamato con Perline",nameEs:"Conjunto Bordado con Cuentas",price:38,originalPrice:38,image:"/d1.png",images:["/d1.png","/d2.png"],category:"abayas",subcategory:"embroidered",description:"Stunning embroidered abaya ensemble with exquisite beadwork and elegant design. Perfect for special occasions.",descriptionAr:"         .   .",descriptionFr:"Magnifique ensemble abaya brod avec des travaux de perles exquis et un design lgant. Parfait pour les occasions spciales.",descriptionIt:"Stupendo insieme abaya ricamato con lavori di perline squisiti e design elegante. Perfetto per le occasioni speciali.",descriptionEs:"Hermoso conjunto abaya bordado con trabajos de cuentas exquisitos y diseo elegante. Perfecto para ocasiones especiales.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!0,rating:4.6,reviewCount:127,sizes:["S","M","L","XL","XXL"],colors:["Black","Navy","Burgundy"],tags:["embroidered","beads","elegant","special occasion"]},{id:"5",name:"Ensemble Brode de Perles",nameAr:"  ",nameFr:"Ensemble Brode de Perles",nameIt:"Insieme Ricamato con Perline",nameEs:"Conjunto Bordado con Cuentas",price:38,originalPrice:38,image:"/e1.png",images:["/e1.png","/e2.png"],category:"abayas",subcategory:"embroidered",description:"Elegant embroidered abaya ensemble with beautiful beadwork and comfortable fit. Perfect for daily wear.",descriptionAr:"         .   .",descriptionFr:"Ensemble abaya brod lgant avec de beaux travaux de perles et une coupe confortable. Parfait pour un usage quotidien.",descriptionIt:"Insieme abaya ricamato elegante con bellissimi lavori di perline e vestibilit confortevole. Perfetto per l'uso quotidiano.",descriptionEs:"Conjunto abaya bordado elegante con hermosos trabajos de cuentas y ajuste cmodo. Perfecto para uso diario.",inStock:!0,isNew:!1,newArrival:!1,isBestSeller:!1,isOnSale:!0,rating:4.5,reviewCount:94,sizes:["S","M","L","XL"],colors:["Black","Navy","Gray","Beige"],tags:["embroidered","beads","comfortable","daily wear"]},{id:"6",name:"Ensemble Brode de Perles",nameAr:"  ",nameFr:"Ensemble Brode de Perles",nameIt:"Insieme Ricamato con Perline",nameEs:"Conjunto Bordado con Cuentas",price:38,originalPrice:38,image:"/f1.png",images:["/f1.png","/f2.png"],category:"abayas",subcategory:"embroidered",description:"Beautiful embroidered abaya ensemble with intricate beadwork and versatile design. Perfect for any occasion.",descriptionAr:"          .   .",descriptionFr:"Belle ensemble abaya brod avec des travaux de perles complexes et un design polyvalent. Parfait pour toute occasion.",descriptionIt:"Bello insieme abaya ricamato con lavori di perline complessi e design versatile. Perfetto per ogni occasione.",descriptionEs:"Hermoso conjunto abaya bordado con trabajos de cuentas complejos y diseo verstil. Perfecto para cualquier ocasin.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!0,isOnSale:!0,rating:4.4,reviewCount:67,sizes:["S","M","L","XL","XXL"],colors:["Black","Navy","Burgundy","Forest Green"],tags:["embroidered","beads","versatile","any occasion"]},{id:"7",name:"Ensemble Brode de Perles",nameAr:"  ",nameFr:"Ensemble Brode de Perles",nameIt:"Insieme Ricamato con Perline",nameEs:"Conjunto Bordado con Cuentas",price:38,originalPrice:38,image:"/g1.png",images:["/g1.png","/g2.png"],category:"abayas",subcategory:"embroidered",description:"Elegant embroidered abaya ensemble with beautiful beadwork and comfortable design. Perfect for everyday elegance.",descriptionAr:"         .   .",descriptionFr:"Ensemble abaya brod lgant avec de beaux travaux de perles et un design confortable. Parfait pour l'lgance quotidienne.",descriptionIt:"Insieme abaya ricamato elegante con bellissimi lavori di perline e design confortevole. Perfetto per l'eleganza quotidiana.",descriptionEs:"Conjunto abaya bordado elegante con hermosos trabajos de cuentas y diseo cmodo. Perfecto para la elegancia diaria.",inStock:!0,isNew:!1,newArrival:!1,isBestSeller:!1,isOnSale:!0,rating:4.3,reviewCount:45,sizes:["S","M","L","XL"],colors:["Black","Navy","Gray","Beige"],tags:["embroidered","beads","elegant","everyday"]},{id:"8",name:"Abaya Longue Modrne",nameAr:"  ",nameFr:"Abaya Longue Modrne",nameIt:"Abaya Lunga Moderna",nameEs:"Abaya Larga Moderna",price:38,originalPrice:38,image:"/h1.png",images:["/h1.png","/h2.png"],category:"abayas",subcategory:"modern",description:"Elegant modern long abaya with contemporary design and premium fabric. Perfect for sophisticated occasions.",descriptionAr:"         .   .",descriptionFr:"Abaya longue moderne lgante avec un design contemporain et un tissu de qualit suprieure. Parfaite pour les occasions sophistiques.",descriptionIt:"Abaya lunga moderna elegante con design contemporaneo e tessuto di alta qualit. Perfetta per occasioni sofisticate.",descriptionEs:"Abaya larga moderna elegante con diseo contemporneo y tela de alta calidad. Perfecta para ocasiones sofisticadas.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!0,isOnSale:!0,rating:4.8,reviewCount:92,sizes:["S","M","L","XL","XXL"],colors:["Black","Navy","Burgundy","Forest Green"],tags:["modern","long","elegant","sophisticated"]},{id:"9",name:"Abaya Longue Modrne",nameAr:"  ",nameFr:"Abaya Longue Modrne",nameIt:"Abaya Lunga Moderna",nameEs:"Abaya Larga Moderna",price:38,originalPrice:38,image:"/g1.png",images:["/g1.png","/g2.png"],category:"abayas",subcategory:"modern",description:"Beautiful modern long abaya with sleek design and comfortable fit. Perfect for daily elegance.",descriptionAr:"        .   .",descriptionFr:"Belle abaya longue moderne avec un design lgant et une coupe confortable. Parfaite pour l'lgance quotidienne.",descriptionIt:"Bella abaya lunga moderna con design elegante e vestibilit confortevole. Perfetta per l'eleganza quotidiana.",descriptionEs:"Hermosa abaya larga moderna con diseo elegante y ajuste cmodo. Perfecta para la elegancia diaria.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!0,rating:4.7,reviewCount:78,sizes:["S","M","L","XL"],colors:["Black","Navy","Gray","Beige"],tags:["modern","long","comfortable","daily wear"]},{id:"10",name:"Abaya Longue Modrne",nameAr:"  ",nameFr:"Abaya Longue Modrne",nameIt:"Abaya Lunga Moderna",nameEs:"Abaya Larga Moderna",price:38,originalPrice:38,image:"/i1.png",images:["/i1.png","/i2.png"],category:"abayas",subcategory:"modern",description:"Stunning modern long abaya with contemporary style and premium quality. Perfect for special events.",descriptionAr:"        .   .",descriptionFr:"Magnifique abaya longue moderne avec un style contemporain et une qualit suprieure. Parfaite pour les vnements spciaux.",descriptionIt:"Stupenda abaya lunga moderna con stile contemporaneo e qualit superiore. Perfetta per eventi speciali.",descriptionEs:"Hermosa abaya larga moderna con estilo contemporneo y calidad superior. Perfecta para eventos especiales.",inStock:!0,isNew:!1,newArrival:!1,isBestSeller:!0,isOnSale:!0,rating:4.6,reviewCount:156,sizes:["S","M","L","XL","XXL"],colors:["Black","Navy","Burgundy","Forest Green"],tags:["modern","long","premium","special events"]},{id:"11",name:"Hijab Haute Qualit",nameAr:"  ",nameFr:"Hijab Haute Qualit",nameIt:"Hijab di Alta Qualit",nameEs:"Hijab de Alta Calidad",price:13,originalPrice:13,image:"/ha1.png",images:["/ha1.png","/ha2.png"],category:"hijabs",subcategory:"premium",description:"Premium quality hijab with elegant drape and comfortable fit. Made from high-quality fabric for all-day comfort.",descriptionAr:"       .        .",descriptionFr:"Hijab de qualit suprieure avec drap lgant et coupe confortable. Fabriqu en tissu de haute qualit pour un confort toute la journe.",descriptionIt:"Hijab di alta qualit con drappeggio elegante e vestibilit confortevole. Realizzato con tessuto di alta qualit per comfort tutto il giorno.",descriptionEs:"Hijab de alta calidad con drapeado elegante y ajuste cmodo. Hecho con tela de alta calidad para comodidad todo el da.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!0,isOnSale:!0,rating:4.8,reviewCount:124,sizes:["One Size"],colors:["Black","White","Navy","Burgundy","Forest Green"],tags:["premium","elegant","comfortable","high quality"]},{id:"12",name:"Hijab Moderne",nameAr:" ",nameFr:"Hijab Moderne",nameIt:"Hijab Moderno",nameEs:"Hijab Moderno",price:13,originalPrice:13,image:"/hb1.png",images:["/hb1.png","/hb2.png"],category:"hijabs",subcategory:"modern",description:"Modern hijab with contemporary style and versatile design. Perfect for everyday wear and special occasions.",descriptionAr:"       .     .",descriptionFr:"Hijab moderne avec un style contemporain et un design polyvalent. Parfait pour un usage quotidien et les occasions spciales.",descriptionIt:"Hijab moderno con stile contemporaneo e design versatile. Perfetto per l'uso quotidiano e le occasioni speciali.",descriptionEs:"Hijab moderno con estilo contemporneo y diseo verstil. Perfecto para uso diario y ocasiones especiales.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!0,rating:4.6,reviewCount:89,sizes:["One Size"],colors:["Black","White","Gray","Beige","Navy"],tags:["modern","versatile","contemporary","everyday"]},{id:"13",name:"Hijab Classique",nameAr:" ",nameFr:"Hijab Classique",nameIt:"Hijab Classico",nameEs:"Hijab Clsico",price:13,originalPrice:13,image:"/hc1.png",images:["/hc1.png","/hc2.png"],category:"hijabs",subcategory:"classic",description:"Classic hijab with timeless elegance and traditional style. Perfect for formal occasions and daily wear.",descriptionAr:"      .     .",descriptionFr:"Hijab classique avec une lgance intemporelle et un style traditionnel. Parfait pour les occasions formelles et l'usage quotidien.",descriptionIt:"Hijab classico con eleganza senza tempo e stile tradizionale. Perfetto per occasioni formali e uso quotidiano.",descriptionEs:"Hijab clsico con elegancia atemporal y estilo tradicional. Perfecto para ocasiones formales y uso diario.",inStock:!0,isNew:!1,newArrival:!1,isBestSeller:!0,isOnSale:!0,rating:4.7,reviewCount:156,sizes:["One Size"],colors:["Black","White","Navy","Burgundy"],tags:["classic","timeless","traditional","formal"]},{id:"14",name:"Hijab Dcontract",nameAr:" ",nameFr:"Hijab Dcontract",nameIt:"Hijab Casual",nameEs:"Hijab Casual",price:13,originalPrice:13,image:"/hd1.png",images:["/hd1.png","/hd2.png"],category:"hijabs",subcategory:"casual",description:"Comfortable casual hijab perfect for everyday activities. Soft fabric with easy care and versatile styling.",descriptionAr:"    .        .",descriptionFr:"Hijab dcontract confortable parfait pour les activits quotidiennes. Tissu doux avec entretien facile et style polyvalent.",descriptionIt:"Hijab casual comodo perfetto per le attivit quotidiane. Tessuto morbido con facile manutenzione e stile versatile.",descriptionEs:"Hijab casual cmodo perfecto para actividades diarias. Tela suave con fcil cuidado y estilo verstil.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!1,isOnSale:!0,rating:4.5,reviewCount:98,sizes:["One Size"],colors:["Black","White","Gray","Beige","Navy"],tags:["casual","comfortable","everyday","easy care"]},{id:"15",name:"Hijab lgant",nameAr:" ",nameFr:"Hijab lgant",nameIt:"Hijab Elegante",nameEs:"Hijab Elegante",price:13,originalPrice:13,image:"/he1.png",images:["/he1.png","/he2.png"],category:"hijabs",subcategory:"elegant",description:"Elegant hijab with sophisticated design and premium feel. Perfect for special occasions and evening wear.",descriptionAr:"       .     .",descriptionFr:"Hijab lgant avec un design sophistiqu et une sensation premium. Parfait pour les occasions spciales et le port de soire.",descriptionIt:"Hijab elegante con design sofisticato e sensazione premium. Perfetto per occasioni speciali e abbigliamento serale.",descriptionEs:"Hijab elegante con diseo sofisticado y sensacin premium. Perfecto para ocasiones especiales y ropa de noche.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!0,isOnSale:!0,rating:4.9,reviewCount:203,sizes:["One Size"],colors:["Black","White","Navy","Burgundy","Forest Green"],tags:["elegant","sophisticated","premium","special occasion"]},{id:"16",name:"Hijab Fantaisie",nameAr:" ",nameFr:"Hijab Fantaisie",nameIt:"Hijab Fantasia",nameEs:"Hijab Fantasa",price:13,originalPrice:13,image:"/hf1.png",images:["/hf1.png","/hf2.png"],category:"hijabs",subcategory:"fancy",description:"Fancy hijab with unique patterns and creative designs. Perfect for adding a touch of personality to your style.",descriptionAr:"      .       .",descriptionFr:"Hijab fantaisie avec des motifs uniques et des designs cratifs. Parfait pour ajouter une touche de personnalit  votre style.",descriptionIt:"Hijab fantasia con motivi unici e design creativi. Perfetto per aggiungere un tocco di personalit al tuo stile.",descriptionEs:"Hijab fantasa con patrones nicos y diseos creativos. Perfecto para agregar un toque de personalidad a tu estilo.",inStock:!0,isNew:!1,newArrival:!1,isBestSeller:!1,isOnSale:!0,rating:4.4,reviewCount:67,sizes:["One Size"],colors:["Black","White","Navy","Burgundy","Forest Green"],tags:["fancy","unique","creative","personality"]},{id:"17",name:"Hijab Glamour",nameAr:" ",nameFr:"Hijab Glamour",nameIt:"Hijab Glamour",nameEs:"Hijab Glamour",price:13,originalPrice:13,image:"/hg1.png",images:["/hg1.png","/hg2.png"],category:"hijabs",subcategory:"glamour",description:"Glamorous hijab with luxurious details and stunning appeal. Perfect for making a statement at special events.",descriptionAr:"      .      .",descriptionFr:"Hijab glamour avec des dtails luxueux et un attrait poustouflant. Parfait pour faire sensation lors d'vnements spciaux.",descriptionIt:"Hijab glamour con dettagli lussuosi e appeal straordinario. Perfetto per fare colpo agli eventi speciali.",descriptionEs:"Hijab glamour con detalles lujosos y atractivo impresionante. Perfecto para causar sensacin en eventos especiales.",inStock:!0,isNew:!0,newArrival:!0,isBestSeller:!0,isOnSale:!0,rating:4.8,reviewCount:145,sizes:["One Size"],colors:["Black","White","Navy","Burgundy","Forest Green"],tags:["glamour","luxurious","stunning","statement piece"]}],xR=s=>vr.find(e=>e.id===s),jR=()=>vr.filter(s=>s.isBestSeller||s.isNew),ls=vr,ut=(s,e="EUR")=>new Intl.NumberFormat("en-EU",{style:"currency",currency:e}).format(s),Fc=(s,e)=>Math.round((s-e)/s*100),SR=(s,e)=>{if(s.category==="hijabs")if(e>=2){const t=Math.floor(e/2),r=e%2;return t*25+r*13}else return e*13;else return s.price*e},kR=(s,e)=>s.filter(t=>{if(e.category&&t.category!==e.category||e.subcategory&&t.subcategory!==e.subcategory)return!1;if(e.priceRange){const[r,n]=e.priceRange;if(t.price<r||t.price>n)return!1}return!(e.colors&&e.colors.length>0&&!e.colors.some(n=>t.colors.some(i=>i.toLowerCase().includes(n.toLowerCase())))||e.sizes&&e.sizes.length>0&&!e.sizes.some(n=>t.sizes.includes(n))||e.inStock!==void 0&&t.inStock!==e.inStock||e.rating&&t.rating<e.rating)}),_R=(s,e)=>{const t=[...s];switch(e){case"featured":return t.sort((r,n)=>r.isBestSeller&&!n.isBestSeller?-1:!r.isBestSeller&&n.isBestSeller?1:r.isNew&&!n.isNew?-1:!r.isNew&&n.isNew?1:0);case"popular":return t.sort((r,n)=>n.reviewCount-r.reviewCount);case"alphabetical-az":return t.sort((r,n)=>r.name.localeCompare(n.name));case"alphabetical-za":return t.sort((r,n)=>n.name.localeCompare(r.name));case"price-low":return t.sort((r,n)=>r.price-n.price);case"price-high":return t.sort((r,n)=>n.price-r.price);case"newest":return t.sort((r,n)=>r.isNew&&!n.isNew?-1:!r.isNew&&n.isNew?1:0);case"oldest":return t.sort((r,n)=>r.isNew&&!n.isNew?1:!r.isNew&&n.isNew?-1:0);default:return t}},Uc=(s,e)=>{if(!e.trim())return s;const t=e.toLowerCase();return s.filter(r=>r.name.toLowerCase().includes(t)||r.description.toLowerCase().includes(t)||r.tags.some(n=>n.toLowerCase().includes(t))||r.category.toLowerCase().includes(t)||r.subcategory&&r.subcategory.toLowerCase().includes(t))},$R=()=>{const{ref:s,inView:e}=tn({threshold:.1,triggerOnce:!0}),{t}=Et("home"),r=jR();return o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(q.div,{ref:s,initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.6},className:"mb-16",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-serif text-[#0B0B0D] mb-2 tracking-tight",children:t("featured.curatedSelection")}),o.jsxs(me,{to:"/products",className:"text-sm text-gray-600 hover:text-black transition-colors inline-block",children:[t("featured.viewAll")," "]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8",children:r.map((n,i)=>o.jsx(q.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.4,delay:i*.05},className:"group",children:o.jsxs(me,{to:`/product/${n.id}`,className:"block",onClick:()=>window.scrollTo({top:0,behavior:"instant"}),children:[o.jsxs("div",{className:"relative overflow-hidden mb-4 bg-gray-50",children:[o.jsx(vt.LazyLoadImage,{src:n.image,alt:n.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-[300px] sm:h-[400px] lg:h-[450px] object-cover group-hover:opacity-95 transition-opacity duration-300"}),n.images&&n.images[1]&&o.jsx(vt.LazyLoadImage,{src:n.images[1],alt:n.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.isOnSale&&n.originalPrice&&o.jsxs("div",{className:"absolute top-4 left-4 bg-black text-white px-3 py-1 text-xs font-medium",children:["-",Fc(n.originalPrice,n.price),"%"]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-medium text-[#0B0B0D] mb-1 group-hover:opacity-70 transition-opacity",children:n.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-base text-[#0B0B0D]",children:ut(n.price)}),n.originalPrice&&o.jsx("span",{className:"text-sm text-gray-500 line-through",children:ut(n.originalPrice)})]})]})]})},n.id))})]})})},CR=()=>{const{ref:s,inView:e}=tn({threshold:.1,triggerOnce:!0}),{t}=Et("home"),r=[{id:"hijabs",name:"Hijabs",description:"Hijabs de qualit suprieure en diffrents tissus et styles",image:"/hijabs.png",count:"4 articles",featured:!0,gradient:"from-purple-500 to-pink-500"},{id:"abayas",name:"Abayas",description:"Abayas lgantes pour toutes les occasions",image:"/abaya.png",count:"4 articles",featured:!0,gradient:"from-blue-500 to-indigo-500"},{id:"ensemble",name:"Ensemble",description:"Ensembles lgants et raffins",image:"/c1.png",count:"4 articles",featured:!0,gradient:"from-pink-500 to-rose-500"},{id:"boxes-cadeau",name:"Boxes Cadeau",description:"Boxes cadeau lgantes et personnalises",image:"/cofferet.jpeg",count:"4 articles",featured:!0,gradient:"from-green-500 to-emerald-500"}];return o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx(q.div,{ref:s,initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.6},className:"mb-12",children:o.jsx("h2",{className:"text-2xl sm:text-3xl font-serif text-[#0B0B0D] mb-2 tracking-tight",children:t("categories.shopByCategory")})}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:r.map((n,i)=>o.jsx(q.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.4,delay:i*.05},className:"group",children:o.jsxs(me,{to:`/${n.id}`,className:"block",children:[o.jsx("div",{className:"relative overflow-hidden mb-4 bg-gray-50",children:o.jsx(vt.LazyLoadImage,{src:n.image,alt:n.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-[300px] sm:h-[350px] object-cover group-hover:opacity-95 transition-opacity duration-300"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-medium text-[#0B0B0D] mb-1 group-hover:opacity-70 transition-opacity",children:n.name}),o.jsx("p",{className:"text-sm text-gray-600",children:n.count.replace("items",t("categories.items"))})]})]})},n.id))})]})})},OR=()=>{const{ref:s,inView:e}=tn({threshold:.1,triggerOnce:!0}),t=[{id:1,name:"Layla",role:"lgant Hijab en Mousseline",location:"Paris, France",content:"Cette robe est si mignonne et polyvalente. Elle peut tre habille ou porte pour un look dcontract au quotidien, et elle est super confortable. C'est un classique intemporel qui ne se dmode jamais, comme toujours chez Hijabi Inoor.",rating:5,image:"/testimonials/layla.jpg"},{id:2,name:"Fathima Baig",role:"Abaya de Luxe",location:"Lyon, France",content:"L'Abaya de Luxe est un INCONTOURNABLE dans votre garde-robe ! Je l'ai porte  un vnement professionnel de mon mari, et j'ai reu tellement de compliments, c'tait incroyable !",rating:5,image:"/testimonials/fathima.jpg"},{id:3,name:"Ines J.",role:"Ensemble de Foulards en Chiffon",location:"Marseille, France",content:"lgant et chic. Les hijabs sont bien conus et le tissu ajoute une touche d'lgance. On se sent spciale en portant les tenues Hijabi Inoor. Merci pour la livraison rapide et les petites attentions aussi ",rating:5,image:"/testimonials/ines.jpg"}],r=[{value:"4.9",label:"Note Moyenne"},{value:"10 000+",label:"Clients Satisfaits"},{value:"99%",label:"Taux de Satisfaction"}];return o.jsx("section",{className:"py-20 bg-gradient-to-br from-primary-50 via-white to-secondary-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs(q.div,{ref:s,initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Ce que disent nos clientes"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Ne vous fiez pas uniquement  nos dires. Voici ce que nos merveilleuses clientes pensent de leur exprience avec nous."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:t.map((n,i)=>o.jsx(q.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:i*.1},whileHover:{y:-5,scale:1.02},className:"group",children:o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 h-full flex flex-col",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center group-hover:bg-primary-200 transition-colors",children:o.jsx(Cu,{className:"h-6 w-6 text-primary-600"})})}),o.jsx("div",{className:"flex-grow",children:o.jsxs("p",{className:"text-gray-600 italic mb-6",children:['"',n.content,'"']})}),o.jsx("div",{className:"flex justify-center mb-4",children:[...Array(5)].map((a,l)=>o.jsx(ca,{className:`h-5 w-5 ${l<n.rating?"text-yellow-400 fill-current":"text-gray-300"}`},l))}),o.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:n.name}),o.jsx("p",{className:"text-sm text-gray-500",children:n.role}),o.jsx("p",{className:"text-sm text-gray-400",children:n.location})]})]})},n.id))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:r.map((n,i)=>o.jsxs(q.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:.3+i*.1},className:"text-center p-6 bg-white rounded-xl shadow-md",children:[o.jsx("p",{className:"text-4xl font-bold text-primary-600 mb-2",children:n.value}),o.jsx("p",{className:"text-gray-600",children:n.label})]},i))}),o.jsxs(q.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:.5},className:"text-center bg-gradient-to-r from-primary-500 to-secondary-500 rounded-2xl p-8 text-white",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Rejoignez nos clientes satisfaites"}),o.jsx("p",{className:"text-lg mb-6 max-w-2xl mx-auto",children:"Dcouvrez la qualit et le service que nos clientes adorent. Commencez votre voyage avec nous ds aujourd'hui."}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[o.jsx("button",{className:"px-6 py-3 bg-white text-primary-600 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Boutique"}),o.jsx("button",{className:"px-6 py-3 border-2 border-white text-white font-medium rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors",children:"En savoir plus"})]})]})]})})},PR=()=>{const[s,e]=_.useState(""),[t,r]=_.useState(!1),[n,i]=_.useState(!1),{ref:a,inView:l}=tn({threshold:.1,triggerOnce:!0}),c=async u=>{if(u.preventDefault(),!s.trim()){le.error("Veuillez entrer votre adresse e-mail");return}r(!0),await new Promise(h=>setTimeout(h,1500)),r(!1),i(!0);const d=JSON.parse(localStorage.getItem("newsletter-subscribers")||"[]");d.push({email:s,subscribedAt:new Date().toISOString()}),localStorage.setItem("newsletter-subscribers",JSON.stringify(d)),le.success("Inscription russie  notre newsletter !")};return n?o.jsx(q.section,{ref:a,initial:{opacity:0,y:30},animate:l?{opacity:1,y:0}:{},transition:{duration:.8},className:"py-20 bg-gradient-to-r from-green-50 to-emerald-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx(q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Sl,{className:"h-10 w-10 text-green-600"})}),o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Bienvenue dans notre communaut !"}),o.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Vous tes maintenant inscrit(e)  notre newsletter. Vrifiez votre e-mail pour recevoir votre cadeau de bienvenue !"})]})}):o.jsx(q.section,{ref:a,initial:{opacity:0,y:30},animate:l?{opacity:1,y:0}:{},transition:{duration:.6},className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-16 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[o.jsx("span",{className:"block",children:"Restez inform"}),o.jsx("span",{className:"block text-indigo-100 text-xl font-normal mt-2",children:"Accdez en avant-premire aux nouvelles collections, offres spciales et conseils de style."})]}),o.jsx("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:o.jsx("div",{className:"flex-1 max-w-md",children:o.jsxs("form",{onSubmit:c,className:"sm:flex",children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Adresse email"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:u=>e(u.target.value),className:"w-full px-5 py-3 border border-transparent rounded-md shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-indigo-700",placeholder:"Entrez votre email"}),o.jsx("button",{type:"submit",disabled:t,className:"mt-3 w-full flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-indigo-700 focus:ring-white sm:mt-0 sm:ml-3 sm:flex-shrink-0",children:t?"Inscription en cours...":"S'inscrire"})]})})}),o.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-white/20 rounded-md p-2",children:o.jsx(kl,{className:"h-6 w-6 text-white"})}),o.jsx("p",{className:"ml-3 text-base text-white",children:"15% de rduction"})]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-white/20 rounded-md p-2",children:o.jsx(Ou,{className:"h-6 w-6 text-white"})}),o.jsx("p",{className:"ml-3 text-base text-white",children:"Mises  jour exclusives"})]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-white/20 rounded-md p-2",children:o.jsx(Pu,{className:"h-6 w-6 text-white"})}),o.jsx("p",{className:"ml-3 text-base text-white",children:"Pas de spam, jamais"})]})]}),o.jsx("p",{className:"mt-8 text-sm text-indigo-100",children:"En vous inscrivant, vous acceptez notre Politique de confidentialit. Vous pouvez vous dsinscrire  tout moment."})]})})},ER=()=>{const{setLoading:s}=ds();return _.useEffect(()=>{s(!1)},[s]),o.jsxs("div",{className:"relative bg-white",children:[o.jsxs(Fn,{children:[o.jsx("title",{children:"Hijabi Inoor - Premium Modest Fashion | Elegant Abayas & Hijabs"}),o.jsx("meta",{name:"description",content:"Discover our curated collection of premium abayas, hijabs, and modest fashion. Elegant designs, exceptional quality, and perfect for the modern Muslim woman."}),o.jsx("meta",{name:"keywords",content:"hijab, abaya, modest fashion, muslim clothing, islamic wear, hijabi, elegant abayas, premium hijabs"}),o.jsx("meta",{property:"og:title",content:"Hijabi Inoor - Premium Modest Fashion"}),o.jsx("meta",{property:"og:description",content:"Discover our curated collection of premium abayas, hijabs, and modest fashion. Elegant designs, exceptional quality."}),o.jsx("meta",{property:"og:type",content:"website"}),o.jsx("meta",{property:"og:url",content:"https://hijabiinoor.com"})]}),o.jsx(wR,{}),o.jsx(CR,{}),o.jsx($R,{}),o.jsx(OR,{}),o.jsx(PR,{})]})},TR=({products:s,viewMode:e,columns:t=4})=>{const[r,n]=_.useState(null),i=()=>{switch(t){case 2:return"grid-cols-2 sm:grid-cols-2";case 3:return"grid-cols-2 sm:grid-cols-2 lg:grid-cols-3";case 4:return"grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4";default:return"grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}},a=l=>l.colors&&l.colors.length>0?`${l.name} | ${l.colors[0]}`:l.name;return o.jsx("div",{className:`grid ${i()} gap-6 lg:gap-8 w-full`,children:s.map((l,c)=>o.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:c*.03},className:"group",onMouseEnter:()=>n(l.id),onMouseLeave:()=>n(null),children:o.jsxs(me,{to:`/product/${l.id}`,className:"block",onClick:()=>window.scrollTo({top:0,behavior:"instant"}),children:[o.jsxs("div",{className:"relative overflow-hidden mb-3 bg-gray-50",children:[o.jsx(vt.LazyLoadImage,{src:l.image,alt:l.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-[300px] sm:h-[400px] lg:h-[450px] object-cover group-hover:opacity-95 transition-opacity duration-300"}),l.images&&l.images[1]&&o.jsx(vt.LazyLoadImage,{src:l.images[1],alt:l.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r===l.id&&l.sizes&&l.sizes.length>0&&o.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex flex-wrap gap-2",children:l.sizes.map(u=>o.jsx("div",{className:"bg-white px-3 py-1 text-xs font-medium text-[#0B0B0D]",children:u},u))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-[#0B0B0D] mb-1 group-hover:opacity-70 transition-opacity",children:a(l)}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-[#0B0B0D]",children:ut(l.price)}),l.originalPrice&&o.jsx("span",{className:"text-sm text-gray-500 line-through",children:ut(l.originalPrice)})]})]})]})},l.id))})},NR=({filters:s,onFilterChange:e,onSearchChange:t,searchQuery:r,onClearFilters:n,activeFiltersCount:i,isOpen:a,onClose:l})=>{var v,w,x;const[c,u]=_.useState({price:!0,color:!0,size:!0}),d=j=>{u(S=>({...S,[j]:!S[j]}))},h=[...new Set(ls.flatMap(j=>j.colors))],p=[...new Set(ls.flatMap(j=>j.sizes))],f=j=>{e({priceRange:j})},m=j=>{const S=s.colors||[],O=S.includes(j)?S.filter(A=>A!==j):[...S,j];e({colors:O.length>0?O:void 0})},y=j=>{const S=s.sizes||[],O=S.includes(j)?S.filter(A=>A!==j):[...S,j];e({sizes:O.length>0?O:void 0})},g=j=>({Black:"#000000",White:"#FFFFFF",Navy:"#1e3a8a",Burgundy:"#800020","Forest Green":"#228b22",Gray:"#808080",Grey:"#808080",Beige:"#f5f5dc",Mauve:"#e0b0ff","Rose Gold":"#e8b4b8",Gold:"#ffd700",Silver:"#c0c0c0",Champagne:"#f7e7ce",Pearl:"#f8f6f0",Emerald:"#50c878","Royal Blue":"#4169e1",Brown:"#8b4513",Charcoal:"#36454f","Sage Green":"#9caf88","Dusty Rose":"#d4a5a5",Teal:"#008080",Coral:"#ff7f50"})[j]||"#6b7280";return o.jsx(er,{children:a&&o.jsxs(o.Fragment,{children:[o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/50 z-50"}),o.jsxs(q.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl z-50 overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[o.jsx("h2",{className:"text-lg font-medium text-[#0B0B0D]",children:"Filter"}),o.jsxs("div",{className:"flex items-center gap-4",children:[i>0&&o.jsx("button",{onClick:n,className:"text-sm text-gray-600 hover:text-black",children:"Clear all"}),o.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close filter",children:o.jsx(Xr,{className:"h-5 w-5 text-[#0B0B0D]"})})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>d("price"),className:"flex items-center justify-between w-full text-left text-sm font-medium text-[#0B0B0D] mb-3",children:[o.jsx("span",{children:"Price"}),c.price?o.jsx(Xn,{className:"h-4 w-4"}):o.jsx(bn,{className:"h-4 w-4"})]}),c.price&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-[#0B0B0D] mb-2",children:["",((v=s.priceRange)==null?void 0:v[0])||0," - ",((w=s.priceRange)==null?void 0:w[1])||12900]}),o.jsx("input",{type:"range",min:"0",max:"12900",value:((x=s.priceRange)==null?void 0:x[1])||12900,onChange:j=>{var S;return f([((S=s.priceRange)==null?void 0:S[0])||0,parseInt(j.target.value)])},className:"w-full"})]})]}),o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>d("color"),className:"flex items-center justify-between w-full text-left text-sm font-medium text-[#0B0B0D] mb-3",children:[o.jsx("span",{children:"Color"}),c.color?o.jsx(Xn,{className:"h-4 w-4"}):o.jsx(bn,{className:"h-4 w-4"})]}),c.color&&o.jsx("div",{className:"space-y-2",children:h.slice(0,10).map(j=>{var S;return o.jsxs("button",{onClick:()=>m(j),className:`w-full flex items-center space-x-2 text-sm transition-colors ${(S=s.colors)!=null&&S.includes(j)?"text-[#0B0B0D] font-medium":"text-gray-600 hover:text-[#0B0B0D]"}`,children:[o.jsx("div",{className:"w-4 h-4 border border-gray-300",style:{backgroundColor:g(j)}}),o.jsx("span",{className:"lowercase",children:j.toLowerCase()})]},j)})})]}),o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>d("size"),className:"flex items-center justify-between w-full text-left text-sm font-medium text-[#0B0B0D] mb-3",children:[o.jsx("span",{children:"Size"}),c.size?o.jsx(Xn,{className:"h-4 w-4"}):o.jsx(bn,{className:"h-4 w-4"})]}),c.size&&o.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(j=>{var S;return o.jsx("button",{onClick:()=>y(j),className:`px-3 py-1 text-sm border transition-colors ${(S=s.sizes)!=null&&S.includes(j)?"border-[#0B0B0D] text-[#0B0B0D]":"border-gray-300 text-gray-600 hover:border-gray-400"}`,children:j},j)})})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:o.jsx("button",{onClick:l,className:"w-full btn-primary",children:"Apply Filters"})})]})]})})},Ht=()=>{const[s]=hu(),[e,t]=_.useState(ls),[r,n]=_.useState({}),[i]=_.useState("featured"),[a,l]=_.useState(""),[c]=_.useState("grid"),[u,d]=_.useState(4),[h,p]=_.useState(!1),f=s.get("category"),m=s.get("search");_.useEffect(()=>{const S={};f&&(S.category=f),m&&l(m),n(S)},[f,m]),_.useEffect(()=>{let S=ls;a.trim()&&(S=Uc(S,a)),S=kR(S,r),S=_R(S,i),t(S)},[r,i,a]);const y=S=>{n(O=>({...O,...S}))},g=S=>{l(S)},v=()=>{n({}),l("")},w=Object.values(r).filter(S=>S!=null&&S!=="").length+(a?1:0),x=["All",...new Set(ls.map(S=>S.category))],j=f||"All";return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs(Fn,{children:[o.jsx("title",{children:f?`${f.charAt(0).toUpperCase()+f.slice(1)} - Hijabi Inoor`:"All Products - Hijabi Inoor"}),o.jsx("meta",{name:"description",content:`Browse our collection of ${f||"premium modest fashion"} products. High quality, elegant designs for the modern Muslim woman.`})]}),o.jsx("div",{className:"w-full border-b border-gray-200 sticky top-0 bg-white z-30",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between py-4 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Grid"}),[2,3,4].map(S=>o.jsx("button",{onClick:()=>d(S),className:`px-2 py-1 text-sm border transition-colors ${u===S?"border-[#0B0B0D] text-[#0B0B0D]":"border-gray-300 text-gray-600 hover:border-gray-400"}`,children:S},S))]}),o.jsx("div",{className:"flex-1 flex items-center justify-center overflow-x-auto px-4",children:o.jsx("div",{className:"flex items-center gap-4 whitespace-nowrap",children:x.map(S=>o.jsx("button",{onClick:()=>{n(S==="All"?O=>({...O,category:void 0}):O=>({...O,category:S}))},className:`text-sm transition-colors ${S==="All"&&j==="All"||S!=="All"&&j===S?"text-[#0B0B0D] font-medium":"text-gray-600 hover:text-[#0B0B0D]"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})}),o.jsx("div",{className:"flex items-center",children:o.jsx("button",{onClick:()=>p(!0),className:"text-sm text-[#0B0B0D] border border-[#0B0B0D] px-4 py-2 hover:bg-[#0B0B0D] hover:text-white transition-colors whitespace-nowrap",children:w>0?`Filter + (${w})`:"Filter +"})})]})})}),o.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx(TR,{products:e,viewMode:c,columns:u}),e.length===0&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx("h3",{className:"text-lg font-medium text-black mb-2",children:"No products found"}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Try adjusting your filters"}),o.jsx("button",{onClick:v,className:"btn-secondary text-sm",children:"Clear all filters"})]})]})}),o.jsx(NR,{filters:r,onFilterChange:y,onSearchChange:g,searchQuery:a,onClearFilters:v,activeFiltersCount:w,isOpen:h,onClose:()=>p(!1)})]})},AR=()=>{const{id:s}=bl(),e=vl(),[t,r]=_.useState(0),[n,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(1),[d,h]=_.useState(!1),{addItem:p,updateQuantity:f}=Gn(),{openProductModal:m}=ds(),{t:y}=Et("home"),{t:g}=Et("products"),v=s?xR(s):null;if(_.useEffect(()=>{v&&(i(v.colors[0]),l(v.sizes[0])),window.scrollTo({top:0,behavior:"instant"})},[v]),!v)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:g("productNotFound")}),o.jsx("button",{onClick:()=>e("/products"),className:"btn-primary",children:g("backToProducts")})]})});const w=()=>{if(!n||!a){le.error(g("selectColorSize"));return}if(p(v,n,a),c>1){const O=`${v.id}-${n}-${a}`;f(O,c)}le.success(`${v.name} ${g("itemAdded")}`)},x=()=>{h(!d),le.success(g(d?"removedFromWishlist":"addedToWishlist"))},j=async()=>{if(navigator.share)try{await navigator.share({title:v.name,text:v.description,url:window.location.href})}catch(O){console.log("Error sharing:",O)}else navigator.clipboard.writeText(window.location.href),le.success(g("linkCopied"))},S=[{icon:Eu,text:g("freeShipping")+" sur les commandes de plus de 75"},{icon:Tu,text:"Retours sous 30 jours"},{icon:la,text:y("hero.features.orderViaWhatsApp")}];return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs(Fn,{children:[o.jsxs("title",{children:[v.name," - Hijabi Inoor"]}),o.jsx("meta",{name:"description",content:v.description}),o.jsx("meta",{property:"og:title",content:v.name}),o.jsx("meta",{property:"og:description",content:v.description}),o.jsx("meta",{property:"og:image",content:v.images[0]})]}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[o.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-4",children:[o.jsx("div",{className:"aspect-square overflow-hidden rounded-2xl bg-gray-100",children:o.jsx(vt.LazyLoadImage,{src:v.images[t],alt:v.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-full object-cover"})}),v.images.length>1&&o.jsx("div",{className:"grid grid-cols-4 gap-4",children:v.images.map((O,A)=>o.jsx("button",{onClick:()=>r(A),className:`aspect-square overflow-hidden rounded-lg ${t===A?"ring-2 ring-primary-500":"hover:ring-2 hover:ring-gray-300"}`,children:o.jsx(vt.LazyLoadImage,{src:O,alt:`${v.name} ${A+1}`,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-full object-cover"})},A))})]}),o.jsxs(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"space-y-6",children:[o.jsxs("nav",{className:"text-sm text-gray-500",children:[o.jsx("span",{children:g("home")})," / ",o.jsx("span",{children:g("products")})," / ",o.jsx("span",{className:"text-gray-900",children:v.category})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:v.name}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(O=>o.jsx(ca,{className:`h-5 w-5 ${O<=Math.floor(v.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},O)),o.jsxs("span",{className:"ml-2 text-gray-600",children:["(",v.reviewCount," ",g("reviews"),")"]})]})})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-3xl font-bold text-gray-900",children:ut(v.price)}),v.originalPrice&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-xl text-gray-500 line-through",children:ut(v.originalPrice)}),o.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm font-semibold",children:["-",Fc(v.originalPrice,v.price),"%"]})]})]}),v.category==="hijabs"&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-sm font-bold",children:"!"})})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:g("specialPricing")}),o.jsx("p",{className:"text-sm text-blue-700",children:g("buy1For")})]})]})}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:v.description}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:[g("color"),": ",n]}),o.jsx("div",{className:"flex space-x-3",children:v.colors.map(O=>o.jsx("button",{onClick:()=>i(O),className:`px-4 py-2 rounded-lg border-2 transition-colors ${n===O?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:O},O))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:[g("size"),": ",a]}),o.jsx("div",{className:"flex space-x-3",children:v.sizes.map(O=>o.jsx("button",{onClick:()=>l(O),className:`w-12 h-12 rounded-lg border-2 flex items-center justify-center font-medium transition-colors ${a===O?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:O},O))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:g("quantity")}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[o.jsx("button",{onClick:()=>u(Math.max(1,c-1)),className:"p-2 hover:bg-gray-100 transition-colors",children:o.jsx(_l,{className:"h-4 w-4"})}),o.jsx("span",{className:"px-4 py-2 font-medium",children:c}),o.jsx("button",{onClick:()=>u(c+1),className:"p-2 hover:bg-gray-100 transition-colors",children:o.jsx(Ln,{className:"h-4 w-4"})})]}),o.jsx("span",{className:"text-sm text-gray-500",children:v.inStock?g("inStock"):g("outOfStock")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:w,disabled:!v.inStock,className:"flex-1 btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(xl,{className:"h-5 w-5"}),o.jsx("span",{children:g("addToCart")})]}),o.jsx("button",{onClick:x,className:`p-4 rounded-xl border-2 transition-colors ${d?"border-red-500 bg-red-50 text-red-600":"border-gray-300 hover:border-gray-400"}`,children:o.jsx(oa,{className:`h-5 w-5 ${d?"fill-current":""}`})}),o.jsx("button",{onClick:j,className:"p-4 rounded-xl border-2 border-gray-300 hover:border-gray-400 transition-colors",children:o.jsx(Nu,{className:"h-5 w-5"})})]}),o.jsx("button",{onClick:()=>m(v),className:"w-full btn-secondary",children:g("quickView")})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:S.map((O,A)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(O.icon,{className:"h-5 w-5 text-primary-600"}),o.jsx("span",{className:"text-sm text-gray-600",children:O.text})]},A))}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:g("tags")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:v.tags.map(O=>o.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:O},O))})]})]})]})})]})},RR=()=>{const{items:s,total:e,itemCount:t,updateQuantity:r,removeItem:n,clearCart:i}=Gn(),{toggleCart:a}=ds(),{t:l}=Et("products"),{t:c}=Et("common"),u=(f,m)=>{m<=0?(n(f),le.success("Item removed from cart")):r(f,m)},d=(f,m)=>{n(f),le.success(`${m} removed from cart`)},h=()=>{i(),le.success("Cart cleared")},p=()=>{if(s.length===0){le.error("Your cart is empty");return}let f=` *${c("newOrder")}*

`;s.forEach((g,v)=>{f+=`${v+1}. *${g.product.name}*
`,f+=`   ${g.selectedColor}  ${g.selectedSize}  Qty: ${g.quantity}
`,f+=`   ${ut(g.product.price*g.quantity)}

`}),f+=` *${c("totalAmount")}: ${ut(e)}*

`,f+=` ${c("pleaseConfirm")}.`;const y=`https://wa.me/33626157421?text=${encodeURIComponent(f)}`;window.open(y,"_blank"),le.success("Opening WhatsApp to place your order!"),a()};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),o.jsxs(q.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ir,{className:"h-6 w-6 text-primary-600"}),o.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Shopping Cart (",t,")"]})]}),o.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close cart",children:o.jsx(Xr,{className:"h-5 w-5 text-gray-500"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx(er,{children:s.length===0?o.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[o.jsx(Ir,{className:"h-16 w-16 text-gray-300 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Add some beautiful items to get started"}),o.jsxs(me,{to:"/products",onClick:a,className:"btn-primary inline-flex items-center space-x-2",children:[o.jsx("span",{children:"Start Shopping"}),o.jsx(Au,{className:"h-4 w-4"})]})]}):o.jsx("div",{className:"p-6 space-y-4",children:s.map(f=>o.jsxs(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(vt.LazyLoadImage,{src:f.product.images[0],alt:f.product.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:f.product.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[f.selectedColor,"  ",f.selectedSize]}),o.jsx("p",{className:"text-sm font-semibold text-primary-600",children:ut(SR(f.product,f.quantity))})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>u(f.id,f.quantity-1),className:"p-1 rounded-lg hover:bg-gray-200 transition-colors","aria-label":"Decrease quantity",children:o.jsx(_l,{className:"h-4 w-4 text-gray-600"})}),o.jsx("span",{className:"w-8 text-center text-sm font-medium",children:f.quantity}),o.jsx("button",{onClick:()=>u(f.id,f.quantity+1),className:"p-1 rounded-lg hover:bg-gray-200 transition-colors","aria-label":"Increase quantity",children:o.jsx(Ln,{className:"h-4 w-4 text-gray-600"})})]}),o.jsx("button",{onClick:()=>d(f.id,f.product.name),className:"p-1 rounded-lg hover:bg-red-100 text-red-500 transition-colors","aria-label":"Remove item",children:o.jsx(ua,{className:"h-4 w-4"})})]},f.id))})})}),s.length>0&&o.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold",children:[o.jsx("span",{className:"text-gray-900",children:"Total:"}),o.jsx("span",{className:"text-primary-600",children:ut(e)})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:p,className:"btn-primary w-full flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-700",children:[o.jsx(la,{className:"h-4 w-4"}),o.jsx("span",{children:l("orderViaWhatsApp")})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(me,{to:"/products",onClick:a,className:"btn-secondary flex-1 text-center",children:"Continue Shopping"}),o.jsx("button",{onClick:h,className:"px-4 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:"Clear Cart"})]})]}),o.jsx("div",{className:"text-xs text-gray-500 text-center",children:" Order via WhatsApp  Free shipping on orders over $75"})]})]})]})},IR=()=>{const s=aa(),{toggleMobileMenu:e}=ds(),{itemCount:t}=Gn(),r=[{label:"Hijabs",href:"/hijabs",children:[{label:"Modal Hijabs",href:"/hijabs?type=modal"},{label:"Jersey Hijabs",href:"/hijabs?type=jersey"},{label:"Chiffon Hijabs",href:"/hijabs?type=chiffon"},{label:"Satin Hijabs",href:"/hijabs?type=satin"}]},{label:"Abayas",href:"/abayas",children:[{label:"Embroidered Abayas",href:"/abayas?type=embroidered"},{label:"Pleated Abayas",href:"/abayas?type=pleated"},{label:"Open Abayas",href:"/abayas?type=open"},{label:"Dresses",href:"/abayas?type=dress"}]},{label:"Coords",href:"/coords",children:[{label:"Top & Skirt Sets",href:"/coords?type=top-skirt"},{label:"Top & Pants Sets",href:"/coords?type=top-pants"},{label:"Knitwear Sets",href:"/coords?type=knitwear"}]},{label:"Ensemble",href:"/ensemble",children:[{label:"Ensembles Haut & Jupe",href:"/ensemble?type=top-skirt"},{label:"Ensembles Haut & Pantalon",href:"/ensemble?type=top-pants"},{label:"Ensembles Tricot",href:"/ensemble?type=knitwear"}]},{label:"Boxes Cadeau",href:"/boxes-cadeau"}],n=[{label:"Nouveauts",href:"/products?filter=new"},{label:"Vente",href:"/products?filter=sale"},{label:"Meilleures ventes",href:"/products?filter=bestsellers"},{label:"Guide des tailles",href:"/size-guide"},{label:" propos",href:"/about"},{label:"Contact",href:"/contact"}];return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),o.jsxs(q.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute left-0 top-0 h-full w-full max-w-sm bg-white shadow-2xl flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Menu"}),o.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close menu",children:o.jsx(Xr,{className:"h-5 w-5 text-gray-500"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Langue"}),o.jsx("div",{className:"p-3",children:o.jsx(Mc,{})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Compte"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(me,{to:"/account",onClick:e,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(Ru,{className:"h-5 w-5 text-gray-600"}),o.jsx("span",{className:"text-gray-900",children:"Mon Compte"})]}),o.jsxs(me,{to:"/wishlist",onClick:e,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(oa,{className:"h-5 w-5 text-gray-600"}),o.jsx("span",{className:"text-gray-900",children:"Liste de souhaits"})]}),o.jsxs(me,{to:"/cart",onClick:e,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors relative",children:[o.jsx(Ir,{className:"h-5 w-5 text-gray-600"}),o.jsx("span",{className:"text-gray-900",children:"Panier"}),t>0&&o.jsx("span",{className:"ml-auto bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:t})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Boutique"}),o.jsx("div",{className:"space-y-1",children:r.map(i=>{var a;return o.jsxs("div",{children:[o.jsxs(me,{to:i.href,onClick:e,className:`flex items-center justify-between p-3 rounded-lg transition-colors ${s.pathname===i.href?"bg-primary-50 text-primary-600":"hover:bg-gray-50 text-gray-900"}`,children:[o.jsx("span",{className:"font-medium",children:i.label}),o.jsx(Iu,{className:"h-4 w-4"})]}),o.jsx("div",{className:"ml-4 mt-1 space-y-1",children:(a=i.children)==null?void 0:a.map(l=>o.jsx(me,{to:l.href,onClick:e,className:"block p-2 text-sm text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",children:l.label},l.label))})]},i.label)})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Liens rapides"}),o.jsx("div",{className:"space-y-1",children:n.map(i=>o.jsx(me,{to:i.href,onClick:e,className:"block p-3 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",children:i.label},i.label))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 p-4 rounded-xl",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Restez inform"}),o.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Obtenez 15% de rduction sur votre premire commande et des mises  jour exclusives"}),o.jsx("button",{className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors",children:"S'abonner maintenant"})]})]})}),o.jsx("div",{className:"border-t border-gray-200 p-6",children:o.jsxs("div",{className:"text-center text-sm text-gray-500",children:[o.jsx("p",{children:" 2024 Hijabi Inoor"}),o.jsx("p",{className:"mt-1",children:"Premium Modest Fashion"})]})})]})]})},LR=()=>{const[s,e]=_.useState(""),[t,r]=_.useState(ls.slice(0,6)),[n,i]=_.useState([]),[a,l]=_.useState(!1),{toggleSearch:c}=ds(),{t:u}=Et("common"),d=_.useRef(null);_.useEffect(()=>{d.current&&d.current.focus()},[]),_.useEffect(()=>{const g=localStorage.getItem("recent-searches");g&&i(JSON.parse(g))},[]),_.useEffect(()=>{if(s.trim()){l(!0);const g=Uc(ls,s);r(g.slice(0,8)),l(!1)}else r(ls.slice(0,6))},[s]);const h=g=>{if(g.trim()){const v=[g,...n.filter(w=>w!==g)].slice(0,5);i(v),localStorage.setItem("recent-searches",JSON.stringify(v))}},p=g=>{g.preventDefault(),s.trim()&&(h(s),c())},f=g=>{e(g),h(g)},m=()=>{i([]),localStorage.removeItem("recent-searches")},y=["Modal Hijab","Butterfly Abaya","Jersey Hijab","Pleated Abaya","Chiffon Dress","Hijab Caps"];return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:c}),o.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 right-0 bg-white shadow-2xl max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("form",{onSubmit:p,children:o.jsx("input",{ref:d,type:"text",placeholder:"Search for hijabs, abayas, and more...",value:s,onChange:g=>e(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})})]}),o.jsx("button",{onClick:c,className:"ml-4 p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close search",children:o.jsx(Xr,{className:"h-5 w-5 text-gray-500"})})]}),o.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:s.trim()?o.jsx("div",{className:"p-4",children:a?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),o.jsx("span",{className:"ml-3 text-gray-600",children:u("searching")})]}):t.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[u("searchResults")," (",t.length,")"]}),o.jsx("div",{className:"grid gap-3",children:t.map(g=>o.jsxs(me,{to:`/product/${g.id}`,onClick:()=>{c(),window.scrollTo({top:0,behavior:"instant"})},className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx(vt.LazyLoadImage,{src:g.images[0],alt:g.name,effect:"blur",placeholderSrc:"/logo.png",width:"100%",height:"100%",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:g.name}),o.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[g.category,"  ",g.subcategory]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"text-sm font-semibold text-primary-600",children:ut(g.price)}),g.originalPrice&&o.jsx("span",{className:"text-xs text-gray-500 line-through",children:ut(g.originalPrice)})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ca,{className:"h-3 w-3 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-xs text-gray-600",children:g.rating})]})]},g.id))}),t.length>=8&&o.jsxs(me,{to:`/products?search=${encodeURIComponent(s)}`,onClick:()=>{c(),window.scrollTo({top:0,behavior:"instant"})},className:"block w-full text-center py-3 text-primary-600 hover:text-primary-700 font-medium border border-primary-200 rounded-lg hover:bg-primary-50 transition-colors",children:[u("viewAllResults"),' "',s,'"']})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(yi,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u("noResultsFound")}),o.jsx("p",{className:"text-gray-500",children:u("tryDifferentKeywords")})]})}):o.jsxs("div",{className:"p-4 space-y-6",children:[n.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[o.jsx(Lu,{className:"h-4 w-4 mr-2"}),u("recentSearches")]}),o.jsx("button",{onClick:m,className:"text-xs text-gray-500 hover:text-gray-700",children:u("clear")})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((g,v)=>o.jsx("button",{onClick:()=>f(g),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:g},v))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center mb-3",children:[o.jsx(Du,{className:"h-4 w-4 mr-2"}),u("popularSearches")]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((g,v)=>o.jsx("button",{onClick:()=>f(g),className:"px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm hover:bg-primary-100 transition-colors",children:g},v))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:u("browseCategories")}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Hijabs",href:"/hijabs",count:"24 articles"},{name:"Abayas",href:"/abayas",count:"18 articles"},{name:"Ensemble",href:"/ensemble",count:"12 articles"},{name:"Boxes Cadeau",href:"/boxes-cadeau",count:"8 articles"}].map(g=>o.jsxs(me,{to:g.href,onClick:c,className:"p-3 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[o.jsx("div",{className:"font-medium text-gray-900",children:g.name}),o.jsx("div",{className:"text-xs text-gray-500",children:g.count})]},g.name))})]})]})})]})]})},DR=()=>{const[s,e]=_.useState(""),[t,r]=_.useState({newArrivals:!0,sales:!0,general:!0}),[n,i]=_.useState(!1),[a,l]=_.useState(!1),{toggleNewsletterModal:c}=ds(),u=async h=>{if(h.preventDefault(),!s.trim()){le.error("Please enter your email address");return}i(!0),await new Promise(f=>setTimeout(f,1500)),i(!1),l(!0);const p=JSON.parse(localStorage.getItem("newsletter-subscribers")||"[]");p.push({email:s,preferences:t,subscribedAt:new Date().toISOString()}),localStorage.setItem("newsletter-subscribers",JSON.stringify(p)),le.success("Successfully subscribed to our newsletter!"),setTimeout(()=>{c()},2e3)},d=h=>{r(p=>({...p,[h]:!p[h]}))};return a?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:c}),o.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center",children:[o.jsx(q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Sl,{className:"h-8 w-8 text-green-600"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to our family!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"You've successfully subscribed to our newsletter. Check your email for a special welcome gift!"}),o.jsx(q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"w-full bg-primary-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-primary-700 transition-colors",children:"Continue Shopping"})]})})]}):o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:c}),o.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl flex items-center justify-center",children:o.jsx(kl,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Get 15% Off!"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Subscribe to our newsletter"})]})]}),o.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close modal",children:o.jsx(Xr,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Stay updated with our latest collections"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Be the first to know about new arrivals, exclusive sales, and styling tips. Plus, get 15% off your first order!"})]}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"email",id:"email",value:s,onChange:h=>e(h.target.value),placeholder:"Enter your email address",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"What would you like to hear about?"}),o.jsx("div",{className:"space-y-2",children:[{key:"newArrivals",label:"New Arrivals",description:"Be first to see new products"},{key:"sales",label:"Sales & Promotions",description:"Get exclusive discount codes"},{key:"general",label:"General Updates",description:"News, tips, and company updates"}].map(h=>o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t[h.key],onChange:()=>d(h.key),className:"mt-1 h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.label}),o.jsx("div",{className:"text-xs text-gray-500",children:h.description})]})]},h.key))})]}),o.jsx(q.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-primary-600 to-secondary-600 text-white py-3 px-6 rounded-xl font-semibold hover:from-primary-700 hover:to-secondary-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Subscribing..."})]}):"Subscribe & Get 15% Off"})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By subscribing, you agree to our Privacy Policy. You can unsubscribe at any time."})]})})]})},MR=({message:s="Loading...",size:e="md",className:t=""})=>{const r={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12"};return o.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${t}`,children:[o.jsx(q.div,{className:`${r[e]} border-4 border-primary-200 border-t-primary-600 rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),s&&o.jsx(q.p,{initial:{opacity:0},animate:{opacity:1},className:"text-gray-600 font-medium",children:s})]})},FR=()=>{const{pathname:s}=aa();return _.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[s]),null};function UR(){const{signOut:s}=ka(),e=[{to:"/admin",icon:Mu,label:"Tableau de bord"},{to:"/admin/products",icon:Ir,label:"Produits"},{to:"/admin/orders",icon:$l,label:"Commandes"},{to:"/admin/categories",icon:Fu,label:"Catgories"},{to:"/admin/users",icon:Cl,label:"Utilisateurs"},{to:"/admin/settings",icon:Uu,label:"Paramtres"}];return o.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col h-full",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Hijabi Inoor Admin"})}),o.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:e.map(t=>o.jsxs(fu,{to:t.to,className:({isActive:r})=>`flex items-center px-4 py-2.5 rounded-lg text-sm font-medium transition-colors ${r?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(t.icon,{className:"w-5 h-5 mr-3"}),t.label]},t.to))}),o.jsx("div",{className:"p-4 border-t border-gray-200",children:o.jsxs("button",{onClick:()=>s(),className:"flex items-center w-full px-4 py-2.5 text-sm font-medium text-red-600 rounded-lg hover:bg-red-50",children:[o.jsx(Bu,{className:"w-5 h-5 mr-3"}),"Dconnexion"]})})]})}function BR({children:s}){const{user:e,loading:t,isAdmin:r}=ka();return t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(zu,{className:"w-8 h-8 animate-spin"})}):!e||!r?o.jsx(wl,{to:"/admin/login",replace:!0}):o.jsxs("div",{className:"flex h-screen bg-gray-50",children:[o.jsx(UR,{}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsx("main",{className:"p-6",children:s})})]})}function zR(){return o.jsx(BR,{children:o.jsx(pu,{})})}const Go=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Ko=Nn,Bc=(s,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Ko(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,a=Object.keys(n).map(u=>{const d=t==null?void 0:t[u],h=i==null?void 0:i[u];if(d===null)return null;const p=Go(d)||Go(h);return n[u][p]}),l=t&&Object.entries(t).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(m=>{let[y,g]=m;return Array.isArray(g)?g.includes({...i,...l}[y]):{...i,...l}[y]===g})?[...u,h,p]:u},[]);return Ko(s,a,c,t==null?void 0:t.class,t==null?void 0:t.className)},qR=(s,e)=>{const t=new Array(s.length+e.length);for(let r=0;r<s.length;r++)t[r]=s[r];for(let r=0;r<e.length;r++)t[s.length+r]=e[r];return t},HR=(s,e)=>({classGroupId:s,validator:e}),zc=(s=new Map,e=null,t)=>({nextPart:s,validators:e,classGroupId:t}),An="-",Jo=[],WR="arbitrary..",VR=s=>{const e=KR(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return GR(a);const l=a.split(An),c=l[0]===""&&l.length>1?1:0;return qc(l,c,e)},getConflictingClassGroupIds:(a,l)=>{if(l){const c=r[a],u=t[a];return c?u?qR(u,c):c:u||Jo}return t[a]||Jo}}},qc=(s,e,t)=>{if(s.length-e===0)return t.classGroupId;const n=s[e],i=t.nextPart.get(n);if(i){const u=qc(s,e+1,i);if(u)return u}const a=t.validators;if(a===null)return;const l=e===0?s.join(An):s.slice(e).join(An),c=a.length;for(let u=0;u<c;u++){const d=a[u];if(d.validator(l))return d.classGroupId}},GR=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=s.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?WR+r:void 0})(),KR=s=>{const{theme:e,classGroups:t}=s;return JR(t,e)},JR=(s,e)=>{const t=zc();for(const r in s){const n=s[r];_a(n,t,r,e)}return t},_a=(s,e,t,r)=>{const n=s.length;for(let i=0;i<n;i++){const a=s[i];QR(a,e,t,r)}},QR=(s,e,t,r)=>{if(typeof s=="string"){YR(s,e,t);return}if(typeof s=="function"){XR(s,e,t,r);return}ZR(s,e,t,r)},YR=(s,e,t)=>{const r=s===""?e:Hc(e,s);r.classGroupId=t},XR=(s,e,t,r)=>{if(eI(s)){_a(s(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(HR(t,s))},ZR=(s,e,t,r)=>{const n=Object.entries(s),i=n.length;for(let a=0;a<i;a++){const[l,c]=n[a];_a(c,Hc(e,l),t,r)}},Hc=(s,e)=>{let t=s;const r=e.split(An),n=r.length;for(let i=0;i<n;i++){const a=r[i];let l=t.nextPart.get(a);l||(l=zc(),t.nextPart.set(a,l)),t=l}return t},eI=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,tI=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const n=(i,a)=>{t[i]=a,e++,e>s&&(e=0,r=t,t=Object.create(null))};return{get(i){let a=t[i];if(a!==void 0)return a;if((a=r[i])!==void 0)return n(i,a),a},set(i,a){i in t?t[i]=a:n(i,a)}}},sa="!",Qo=":",sI=[],Yo=(s,e,t,r,n)=>({modifiers:s,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:n}),rI=s=>{const{prefix:e,experimentalParseClassName:t}=s;let r=n=>{const i=[];let a=0,l=0,c=0,u;const d=n.length;for(let y=0;y<d;y++){const g=n[y];if(a===0&&l===0){if(g===Qo){i.push(n.slice(c,y)),c=y+1;continue}if(g==="/"){u=y;continue}}g==="["?a++:g==="]"?a--:g==="("?l++:g===")"&&l--}const h=i.length===0?n:n.slice(c);let p=h,f=!1;h.endsWith(sa)?(p=h.slice(0,-1),f=!0):h.startsWith(sa)&&(p=h.slice(1),f=!0);const m=u&&u>c?u-c:void 0;return Yo(i,f,p,m)};if(e){const n=e+Qo,i=r;r=a=>a.startsWith(n)?i(a.slice(n.length)):Yo(sI,!1,a,void 0,!0)}if(t){const n=r;r=i=>t({className:i,parseClassName:n})}return r},nI=s=>{const e=new Map;return s.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let n=[];for(let i=0;i<t.length;i++){const a=t[i],l=a[0]==="[",c=e.has(a);l||c?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(a)):n.push(a)}return n.length>0&&(n.sort(),r.push(...n)),r}},iI=s=>({cache:tI(s.cacheSize),parseClassName:rI(s),sortModifiers:nI(s),...VR(s)}),aI=/\s+/,oI=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:i}=e,a=[],l=s.trim().split(aI);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:p,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=t(d);if(h){c=d+(c.length>0?" "+c:c);continue}let g=!!y,v=r(g?m.substring(0,y):m);if(!v){if(!g){c=d+(c.length>0?" "+c:c);continue}if(v=r(m),!v){c=d+(c.length>0?" "+c:c);continue}g=!1}const w=p.length===0?"":p.length===1?p[0]:i(p).join(":"),x=f?w+sa:w,j=x+v;if(a.indexOf(j)>-1)continue;a.push(j);const S=n(v,g);for(let O=0;O<S.length;++O){const A=S[O];a.push(x+A)}c=d+(c.length>0?" "+c:c)}return c},lI=(...s)=>{let e=0,t,r,n="";for(;e<s.length;)(t=s[e++])&&(r=Wc(t))&&(n&&(n+=" "),n+=r);return n},Wc=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=Wc(s[r]))&&(t&&(t+=" "),t+=e);return t},cI=(s,...e)=>{let t,r,n,i;const a=c=>{const u=e.reduce((d,h)=>h(d),s());return t=iI(u),r=t.cache.get,n=t.cache.set,i=l,l(c)},l=c=>{const u=r(c);if(u)return u;const d=oI(c,t);return n(c,d),d};return i=a,(...c)=>i(lI(...c))},uI=[],Ne=s=>{const e=t=>t[s]||uI;return e.isThemeGetter=!0,e},Vc=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Gc=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dI=/^\d+\/\d+$/,hI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=s=>dI.test(s),Z=s=>!!s&&!Number.isNaN(Number(s)),Wt=s=>!!s&&Number.isInteger(Number(s)),pi=s=>s.endsWith("%")&&Z(s.slice(0,-1)),At=s=>hI.test(s),yI=()=>!0,bI=s=>fI.test(s)&&!pI.test(s),Kc=()=>!1,vI=s=>mI.test(s),wI=s=>gI.test(s),xI=s=>!F(s)&&!U(s),jI=s=>xr(s,Yc,Kc),F=s=>Vc.test(s),ms=s=>xr(s,Xc,bI),mi=s=>xr(s,CI,Z),Xo=s=>xr(s,Jc,Kc),SI=s=>xr(s,Qc,wI),gn=s=>xr(s,Zc,vI),U=s=>Gc.test(s),Cr=s=>jr(s,Xc),kI=s=>jr(s,OI),Zo=s=>jr(s,Jc),_I=s=>jr(s,Yc),$I=s=>jr(s,Qc),yn=s=>jr(s,Zc,!0),xr=(s,e,t)=>{const r=Vc.exec(s);return r?r[1]?e(r[1]):t(r[2]):!1},jr=(s,e,t=!1)=>{const r=Gc.exec(s);return r?r[1]?e(r[1]):t:!1},Jc=s=>s==="position"||s==="percentage",Qc=s=>s==="image"||s==="url",Yc=s=>s==="length"||s==="size"||s==="bg-size",Xc=s=>s==="length",CI=s=>s==="number",OI=s=>s==="family-name",Zc=s=>s==="shadow",PI=()=>{const s=Ne("color"),e=Ne("font"),t=Ne("text"),r=Ne("font-weight"),n=Ne("tracking"),i=Ne("leading"),a=Ne("breakpoint"),l=Ne("container"),c=Ne("spacing"),u=Ne("radius"),d=Ne("shadow"),h=Ne("inset-shadow"),p=Ne("text-shadow"),f=Ne("drop-shadow"),m=Ne("blur"),y=Ne("perspective"),g=Ne("aspect"),v=Ne("ease"),w=Ne("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...j(),U,F],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],$=()=>[U,F,c],R=()=>[Ks,"full","auto",...$()],I=()=>[Wt,"none","subgrid",U,F],V=()=>["auto",{span:["full",Wt,U,F]},Wt,U,F],ne=()=>[Wt,"auto",U,F],ie=()=>["auto","min","max","fr",U,F],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...$()],ce=()=>[Ks,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],D=()=>[s,U,F],Ee=()=>[...j(),Zo,Xo,{position:[U,F]}],de=()=>["no-repeat",{repeat:["","x","y","space","round"]}],he=()=>["auto","cover","contain",_I,jI,{size:[U,F]}],ye=()=>[pi,Cr,ms],Q=()=>["","none","full",u,U,F],oe=()=>["",Z,Cr,ms],$e=()=>["solid","dashed","dotted","double"],tt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Z,pi,Zo,Xo],dt=()=>["","none",m,U,F],xt=()=>["none",Z,U,F],st=()=>["none",Z,U,F],Ce=()=>[Z,U,F],Le=()=>[Ks,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[At],breakpoint:[At],color:[yI],container:[At],"drop-shadow":[At],ease:["in","out","in-out"],font:[xI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[At],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[At],shadow:[At],spacing:["px",Z],text:[At],"text-shadow":[At],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ks,F,U,g]}],container:["container"],columns:[{columns:[Z,F,U,l]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Wt,"auto",U,F]}],basis:[{basis:[Ks,"full","auto",l,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Z,Ks,"auto","initial","none",F]}],grow:[{grow:["",Z,U,F]}],shrink:[{shrink:["",Z,U,F]}],order:[{order:[Wt,"first","last","none",U,F]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[l,"screen",...ce()]}],"min-w":[{"min-w":[l,"screen","none",...ce()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",t,Cr,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,U,mi]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pi,F]}],"font-family":[{font:[kI,F,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,U,F]}],"line-clamp":[{"line-clamp":[Z,"none",U,mi]}],leading:[{leading:[i,...$()]}],"list-image":[{"list-image":["none",U,F]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",U,F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Z,"from-font","auto",U,ms]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Z,"auto",U,F]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U,F]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U,F]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:de()}],"bg-size":[{bg:he()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wt,U,F],radial:["",U,F],conic:[Wt,U,F]},$I,SI]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$e(),"hidden","none"]}],"divide-style":[{divide:[...$e(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...$e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Z,U,F]}],"outline-w":[{outline:["",Z,Cr,ms]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",d,yn,gn]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",h,yn,gn]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Z,ms]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",p,yn,gn]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Z,U,F]}],"mix-blend":[{"mix-blend":[...tt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":tt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Z]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[U,F]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Z]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:de()}],"mask-size":[{mask:he()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",U,F]}],filter:[{filter:["","none",U,F]}],blur:[{blur:dt()}],brightness:[{brightness:[Z,U,F]}],contrast:[{contrast:[Z,U,F]}],"drop-shadow":[{"drop-shadow":["","none",f,yn,gn]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Z,U,F]}],"hue-rotate":[{"hue-rotate":[Z,U,F]}],invert:[{invert:["",Z,U,F]}],saturate:[{saturate:[Z,U,F]}],sepia:[{sepia:["",Z,U,F]}],"backdrop-filter":[{"backdrop-filter":["","none",U,F]}],"backdrop-blur":[{"backdrop-blur":dt()}],"backdrop-brightness":[{"backdrop-brightness":[Z,U,F]}],"backdrop-contrast":[{"backdrop-contrast":[Z,U,F]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Z,U,F]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Z,U,F]}],"backdrop-invert":[{"backdrop-invert":["",Z,U,F]}],"backdrop-opacity":[{"backdrop-opacity":[Z,U,F]}],"backdrop-saturate":[{"backdrop-saturate":[Z,U,F]}],"backdrop-sepia":[{"backdrop-sepia":["",Z,U,F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",U,F]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Z,"initial",U,F]}],ease:[{ease:["linear","initial",v,U,F]}],delay:[{delay:[Z,U,F]}],animate:[{animate:["none",w,U,F]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,U,F]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:xt()}],"rotate-x":[{"rotate-x":xt()}],"rotate-y":[{"rotate-y":xt()}],"rotate-z":[{"rotate-z":xt()}],scale:[{scale:st()}],"scale-x":[{"scale-x":st()}],"scale-y":[{"scale-y":st()}],"scale-z":[{"scale-z":st()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[U,F,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Le()}],"translate-x":[{"translate-x":Le()}],"translate-y":[{"translate-y":Le()}],"translate-z":[{"translate-z":Le()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U,F]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U,F]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Z,Cr,ms,mi]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},EI=cI(PI);function We(...s){return EI(Nn(s))}function Yt(s){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(s)}const TI=Bc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-slate-900 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),at=_.forwardRef(({className:s,variant:e,size:t,asChild:r=!1,...n},i)=>o.jsx("button",{className:We(TI({variant:e,size:t,className:s})),ref:i,...n}));at.displayName="Button";const _t=_.forwardRef(({className:s,type:e,...t},r)=>o.jsx("input",{type:e,className:We("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...t}));_t.displayName="Input";const Lt=_.forwardRef(({className:s,...e},t)=>o.jsx("label",{ref:t,className:We("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...e}));Lt.displayName="Label";const ze=_.forwardRef(({className:s,...e},t)=>o.jsx("div",{ref:t,className:We("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm",s),...e}));ze.displayName="Card";const qe=_.forwardRef(({className:s,...e},t)=>o.jsx("div",{ref:t,className:We("flex flex-col space-y-1.5 p-6",s),...e}));qe.displayName="CardHeader";const Je=_.forwardRef(({className:s,...e},t)=>o.jsx("h3",{ref:t,className:We("text-2xl font-semibold leading-none tracking-tight",s),...e}));Je.displayName="CardTitle";const Rr=_.forwardRef(({className:s,...e},t)=>o.jsx("p",{ref:t,className:We("text-sm text-slate-500",s),...e}));Rr.displayName="CardDescription";const He=_.forwardRef(({className:s,...e},t)=>o.jsx("div",{ref:t,className:We("p-6 pt-0",s),...e}));He.displayName="CardContent";const NI=_.forwardRef(({className:s,...e},t)=>o.jsx("div",{ref:t,className:We("flex items-center p-6 pt-0",s),...e}));NI.displayName="CardFooter";function AI(){const[s,e]=_.useState(""),[t,r]=_.useState(""),[n,i]=_.useState(""),[a,l]=_.useState(!1),{login:c}=ka(),u=vl(),d=async h=>{h.preventDefault(),i(""),l(!0);try{const{error:p}=await c(s,t);if(p)throw p;yr.success("Connexion russie!"),u("/admin")}catch(p){i(p.message||"chec de la connexion. Vrifiez vos identifiants."),yr.error("Erreur de connexion")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs(ze,{className:"w-full max-w-md",children:[o.jsxs(qe,{children:[o.jsx(Je,{className:"text-2xl text-center",children:"Connexion Admin"}),o.jsx(Rr,{className:"text-center",children:"Accdez au panneau d'administration"})]}),o.jsxs(He,{children:[n&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-sm text-red-700",children:n}),o.jsxs("form",{className:"space-y-4",onSubmit:d,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{htmlFor:"email",children:"Adresse email"}),o.jsx(_t,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:h=>e(h.target.value),placeholder:"admin@example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{htmlFor:"password",children:"Mot de passe"}),o.jsx(_t,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:h=>r(h.target.value),placeholder:""})]}),o.jsx(at,{type:"submit",disabled:a,className:"w-full",children:a?"Connexion...":"Se connecter"})]})]})]})})}const RI=async()=>{await new Promise(i=>setTimeout(i,500));const s=vr.length,e=124,t=15234.5,r=89,n=vr.filter(i=>!i.inStock).length;return{totalProducts:s,totalOrders:e,totalRevenue:t,totalUsers:r,lowStockProducts:n,recentOrders:[]}};function II(){const{data:s,isLoading:e}=Mn({queryKey:["admin-stats"],queryFn:RI});if(e)return o.jsx("div",{children:"Chargement..."});const t=[{title:"Produits",value:(s==null?void 0:s.totalProducts)||0,icon:Ir,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Commandes",value:(s==null?void 0:s.totalOrders)||0,icon:$l,color:"text-green-600",bgColor:"bg-green-50"},{title:"Revenus",value:Yt((s==null?void 0:s.totalRevenue)||0),icon:qu,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Utilisateurs",value:(s==null?void 0:s.totalUsers)||0,icon:Cl,color:"text-orange-600",bgColor:"bg-orange-50"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tableau de bord"}),o.jsx("p",{className:"text-muted-foreground",children:"Vue d'ensemble de votre boutique"})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:t.map(r=>o.jsxs(ze,{children:[o.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Je,{className:"text-sm font-medium",children:r.title}),o.jsx("div",{className:`${r.bgColor} p-2 rounded-lg`,children:o.jsx(r.icon,{className:`h-4 w-4 ${r.color}`})})]}),o.jsx(He,{children:o.jsx("div",{className:"text-2xl font-bold",children:r.value})})]},r.title))}),(s==null?void 0:s.lowStockProducts)&&s.lowStockProducts>0&&o.jsxs(ze,{className:"border-orange-200 bg-orange-50",children:[o.jsx(qe,{children:o.jsxs(Je,{className:"flex items-center gap-2",children:[o.jsx(Hu,{className:"h-5 w-5 text-orange-600"}),"Produits en rupture de stock"]})}),o.jsx(He,{children:o.jsxs("p",{className:"text-orange-800",children:[s.lowStockProducts," produit(s) sont actuellement en rupture de stock."]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Commandes rcentes"})}),o.jsx(He,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune commande rcente"})})]}),o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Activit rcente"})}),o.jsx(He,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune activit rcente"})})]})]})]})}const $a=_.forwardRef(({className:s,...e},t)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:t,className:We("w-full caption-bottom text-sm",s),...e})}));$a.displayName="Table";const Ca=_.forwardRef(({className:s,...e},t)=>o.jsx("thead",{ref:t,className:We("[&_tr]:border-b",s),...e}));Ca.displayName="TableHeader";const Oa=_.forwardRef(({className:s,...e},t)=>o.jsx("tbody",{ref:t,className:We("[&_tr:last-child]:border-0",s),...e}));Oa.displayName="TableBody";const Wr=_.forwardRef(({className:s,...e},t)=>o.jsx("tr",{ref:t,className:We("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100",s),...e}));Wr.displayName="TableRow";const Ze=_.forwardRef(({className:s,...e},t)=>o.jsx("th",{ref:t,className:We("h-12 px-4 text-left align-middle font-medium text-slate-500 [&:has([role=checkbox])]:pr-0",s),...e}));Ze.displayName="TableHead";const et=_.forwardRef(({className:s,...e},t)=>o.jsx("td",{ref:t,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...e}));et.displayName="TableCell";const LI=Bc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80",destructive:"border-transparent bg-red-500 text-slate-50 hover:bg-red-500/80",outline:"text-slate-950"}},defaultVariants:{variant:"default"}});function As({className:s,variant:e,...t}){return o.jsx("div",{className:We(LI({variant:e}),s),...t})}const DI=async()=>(await new Promise(s=>setTimeout(s,500)),vr),MI=async s=>{await new Promise(e=>setTimeout(e,500)),yr.success("Produit supprim")};function FI(){const[s,e]=_.useState(""),t=ga(),{data:r=[],isLoading:n}=Mn({queryKey:["admin-products"],queryFn:DI}),i=Ld({mutationFn:MI,onSuccess:()=>{t.invalidateQueries({queryKey:["admin-products"]})}}),a=r.filter(c=>c.name.toLowerCase().includes(s.toLowerCase())||c.id.includes(s)),l=c=>{window.confirm("tes-vous sr de vouloir supprimer ce produit ?")&&i.mutate(c)};return n?o.jsx("div",{children:"Chargement des produits..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Produits"}),o.jsx("p",{className:"text-muted-foreground",children:"Grez vos produits et leur inventaire"})]}),o.jsx(at,{asChild:!0,children:o.jsxs(me,{to:"/admin/products/new",children:[o.jsx(Ln,{className:"mr-2 h-4 w-4"}),"Ajouter un produit"]})})]}),o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(yi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(_t,{placeholder:"Rechercher un produit...",value:s,onChange:c=>e(c.target.value),className:"pl-8"})]})})}),o.jsx(He,{children:o.jsxs($a,{children:[o.jsx(Ca,{children:o.jsxs(Wr,{children:[o.jsx(Ze,{children:"Image"}),o.jsx(Ze,{children:"Nom"}),o.jsx(Ze,{children:"Catgorie"}),o.jsx(Ze,{children:"Prix"}),o.jsx(Ze,{children:"Stock"}),o.jsx(Ze,{children:"Statut"}),o.jsx(Ze,{className:"text-right",children:"Actions"})]})}),o.jsx(Oa,{children:a.map(c=>o.jsxs(Wr,{children:[o.jsx(et,{children:o.jsx("img",{src:c.image,alt:c.name,className:"w-12 h-12 rounded-md object-cover"})}),o.jsx(et,{className:"font-medium",children:c.name}),o.jsx(et,{children:o.jsx(As,{variant:"outline",children:c.category})}),o.jsx(et,{children:Yt(c.price)}),o.jsx(et,{children:o.jsx(As,{variant:c.inStock?"default":"destructive",children:c.inStock?"En stock":"Rupture"})}),o.jsx(et,{children:o.jsx(As,{variant:c.isNew?"default":"secondary",children:c.isNew?"Nouveau":"Standard"})}),o.jsx(et,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(at,{variant:"ghost",size:"icon",asChild:!0,children:o.jsx(me,{to:`/admin/products/${c.id}`,children:o.jsx(Ol,{className:"h-4 w-4"})})}),o.jsx(at,{variant:"ghost",size:"icon",onClick:()=>l(c.id),children:o.jsx(ua,{className:"h-4 w-4 text-red-500"})})]})})]},c.id))})]})})]})]})}const eu=6048e5,UI=864e5,el=Symbol.for("constructDateFrom");function cs(s,e){return typeof s=="function"?s(e):s&&typeof s=="object"&&el in s?s[el](e):s instanceof Date?new s.constructor(e):new Date(e)}function wt(s,e){return cs(e||s,s)}let BI={};function Kn(){return BI}function Vr(s,e){var l,c,u,d;const t=Kn(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,n=wt(s,e==null?void 0:e.in),i=n.getDay(),a=(i<r?7:0)+i-r;return n.setDate(n.getDate()-a),n.setHours(0,0,0,0),n}function Rn(s,e){return Vr(s,{...e,weekStartsOn:1})}function tu(s,e){const t=wt(s,e==null?void 0:e.in),r=t.getFullYear(),n=cs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Rn(n),a=cs(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Rn(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function tl(s){const e=wt(s),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+s-+t}function zI(s,...e){const t=cs.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function sl(s,e){const t=wt(s,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function qI(s,e,t){const[r,n]=zI(t==null?void 0:t.in,s,e),i=sl(r),a=sl(n),l=+i-tl(i),c=+a-tl(a);return Math.round((l-c)/UI)}function HI(s,e){const t=tu(s,e),r=cs(s,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Rn(r)}function WI(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function VI(s){return!(!WI(s)&&typeof s!="number"||isNaN(+wt(s)))}function GI(s,e){const t=wt(s,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const KI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JI=(s,e,t)=>{let r;const n=KI[s];return typeof n=="string"?r=n:e===1?r=n.one:r=n.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function nr(s){return(e={})=>{const t=e.width?String(e.width):s.defaultWidth;return s.formats[t]||s.formats[s.defaultWidth]}}const QI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZI={date:nr({formats:QI,defaultWidth:"full"}),time:nr({formats:YI,defaultWidth:"full"}),dateTime:nr({formats:XI,defaultWidth:"full"})},eL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tL=(s,e,t,r)=>eL[s];function $t(s){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let n;if(r==="formatting"&&s.formattingValues){const a=s.defaultFormattingWidth||s.defaultWidth,l=t!=null&&t.width?String(t.width):a;n=s.formattingValues[l]||s.formattingValues[a]}else{const a=s.defaultWidth,l=t!=null&&t.width?String(t.width):s.defaultWidth;n=s.values[l]||s.values[a]}const i=s.argumentCallback?s.argumentCallback(e):e;return n[i]}}const sL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lL=(s,e)=>{const t=Number(s),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},cL={ordinalNumber:lL,era:$t({values:sL,defaultWidth:"wide"}),quarter:$t({values:rL,defaultWidth:"wide",argumentCallback:s=>s-1}),month:$t({values:nL,defaultWidth:"wide"}),day:$t({values:iL,defaultWidth:"wide"}),dayPeriod:$t({values:aL,defaultWidth:"wide",formattingValues:oL,defaultFormattingWidth:"wide"})};function Ct(s){return(e,t={})=>{const r=t.width,n=r&&s.matchPatterns[r]||s.matchPatterns[s.defaultMatchWidth],i=e.match(n);if(!i)return null;const a=i[0],l=r&&s.parsePatterns[r]||s.parsePatterns[s.defaultParseWidth],c=Array.isArray(l)?dL(l,h=>h.test(a)):uL(l,h=>h.test(a));let u;u=s.valueCallback?s.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function uL(s,e){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&e(s[t]))return t}function dL(s,e){for(let t=0;t<s.length;t++)if(e(s[t]))return t}function su(s){return(e,t={})=>{const r=e.match(s.matchPattern);if(!r)return null;const n=r[0],i=e.match(s.parsePattern);if(!i)return null;let a=s.valueCallback?s.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const l=e.slice(n.length);return{value:a,rest:l}}}const hL=/^(\d+)(th|st|nd|rd)?/i,fL=/\d+/i,pL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mL={any:[/^b/i,/^(a|c)/i]},gL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yL={any:[/1/i,/2/i,/3/i,/4/i]},bL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kL={ordinalNumber:su({matchPattern:hL,parsePattern:fL,valueCallback:s=>parseInt(s,10)}),era:Ct({matchPatterns:pL,defaultMatchWidth:"wide",parsePatterns:mL,defaultParseWidth:"any"}),quarter:Ct({matchPatterns:gL,defaultMatchWidth:"wide",parsePatterns:yL,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ct({matchPatterns:bL,defaultMatchWidth:"wide",parsePatterns:vL,defaultParseWidth:"any"}),day:Ct({matchPatterns:wL,defaultMatchWidth:"wide",parsePatterns:xL,defaultParseWidth:"any"}),dayPeriod:Ct({matchPatterns:jL,defaultMatchWidth:"any",parsePatterns:SL,defaultParseWidth:"any"})},_L={code:"en-US",formatDistance:JI,formatLong:ZI,formatRelative:tL,localize:cL,match:kL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $L(s,e){const t=wt(s,e==null?void 0:e.in);return qI(t,GI(t))+1}function CL(s,e){const t=wt(s,e==null?void 0:e.in),r=+Rn(t)-+HI(t);return Math.round(r/eu)+1}function ru(s,e){var d,h,p,f;const t=wt(s,e==null?void 0:e.in),r=t.getFullYear(),n=Kn(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=cs((e==null?void 0:e.in)||s,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Vr(a,e),c=cs((e==null?void 0:e.in)||s,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Vr(c,e);return+t>=+l?r+1:+t>=+u?r:r-1}function OL(s,e){var l,c,u,d;const t=Kn(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,n=ru(s,e),i=cs((e==null?void 0:e.in)||s,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),Vr(i,e)}function PL(s,e){const t=wt(s,e==null?void 0:e.in),r=+Vr(t,e)-+OL(t,e);return Math.round(r/eu)+1}function pe(s,e){const t=s<0?"-":"",r=Math.abs(s).toString().padStart(e,"0");return t+r}const Vt={y(s,e){const t=s.getFullYear(),r=t>0?t:1-t;return pe(e==="yy"?r%100:r,e.length)},M(s,e){const t=s.getMonth();return e==="M"?String(t+1):pe(t+1,2)},d(s,e){return pe(s.getDate(),e.length)},a(s,e){const t=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(s,e){return pe(s.getHours()%12||12,e.length)},H(s,e){return pe(s.getHours(),e.length)},m(s,e){return pe(s.getMinutes(),e.length)},s(s,e){return pe(s.getSeconds(),e.length)},S(s,e){const t=e.length,r=s.getMilliseconds(),n=Math.trunc(r*Math.pow(10,t-3));return pe(n,e.length)}},Js={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rl={G:function(s,e,t){const r=s.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(s,e,t){if(e==="yo"){const r=s.getFullYear(),n=r>0?r:1-r;return t.ordinalNumber(n,{unit:"year"})}return Vt.y(s,e)},Y:function(s,e,t,r){const n=ru(s,r),i=n>0?n:1-n;if(e==="YY"){const a=i%100;return pe(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):pe(i,e.length)},R:function(s,e){const t=tu(s);return pe(t,e.length)},u:function(s,e){const t=s.getFullYear();return pe(t,e.length)},Q:function(s,e,t){const r=Math.ceil((s.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(s,e,t){const r=Math.ceil((s.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(s,e,t){const r=s.getMonth();switch(e){case"M":case"MM":return Vt.M(s,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(s,e,t){const r=s.getMonth();switch(e){case"L":return String(r+1);case"LL":return pe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(s,e,t,r){const n=PL(s,r);return e==="wo"?t.ordinalNumber(n,{unit:"week"}):pe(n,e.length)},I:function(s,e,t){const r=CL(s);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):pe(r,e.length)},d:function(s,e,t){return e==="do"?t.ordinalNumber(s.getDate(),{unit:"date"}):Vt.d(s,e)},D:function(s,e,t){const r=$L(s);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):pe(r,e.length)},E:function(s,e,t){const r=s.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(s,e,t,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return pe(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(s,e,t,r){const n=s.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return pe(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(s,e,t){const r=s.getDay(),n=r===0?7:r;switch(e){case"i":return String(n);case"ii":return pe(n,e.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(s,e,t){const n=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(s,e,t){const r=s.getHours();let n;switch(r===12?n=Js.noon:r===0?n=Js.midnight:n=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(s,e,t){const r=s.getHours();let n;switch(r>=17?n=Js.evening:r>=12?n=Js.afternoon:r>=4?n=Js.morning:n=Js.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(s,e,t){if(e==="ho"){let r=s.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Vt.h(s,e)},H:function(s,e,t){return e==="Ho"?t.ordinalNumber(s.getHours(),{unit:"hour"}):Vt.H(s,e)},K:function(s,e,t){const r=s.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):pe(r,e.length)},k:function(s,e,t){let r=s.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):pe(r,e.length)},m:function(s,e,t){return e==="mo"?t.ordinalNumber(s.getMinutes(),{unit:"minute"}):Vt.m(s,e)},s:function(s,e,t){return e==="so"?t.ordinalNumber(s.getSeconds(),{unit:"second"}):Vt.s(s,e)},S:function(s,e){return Vt.S(s,e)},X:function(s,e,t){const r=s.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return il(r);case"XXXX":case"XX":return ys(r);case"XXXXX":case"XXX":default:return ys(r,":")}},x:function(s,e,t){const r=s.getTimezoneOffset();switch(e){case"x":return il(r);case"xxxx":case"xx":return ys(r);case"xxxxx":case"xxx":default:return ys(r,":")}},O:function(s,e,t){const r=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nl(r,":");case"OOOO":default:return"GMT"+ys(r,":")}},z:function(s,e,t){const r=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nl(r,":");case"zzzz":default:return"GMT"+ys(r,":")}},t:function(s,e,t){const r=Math.trunc(+s/1e3);return pe(r,e.length)},T:function(s,e,t){return pe(+s,e.length)}};function nl(s,e=""){const t=s>0?"-":"+",r=Math.abs(s),n=Math.trunc(r/60),i=r%60;return i===0?t+String(n):t+String(n)+e+pe(i,2)}function il(s,e){return s%60===0?(s>0?"-":"+")+pe(Math.abs(s)/60,2):ys(s,e)}function ys(s,e=""){const t=s>0?"-":"+",r=Math.abs(s),n=pe(Math.trunc(r/60),2),i=pe(r%60,2);return t+n+e+i}const al=(s,e)=>{switch(s){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nu=(s,e)=>{switch(s){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EL=(s,e)=>{const t=s.match(/(P+)(p+)?/)||[],r=t[1],n=t[2];if(!n)return al(s,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",al(r,e)).replace("{{time}}",nu(n,e))},TL={p:nu,P:EL},NL=/^D+$/,AL=/^Y+$/,RL=["D","DD","YY","YYYY"];function IL(s){return NL.test(s)}function LL(s){return AL.test(s)}function DL(s,e,t){const r=ML(s,e,t);if(console.warn(r),RL.includes(s))throw new RangeError(r)}function ML(s,e,t){const r=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BL=/^'([^]*?)'?$/,zL=/''/g,qL=/[a-zA-Z]/;function ra(s,e,t){var d,h,p,f,m,y,g,v;const r=Kn(),n=(t==null?void 0:t.locale)??r.locale??_L,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(p=r.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((y=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=wt(s,t==null?void 0:t.in);if(!VI(l))throw new RangeError("Invalid time value");let c=e.match(UL).map(w=>{const x=w[0];if(x==="p"||x==="P"){const j=TL[x];return j(w,n.formatLong)}return w}).join("").match(FL).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:HL(w)};if(rl[x])return{isToken:!0,value:w};if(x.match(qL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:n};return c.map(w=>{if(!w.isToken)return w.value;const x=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&LL(x)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&IL(x))&&DL(x,e,String(s));const j=rl[x[0]];return j(l,x,n.localize,u)}).join("")}function HL(s){const e=s.match(BL);return e?e[1].replace(zL,"'"):s}const WL={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},VL=(s,e,t)=>{let r;const n=WL[s];return typeof n=="string"?r=n:e===1?r=n.one:r=n.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"dans "+r:"il y a "+r:r},GL={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},KL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},JL={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QL={date:nr({formats:GL,defaultWidth:"full"}),time:nr({formats:KL,defaultWidth:"full"}),dateTime:nr({formats:JL,defaultWidth:"full"})},YL={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},XL=(s,e,t,r)=>YL[s],ZL={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},eD={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},tD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},sD={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},rD={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},nD=(s,e)=>{const t=Number(s),r=e==null?void 0:e.unit;if(t===0)return"0";const n=["year","week","hour","minute","second"];let i;return t===1?i=r&&n.includes(r)?"re":"er":i="me",t+i},iD=["MMM","MMMM"],aD={preprocessor:(s,e)=>s.getDate()===1||!e.some(r=>r.isToken&&iD.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:nD,era:$t({values:ZL,defaultWidth:"wide"}),quarter:$t({values:eD,defaultWidth:"wide",argumentCallback:s=>s-1}),month:$t({values:tD,defaultWidth:"wide"}),day:$t({values:sD,defaultWidth:"wide"}),dayPeriod:$t({values:rD,defaultWidth:"wide"})},oD=/^(\d+)(ime|re|me|er|e)?/i,lD=/\d+/i,cD={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},uD={any:[/^av/i,/^ap/i]},dD={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},hD={any:[/1/i,/2/i,/3/i,/4/i]},fD={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},pD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},mD={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},gD={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},yD={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},bD={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},vD={ordinalNumber:su({matchPattern:oD,parsePattern:lD,valueCallback:s=>parseInt(s)}),era:Ct({matchPatterns:cD,defaultMatchWidth:"wide",parsePatterns:uD,defaultParseWidth:"any"}),quarter:Ct({matchPatterns:dD,defaultMatchWidth:"wide",parsePatterns:hD,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ct({matchPatterns:fD,defaultMatchWidth:"wide",parsePatterns:pD,defaultParseWidth:"any"}),day:Ct({matchPatterns:mD,defaultMatchWidth:"wide",parsePatterns:gD,defaultParseWidth:"any"}),dayPeriod:Ct({matchPatterns:yD,defaultMatchWidth:"any",parsePatterns:bD,defaultParseWidth:"any"})},na={code:"fr",formatDistance:VL,formatLong:QL,formatRelative:XL,localize:aD,match:vD,options:{weekStartsOn:1,firstWeekContainsDate:4}},wD=async()=>(await new Promise(s=>setTimeout(s,500)),[{id:"1",orderNumber:"ORD-001",customerEmail:"client@example.com",customerName:"Marie Dupont",createdAt:new Date,total:129.99,status:"processing"},{id:"2",orderNumber:"ORD-002",customerEmail:"another@example.com",customerName:"Sophie Martin",createdAt:new Date(Date.now()-864e5),total:89.99,status:"shipped"}]);function xD(){const{data:s=[],isLoading:e}=Mn({queryKey:["admin-orders"],queryFn:wD}),t={pending:"outline",processing:"default",shipped:"default",delivered:"default",cancelled:"destructive"},r={pending:"En attente",processing:"En traitement",shipped:"Expdie",delivered:"Livre",cancelled:"Annule"};return e?o.jsx("div",{children:"Chargement des commandes..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Commandes"}),o.jsx("p",{className:"text-muted-foreground",children:"Grez les commandes et suivez les expditions"})]}),o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Commandes rcentes"})}),o.jsx(He,{children:o.jsxs($a,{children:[o.jsx(Ca,{children:o.jsxs(Wr,{children:[o.jsx(Ze,{children:"Commande"}),o.jsx(Ze,{children:"Client"}),o.jsx(Ze,{children:"Date"}),o.jsx(Ze,{children:"Montant"}),o.jsx(Ze,{children:"Statut"}),o.jsx(Ze,{className:"text-right",children:"Actions"})]})}),o.jsx(Oa,{children:s.map(n=>o.jsxs(Wr,{children:[o.jsx(et,{className:"font-medium",children:o.jsxs(me,{to:`/admin/orders/${n.id}`,className:"hover:underline",children:["#",n.orderNumber]})}),o.jsx(et,{children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:n.customerName}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n.customerEmail})]})}),o.jsx(et,{children:ra(new Date(n.createdAt),"PP",{locale:na})}),o.jsx(et,{children:Yt(n.total)}),o.jsx(et,{children:o.jsx(As,{variant:t[n.status]||"outline",children:r[n.status]||n.status})}),o.jsx(et,{className:"text-right",children:o.jsx(at,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(me,{to:`/admin/orders/${n.id}`,children:"Voir"})})})]},n.id))})]})})]})]})}const jD=async s=>(await new Promise(e=>setTimeout(e,500)),{id:s,orderNumber:`ORD-${s.padStart(3,"0")}`,customerEmail:"client@example.com",customerName:"Marie Dupont",createdAt:new Date,updatedAt:new Date,status:"processing",paymentStatus:"paid",subtotal:99.99,shipping:9.99,tax:21.99,total:131.97,shippingAddress:{name:"Marie Dupont",street:"123 Rue de la Paix",city:"Paris",postalCode:"75001",country:"France"},items:[{id:"1",name:"Hijab en soie",price:49.99,quantity:2,image:"/images/hijab-soie.jpg"}]});function SD(){const{id:s}=bl(),{data:e,isLoading:t,error:r}=Mn({queryKey:["admin-order",s],queryFn:()=>jD(s),enabled:!!s}),n={pending:"outline",processing:"default",shipped:"default",delivered:"default",cancelled:"destructive"},i={pending:"En attente",processing:"En traitement",shipped:"Expdie",delivered:"Livre",cancelled:"Annule"};return t?o.jsx("div",{children:"Chargement de la commande..."}):r||!e?o.jsx("div",{children:"Erreur lors du chargement de la commande"}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(at,{variant:"ghost",size:"icon",asChild:!0,children:o.jsx(me,{to:"/admin/orders",children:o.jsx(Wu,{className:"h-4 w-4"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Commande #",e.orderNumber]}),o.jsxs("p",{className:"text-muted-foreground",children:["Passe le ",ra(new Date(e.createdAt),"PP",{locale:na})]})]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[o.jsx("div",{className:"md:col-span-2 space-y-6",children:o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Articles commands"})}),o.jsxs(He,{children:[o.jsx("div",{className:"space-y-6",children:e.items.map(a=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-md overflow-hidden",children:o.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium",children:a.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantit: ",a.quantity]})]}),o.jsx("div",{className:"font-medium",children:Yt(a.price*a.quantity)})]},a.id))}),o.jsx("div",{className:"mt-6 border-t pt-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Sous-total"}),o.jsx("span",{children:Yt(e.subtotal)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Livraison"}),o.jsx("span",{children:Yt(e.shipping)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"TVA"}),o.jsx("span",{children:Yt(e.tax)})]}),o.jsxs("div",{className:"flex justify-between font-medium text-lg pt-2 border-t mt-2",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:Yt(e.total)})]})]})})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Statut de la commande"})}),o.jsxs(He,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Statut"}),o.jsx(As,{variant:n[e.status]||"outline",children:i[e.status]||e.status})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paiement"}),o.jsx(As,{variant:e.paymentStatus==="paid"?"default":"outline",children:e.paymentStatus==="paid"?"Pay":"En attente"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Dernire mise  jour"}),o.jsx("p",{children:ra(new Date(e.updatedAt),"PPpp",{locale:na})})]})]})]}),o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Adresse de livraison"})}),o.jsx(He,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{children:e.shippingAddress.name}),o.jsx("p",{children:e.shippingAddress.street}),o.jsxs("p",{children:[e.shippingAddress.postalCode," ",e.shippingAddress.city]}),o.jsx("p",{children:e.shippingAddress.country})]})})]})]})]})]})}const kD=[{id:"hijabs",name:"Hijabs",count:45},{id:"abayas",name:"Abayas",count:32},{id:"ensemble",name:"Ensemble",count:18},{id:"boxes-cadeau",name:"Boxes Cadeau",count:12}];function _D(){const[s,e]=_.useState(""),t=()=>{s.trim()&&(yr.success("Catgorie ajoute"),e(""))},r=n=>{window.confirm("tes-vous sr de vouloir supprimer cette catgorie ?")&&yr.success("Catgorie supprime")};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Catgories"}),o.jsx("p",{className:"text-muted-foreground",children:"Grez les catgories de produits"})]})}),o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Ajouter une catgorie"})}),o.jsx(He,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_t,{placeholder:"Nom de la catgorie",value:s,onChange:n=>e(n.target.value)}),o.jsxs(at,{onClick:t,children:[o.jsx(Ln,{className:"mr-2 h-4 w-4"}),"Ajouter"]})]})})]}),o.jsxs(ze,{children:[o.jsx(qe,{children:o.jsx(Je,{children:"Catgories existantes"})}),o.jsx(He,{children:o.jsx("div",{className:"space-y-2",children:kD.map(n=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(As,{variant:"outline",children:n.name}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.count," produit(s)"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(at,{variant:"ghost",size:"icon",children:o.jsx(Ol,{className:"h-4 w-4"})}),o.jsx(at,{variant:"ghost",size:"icon",onClick:()=>r(n.id),children:o.jsx(ua,{className:"h-4 w-4 text-red-500"})})]})]},n.id))})})]})]})}function $D(){const s=()=>{yr.success("Paramtres sauvegards")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Paramtres"}),o.jsx("p",{className:"text-muted-foreground",children:"Grez les paramtres de votre boutique"})]}),o.jsxs(ze,{children:[o.jsxs(qe,{children:[o.jsx(Je,{children:"Informations gnrales"}),o.jsx(Rr,{children:"Configurez les informations de base de votre boutique"})]}),o.jsxs(He,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{htmlFor:"store-name",children:"Nom de la boutique"}),o.jsx(_t,{id:"store-name",defaultValue:"Hijabi Inoor"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{htmlFor:"store-email",children:"Email de contact"}),o.jsx(_t,{id:"store-email",type:"email",defaultValue:"contact@hijabiinoor.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{htmlFor:"store-phone",children:"Tlphone"}),o.jsx(_t,{id:"store-phone",type:"tel",defaultValue:"+33 1 23 45 67 89"})]}),o.jsx(at,{onClick:s,children:"Sauvegarder"})]})]}),o.jsxs(ze,{children:[o.jsxs(qe,{children:[o.jsx(Je,{children:"Paramtres de livraison"}),o.jsx(Rr,{children:"Configurez les options de livraison"})]}),o.jsxs(He,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{htmlFor:"shipping-cost",children:"Cot de livraison standard"}),o.jsx(_t,{id:"shipping-cost",type:"number",defaultValue:"9.99"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{htmlFor:"free-shipping",children:"Seuil de livraison gratuite"}),o.jsx(_t,{id:"free-shipping",type:"number",defaultValue:"50"})]}),o.jsx(at,{onClick:s,children:"Sauvegarder"})]})]}),o.jsxs(ze,{children:[o.jsxs(qe,{children:[o.jsx(Je,{children:"Paramtres de paiement"}),o.jsx(Rr,{children:"Configurez les mthodes de paiement acceptes"})]}),o.jsxs(He,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Lt,{children:"Mthodes de paiement"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",defaultChecked:!0}),o.jsx("span",{children:"Carte bancaire"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",defaultChecked:!0}),o.jsx("span",{children:"PayPal"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox"}),o.jsx("span",{children:"Virement bancaire"})]})]})]}),o.jsx(at,{onClick:s,children:"Sauvegarder"})]})]})]})}function CD(){const{isCartOpen:s,isMobileMenuOpen:e,isSearchOpen:t,isNewsletterModalOpen:r,isLoading:n,loadingMessage:i,closeAllModals:a}=ds();return _.useEffect(()=>{const l=c=>{c.key==="Escape"&&a()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[a]),_.useEffect(()=>(s||e||t||r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s,e,t,r]),o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs(Fn,{children:[o.jsx("title",{children:"Hijabi Inoor - Premium Modest Fashion"}),o.jsx("meta",{name:"description",content:"Discover elegant abayas and hijabs designed for the modern Muslim woman. Premium quality, beautiful designs, and exceptional comfort."}),o.jsx("meta",{name:"keywords",content:"hijab, abaya, modest fashion, muslim clothing, islamic wear, hijabi, modest dress, premium hijabs"}),o.jsx("meta",{property:"og:title",content:"Hijabi Inoor - Premium Modest Fashion"}),o.jsx("meta",{property:"og:description",content:"Discover elegant abayas and hijabs designed for the modern Muslim woman. Premium quality, beautiful designs."}),o.jsx("meta",{property:"og:type",content:"website"}),o.jsx("meta",{property:"og:url",content:"https://hijabiinoor.com"}),o.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),o.jsx("meta",{name:"twitter:title",content:"Hijabi Inoor - Premium Modest Fashion"}),o.jsx("meta",{name:"twitter:description",content:"Discover elegant abayas and hijabs designed for the modern Muslim woman. Premium quality, beautiful designs."})]}),o.jsx(FR,{}),o.jsx(fR,{}),o.jsx("main",{className:"relative",children:o.jsx(er,{mode:"wait",children:o.jsxs(mu,{children:[o.jsx(Te,{path:"/",element:o.jsx(ER,{})}),o.jsx(Te,{path:"/products",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/products/:category",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/product/:id",element:o.jsx(AR,{})}),o.jsx(Te,{path:"/hijabs",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/abayas",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/dresses",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/ensemble",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/boxes-cadeau",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/coords",element:o.jsx(Ht,{})}),o.jsx(Te,{path:"/admin/login",element:o.jsx(AI,{})}),o.jsxs(Te,{path:"/admin",element:o.jsx(zR,{}),children:[o.jsx(Te,{index:!0,element:o.jsx(wl,{to:"dashboard",replace:!0})}),o.jsx(Te,{path:"dashboard",element:o.jsx(II,{})}),o.jsx(Te,{path:"products",element:o.jsx(FI,{})}),o.jsx(Te,{path:"orders",element:o.jsx(xD,{})}),o.jsx(Te,{path:"orders/:id",element:o.jsx(SD,{})}),o.jsx(Te,{path:"categories",element:o.jsx(_D,{})}),o.jsx(Te,{path:"settings",element:o.jsx($D,{})})]})]})})}),o.jsx(pR,{}),o.jsxs(er,{children:[s&&o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50",children:o.jsx(RR,{})}),e&&o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50",children:o.jsx(IR,{})}),t&&o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50",children:o.jsx(LR,{})}),r&&o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50",children:o.jsx(DR,{})})]}),o.jsx(er,{children:n&&o.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:o.jsx(MR,{message:i})})}),o.jsx(sc,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1F2937",color:"#F9FAFB",borderRadius:"12px",padding:"16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},success:{iconTheme:{primary:"#10B981",secondary:"#F9FAFB"}},error:{iconTheme:{primary:"#EF4444",secondary:"#F9FAFB"}}}})]})}const OD=new Sd({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});bi.createRoot(document.getElementById("root")).render(o.jsx(yt.StrictMode,{children:o.jsx(Kl,{children:o.jsx(kd,{client:OD,children:o.jsx(Am,{children:o.jsxs(gu,{children:[o.jsx(CD,{}),o.jsx(sc,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"12px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})})})}));
//# sourceMappingURL=index-CJ5cqd1Q.js.map
